{
  "statistics": {
    "detectionDate": "2025-10-15T06:27:21.933Z",
    "formats": {
      "typescript": {
        "sources": {
          "server/models/marketplace/RFQ.ts": {
            "lines": 58,
            "tokens": 649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/marketplace/Product.ts": {
            "lines": 102,
            "tokens": 1205,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/marketplace/Order.ts": {
            "lines": 106,
            "tokens": 996,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/marketplace/Category.ts": {
            "lines": 36,
            "tokens": 399,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/marketplace/AttributeSet.ts": {
            "lines": 44,
            "tokens": 415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/__tests__/Candidate.test.ts": {
            "lines": 270,
            "tokens": 2230,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/work-orders/wo.service.ts": {
            "lines": 101,
            "tokens": 1119,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 101,
            "percentage": 12.87,
            "percentageTokens": 9.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/work-orders/wo.service.test.ts": {
            "lines": 208,
            "tokens": 2551,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 160,
            "percentage": 5.77,
            "percentageTokens": 6.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/work-orders/wo.schema.ts": {
            "lines": 28,
            "tokens": 426,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/utils/tenant.ts": {
            "lines": 30,
            "tokens": 438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/utils/errorResponses.ts": {
            "lines": 166,
            "tokens": 1064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/security/rateLimit.ts": {
            "lines": 14,
            "tokens": 251,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/security/idempotency.ts": {
            "lines": 53,
            "tokens": 662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/security/idempotency.spec.ts": {
            "lines": 206,
            "tokens": 2235,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/security/headers.ts": {
            "lines": 96,
            "tokens": 759,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/rbac/workOrdersPolicy.ts": {
            "lines": 24,
            "tokens": 351,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/plugins/tenantIsolation.ts": {
            "lines": 172,
            "tokens": 1305,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 72,
            "duplicatedTokens": 540,
            "percentage": 41.86,
            "percentageTokens": 41.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/plugins/auditPlugin.ts": {
            "lines": 304,
            "tokens": 2712,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 178,
            "percentage": 7.24,
            "percentageTokens": 6.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/WorkOrder.ts": {
            "lines": 480,
            "tokens": 4146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Vendor.ts": {
            "lines": 208,
            "tokens": 1543,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 35,
            "duplicatedTokens": 384,
            "percentage": 16.83,
            "percentageTokens": 24.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/User.ts": {
            "lines": 228,
            "tokens": 1804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Tenant.ts": {
            "lines": 186,
            "tokens": 1378,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 200,
            "percentage": 11.83,
            "percentageTokens": 14.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/SupportTicket.ts": {
            "lines": 37,
            "tokens": 788,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/SubscriptionInvoice.ts": {
            "lines": 43,
            "tokens": 324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Subscription.ts": {
            "lines": 81,
            "tokens": 706,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/ServiceContract.ts": {
            "lines": 11,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/ServiceAgreement.ts": {
            "lines": 69,
            "tokens": 538,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/SearchSynonym.ts": {
            "lines": 12,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/SLA.ts": {
            "lines": 172,
            "tokens": 1316,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 85,
            "percentage": 3.49,
            "percentageTokens": 6.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/RFQ.ts": {
            "lines": 202,
            "tokens": 1573,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Property.ts": {
            "lines": 195,
            "tokens": 1424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Project.ts": {
            "lines": 241,
            "tokens": 1962,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 99,
            "percentage": 2.9,
            "percentageTokens": 5.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/PriceTier.ts": {
            "lines": 75,
            "tokens": 606,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/PriceBook.ts": {
            "lines": 49,
            "tokens": 546,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/PaymentMethod.ts": {
            "lines": 42,
            "tokens": 345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/OwnerStatement.ts": {
            "lines": 27,
            "tokens": 437,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/OwnerGroup.ts": {
            "lines": 27,
            "tokens": 263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Organization.ts": {
            "lines": 320,
            "tokens": 3548,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Module.ts": {
            "lines": 40,
            "tokens": 270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/MarketplaceProduct.ts": {
            "lines": 2,
            "tokens": 24,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Job.ts": {
            "lines": 72,
            "tokens": 1087,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Invoice.ts": {
            "lines": 189,
            "tokens": 1494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/HelpArticle.ts": {
            "lines": 23,
            "tokens": 368,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Employee.ts": {
            "lines": 24,
            "tokens": 368,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/DiscountRule.ts": {
            "lines": 27,
            "tokens": 219,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Customer.ts": {
            "lines": 64,
            "tokens": 621,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/CopilotKnowledge.ts": {
            "lines": 25,
            "tokens": 407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/CopilotAudit.ts": {
            "lines": 19,
            "tokens": 322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/CmsPage.ts": {
            "lines": 18,
            "tokens": 291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Candidate.ts": {
            "lines": 59,
            "tokens": 794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Benchmark.ts": {
            "lines": 29,
            "tokens": 272,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/AtsSettings.ts": {
            "lines": 79,
            "tokens": 961,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Asset.ts": {
            "lines": 162,
            "tokens": 1310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/models/Application.ts": {
            "lines": 115,
            "tokens": 1565,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/middleware/withAuthRbac.ts": {
            "lines": 61,
            "tokens": 621,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/hr/employeeStatus.ts": {
            "lines": 38,
            "tokens": 353,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/hr/employee.mapper.ts": {
            "lines": 13,
            "tokens": 209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/finance/invoice.service.ts": {
            "lines": 193,
            "tokens": 1986,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 101,
            "percentage": 6.74,
            "percentageTokens": 5.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/finance/invoice.schema.ts": {
            "lines": 21,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/db/client.ts": {
            "lines": 1,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/tools.ts": {
            "lines": 379,
            "tokens": 3830,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/session.ts": {
            "lines": 55,
            "tokens": 504,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/retrieval.ts": {
            "lines": 115,
            "tokens": 1301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/policy.ts": {
            "lines": 104,
            "tokens": 1058,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/llm.ts": {
            "lines": 71,
            "tokens": 677,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "server/copilot/audit.ts": {
            "lines": 32,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "utils/rbac.ts": {
            "lines": 38,
            "tokens": 514,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "utils/format.ts": {
            "lines": 12,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "utils/format.test.ts": {
            "lines": 120,
            "tokens": 1206,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "hooks/useScreenSize.ts": {
            "lines": 131,
            "tokens": 1051,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/utils/typeGuards.ts": {
            "lines": 28,
            "tokens": 112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/utils/timestamp.ts": {
            "lines": 171,
            "tokens": 1416,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/utils/role-formatter.ts": {
            "lines": 9,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/storage/s3.ts": {
            "lines": 33,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/qa/models.ts": {
            "lines": 12,
            "tokens": 134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs/subscription.ts": {
            "lines": 169,
            "tokens": 1342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs/index.ts": {
            "lines": 34,
            "tokens": 120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs/core.ts": {
            "lines": 263,
            "tokens": 1573,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 116,
            "duplicatedTokens": 826,
            "percentage": 44.11,
            "percentageTokens": 52.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs/config.ts": {
            "lines": 34,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs/callback.ts": {
            "lines": 53,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/payments/parseCartAmount.ts": {
            "lines": 44,
            "tokens": 648,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/payments/currencyUtils.ts": {
            "lines": 277,
            "tokens": 1988,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/models/index.ts": {
            "lines": 294,
            "tokens": 1963,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/serverFetch.ts": {
            "lines": 104,
            "tokens": 1060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/serializers.ts": {
            "lines": 75,
            "tokens": 1166,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/security.ts": {
            "lines": 148,
            "tokens": 1181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/search.ts": {
            "lines": 173,
            "tokens": 1349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/objectIds.ts": {
            "lines": 18,
            "tokens": 184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/correlation.ts": {
            "lines": 105,
            "tokens": 694,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/context.ts": {
            "lines": 89,
            "tokens": 1193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/cartClient.ts": {
            "lines": 56,
            "tokens": 587,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/marketplace/cart.ts": {
            "lines": 39,
            "tokens": 337,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/errors/secureErrorResponse.ts": {
            "lines": 104,
            "tokens": 461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/db/index.ts": {
            "lines": 135,
            "tokens": 1340,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 188,
            "percentage": 8.89,
            "percentageTokens": 14.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/db/collections.ts": {
            "lines": 117,
            "tokens": 1340,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/ats/scoring.ts": {
            "lines": 138,
            "tokens": 1374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/ats/scoring.test.ts": {
            "lines": 167,
            "tokens": 1465,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/zatca.ts": {
            "lines": 74,
            "tokens": 645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/utils.ts": {
            "lines": 25,
            "tokens": 279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/utils.test.ts": {
            "lines": 78,
            "tokens": 782,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/sla.ts": {
            "lines": 40,
            "tokens": 258,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/sla.spec.ts": {
            "lines": 107,
            "tokens": 1125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/regex.ts": {
            "lines": 2,
            "tokens": 31,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/rbac.ts": {
            "lines": 25,
            "tokens": 399,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/pricing.ts": {
            "lines": 231,
            "tokens": 1557,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs.ts": {
            "lines": 261,
            "tokens": 1955,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 116,
            "duplicatedTokens": 826,
            "percentage": 44.44,
            "percentageTokens": 42.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs.config.ts": {
            "lines": 22,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/mongoose-typed.ts": {
            "lines": 5,
            "tokens": 144,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/mongodb-unified.ts": {
            "lines": 114,
            "tokens": 689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/mongo.ts": {
            "lines": 144,
            "tokens": 1203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/markdown.ts": {
            "lines": 24,
            "tokens": 246,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/i18n.ts": {
            "lines": 172,
            "tokens": 1155,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/edge-auth-middleware.ts": {
            "lines": 123,
            "tokens": 1163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/database.ts": {
            "lines": 57,
            "tokens": 471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/aws-secrets.ts": {
            "lines": 78,
            "tokens": 655,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/authz.ts": {
            "lines": 33,
            "tokens": 313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/auth.ts": {
            "lines": 179,
            "tokens": 1505,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 190,
            "percentage": 6.7,
            "percentageTokens": 12.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/auth.test.ts": {
            "lines": 361,
            "tokens": 3508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/auth-middleware.ts": {
            "lines": 81,
            "tokens": 736,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/AutoFixManager.ts": {
            "lines": 391,
            "tokens": 3031,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/checklists/toggle/route.ts": {
            "lines": 43,
            "tokens": 454,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 23,
            "duplicatedTokens": 366,
            "percentage": 53.49,
            "percentageTokens": 80.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/attachments/presign/route.ts": {
            "lines": 28,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/tickets/[id]/reply/route.ts": {
            "lines": 65,
            "tokens": 718,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 118,
            "duplicatedTokens": 1615,
            "percentage": 181.54,
            "percentageTokens": 224.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/jobs/[id]/publish/route.ts": {
            "lines": 52,
            "tokens": 505,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 153,
            "percentage": 17.31,
            "percentageTokens": 30.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/jobs/[id]/apply/route.ts": {
            "lines": 239,
            "tokens": 2152,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 170,
            "percentage": 5.02,
            "percentageTokens": 7.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/billing/pricebooks/[id]/route.ts": {
            "lines": 50,
            "tokens": 234,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 96,
            "percentage": 12,
            "percentageTokens": 41.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/billing/benchmark/[id]/route.ts": {
            "lines": 42,
            "tokens": 234,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 96,
            "percentage": 14.29,
            "percentageTokens": 41.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/status/route.ts": {
            "lines": 70,
            "tokens": 729,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 282,
            "percentage": 25.71,
            "percentageTokens": 38.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/materials/route.ts": {
            "lines": 57,
            "tokens": 653,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 15,
            "duplicatedTokens": 282,
            "percentage": 26.32,
            "percentageTokens": 43.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/comments/route.ts": {
            "lines": 49,
            "tokens": 543,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 13,
            "duplicatedTokens": 184,
            "percentage": 26.53,
            "percentageTokens": 33.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/checklists/route.ts": {
            "lines": 46,
            "tokens": 513,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 190,
            "percentage": 21.74,
            "percentageTokens": 37.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/assign/route.ts": {
            "lines": 71,
            "tokens": 588,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 166,
            "percentage": 12.68,
            "percentageTokens": 28.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/tickets/my/route.ts": {
            "lines": 41,
            "tokens": 305,
            "sources": 1,
            "clones": 21,
            "duplicatedLines": 214,
            "duplicatedTokens": 2872,
            "percentage": 521.95,
            "percentageTokens": 941.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/tickets/[id]/route.ts": {
            "lines": 65,
            "tokens": 692,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 97,
            "percentage": 12.31,
            "percentageTokens": 14.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/rfqs/[id]/publish/route.ts": {
            "lines": 81,
            "tokens": 527,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 158,
            "percentage": 12.35,
            "percentageTokens": 29.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/rfqs/[id]/bids/route.ts": {
            "lines": 165,
            "tokens": 1559,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 124,
            "duplicatedTokens": 1794,
            "percentage": 75.15,
            "percentageTokens": 115.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/payments/paytabs/callback/route.ts": {
            "lines": 86,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/owners/groups/assign-primary/route.ts": {
            "lines": 82,
            "tokens": 718,
            "sources": 1,
            "clones": 35,
            "duplicatedLines": 345,
            "duplicatedTokens": 4603,
            "percentage": 420.73,
            "percentageTokens": 641.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/vendor/products/route.ts": {
            "lines": 337,
            "tokens": 1405,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/products/[slug]/route.ts": {
            "lines": 56,
            "tokens": 390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/products/[slug]/route.test.ts": {
            "lines": 188,
            "tokens": 2182,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 162,
            "percentage": 6.38,
            "percentageTokens": 7.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/integrations/linkedin/apply/route.ts": {
            "lines": 92,
            "tokens": 899,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 121,
            "percentage": 9.78,
            "percentageTokens": 13.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/help/articles/[id]/route.ts": {
            "lines": 82,
            "tokens": 981,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/finance/invoices/[id]/route.ts": {
            "lines": 44,
            "tokens": 576,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 126,
            "percentage": 27.27,
            "percentageTokens": 21.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/files/resumes/presign/route.ts": {
            "lines": 48,
            "tokens": 515,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 121,
            "percentage": 18.75,
            "percentageTokens": 23.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/files/resumes/[file]/route.ts": {
            "lines": 136,
            "tokens": 1894,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 679,
            "percentage": 27.94,
            "percentageTokens": 35.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/cms/pages/[slug]/route.ts": {
            "lines": 57,
            "tokens": 554,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/billing/callback/paytabs/route.ts": {
            "lines": 67,
            "tokens": 713,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 126,
            "percentage": 13.43,
            "percentageTokens": 17.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/applications/[id]/route.ts": {
            "lines": 85,
            "tokens": 1009,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 249,
            "percentage": 18.82,
            "percentageTokens": 24.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/billing/pricebooks/route.ts": {
            "lines": 40,
            "tokens": 268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/billing/benchmark/route.ts": {
            "lines": 38,
            "tokens": 256,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 117,
            "percentage": 21.05,
            "percentageTokens": 45.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/billing/annual-discount/route.ts": {
            "lines": 46,
            "tokens": 188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/import/route.ts": {
            "lines": 102,
            "tokens": 882,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/export/route.ts": {
            "lines": 64,
            "tokens": 490,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/[id]/route.ts": {
            "lines": 71,
            "tokens": 716,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 96,
            "percentage": 7.04,
            "percentageTokens": 13.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/vendors/[id]/route.ts": {
            "lines": 149,
            "tokens": 1599,
            "sources": 1,
            "clones": 21,
            "duplicatedLines": 289,
            "duplicatedTokens": 3333,
            "percentage": 193.96,
            "percentageTokens": 208.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/tenants/[id]/route.ts": {
            "lines": 167,
            "tokens": 1789,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 158,
            "duplicatedTokens": 1596,
            "percentage": 94.61,
            "percentageTokens": 89.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/welcome-email/route.ts": {
            "lines": 295,
            "tokens": 1949,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 17,
            "duplicatedTokens": 241,
            "percentage": 5.76,
            "percentageTokens": 12.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/tickets/route.ts": {
            "lines": 118,
            "tokens": 1488,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 19,
            "duplicatedTokens": 261,
            "percentage": 16.1,
            "percentageTokens": 17.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/support/incidents/route.ts": {
            "lines": 189,
            "tokens": 2188,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 4.23,
            "percentageTokens": 5.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/subscribe/owner/route.ts": {
            "lines": 138,
            "tokens": 633,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 123,
            "duplicatedTokens": 329,
            "percentage": 89.13,
            "percentageTokens": 51.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/subscribe/corporate/route.ts": {
            "lines": 158,
            "tokens": 641,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 125,
            "duplicatedTokens": 343,
            "percentage": 79.11,
            "percentageTokens": 53.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/qa/reconnect/route.ts": {
            "lines": 51,
            "tokens": 336,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 121,
            "percentage": 17.65,
            "percentageTokens": 36.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/qa/log/route.ts": {
            "lines": 90,
            "tokens": 830,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 67,
            "duplicatedTokens": 745,
            "percentage": 74.44,
            "percentageTokens": 89.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/qa/health/route.ts": {
            "lines": 110,
            "tokens": 931,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 64,
            "duplicatedTokens": 668,
            "percentage": 58.18,
            "percentageTokens": 71.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/qa/alert/route.ts": {
            "lines": 77,
            "tokens": 664,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 294,
            "percentage": 32.47,
            "percentageTokens": 44.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/public/rfqs/route.ts": {
            "lines": 182,
            "tokens": 1823,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 132,
            "percentage": 6.04,
            "percentageTokens": 7.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/public/rfqs/route.test.ts": {
            "lines": 329,
            "tokens": 3031,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 204,
            "percentage": 6.08,
            "percentageTokens": 6.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/properties/[id]/route.ts": {
            "lines": 165,
            "tokens": 1785,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 131,
            "duplicatedTokens": 1302,
            "percentage": 79.39,
            "percentageTokens": 72.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/projects/[id]/route.ts": {
            "lines": 138,
            "tokens": 1436,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 42,
            "duplicatedTokens": 517,
            "percentage": 30.43,
            "percentageTokens": 36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/paytabs/return/route.ts": {
            "lines": 39,
            "tokens": 336,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 20.51,
            "percentageTokens": 35.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/paytabs/callback/route.ts": {
            "lines": 43,
            "tokens": 299,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 18.6,
            "percentageTokens": 39.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/payments/paytabs/route.ts": {
            "lines": 117,
            "tokens": 927,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/payments/create/route.ts": {
            "lines": 162,
            "tokens": 918,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/payments/callback/route.ts": {
            "lines": 122,
            "tokens": 1108,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 122,
            "percentage": 7.38,
            "percentageTokens": 11.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/notifications/bulk/route.ts": {
            "lines": 77,
            "tokens": 901,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 116,
            "percentage": 10.39,
            "percentageTokens": 12.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/notifications/[id]/route.ts": {
            "lines": 104,
            "tokens": 1453,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 41,
            "duplicatedTokens": 575,
            "percentage": 39.42,
            "percentageTokens": 39.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/search/route.ts": {
            "lines": 100,
            "tokens": 961,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/search/route.test.ts": {
            "lines": 205,
            "tokens": 1912,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/rfq/route.ts": {
            "lines": 225,
            "tokens": 955,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 225,
            "duplicatedTokens": 955,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/rfq/route.FIXED.ts": {
            "lines": 225,
            "tokens": 955,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 225,
            "duplicatedTokens": 955,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/products/route.ts": {
            "lines": 139,
            "tokens": 1721,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 330,
            "percentage": 18.71,
            "percentageTokens": 19.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/orders/route.ts": {
            "lines": 67,
            "tokens": 523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/checkout/route.ts": {
            "lines": 93,
            "tokens": 686,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/categories/route.ts": {
            "lines": 66,
            "tokens": 531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/categories/route.test.ts": {
            "lines": 173,
            "tokens": 2395,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 44,
            "duplicatedTokens": 586,
            "percentage": 25.43,
            "percentageTokens": 24.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/marketplace/cart/route.ts": {
            "lines": 118,
            "tokens": 1122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/kb/search/route.ts": {
            "lines": 150,
            "tokens": 1622,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 229,
            "percentage": 9.33,
            "percentageTokens": 14.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/kb/ingest/route.ts": {
            "lines": 80,
            "tokens": 898,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 344,
            "percentage": 28.75,
            "percentageTokens": 38.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/invoices/[id]/route.ts": {
            "lines": 250,
            "tokens": 2410,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 44,
            "duplicatedTokens": 537,
            "percentage": 17.6,
            "percentageTokens": 22.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/help/ask/route.ts": {
            "lines": 339,
            "tokens": 3826,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 15,
            "duplicatedTokens": 254,
            "percentage": 4.42,
            "percentageTokens": 6.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/help/articles/route.ts": {
            "lines": 174,
            "tokens": 1833,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 27,
            "duplicatedTokens": 358,
            "percentage": 15.52,
            "percentageTokens": 19.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/health/database/route.ts": {
            "lines": 87,
            "tokens": 574,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/finance/invoices/route.ts": {
            "lines": 154,
            "tokens": 1549,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 96,
            "duplicatedTokens": 984,
            "percentage": 62.34,
            "percentageTokens": 63.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/feeds/linkedin/route.ts": {
            "lines": 69,
            "tokens": 449,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 89,
            "percentage": 10.14,
            "percentageTokens": 19.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/feeds/indeed/route.ts": {
            "lines": 102,
            "tokens": 674,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 89,
            "percentage": 6.86,
            "percentageTokens": 13.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/copilot/profile/route.ts": {
            "lines": 84,
            "tokens": 690,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 9.52,
            "percentageTokens": 17.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/copilot/knowledge/route.ts": {
            "lines": 69,
            "tokens": 589,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 11.59,
            "percentageTokens": 20.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/copilot/chat/route.ts": {
            "lines": 193,
            "tokens": 2110,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 134,
            "percentage": 5.18,
            "percentageTokens": 6.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/checkout/session/route.ts": {
            "lines": 66,
            "tokens": 560,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 27,
            "duplicatedTokens": 302,
            "percentage": 40.91,
            "percentageTokens": 53.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/checkout/quote/route.ts": {
            "lines": 54,
            "tokens": 429,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 141,
            "percentage": 20.37,
            "percentageTokens": 32.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/checkout/complete/route.ts": {
            "lines": 76,
            "tokens": 438,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 121,
            "percentage": 17.11,
            "percentageTokens": 27.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/careers/apply/route.ts": {
            "lines": 208,
            "tokens": 1486,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 123,
            "percentage": 4.33,
            "percentageTokens": 8.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/billing/subscribe/route.ts": {
            "lines": 155,
            "tokens": 1652,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 274,
            "percentage": 16.77,
            "percentageTokens": 16.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/billing/quote/route.ts": {
            "lines": 34,
            "tokens": 223,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 118,
            "percentage": 23.53,
            "percentageTokens": 52.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/billing/charge-recurring/route.ts": {
            "lines": 67,
            "tokens": 773,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 116,
            "percentage": 11.94,
            "percentageTokens": 15.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/benchmarks/compare/route.ts": {
            "lines": 72,
            "tokens": 713,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 131,
            "percentage": 13.89,
            "percentageTokens": 18.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/auth/signup/route.ts": {
            "lines": 129,
            "tokens": 962,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/auth/me/route.ts": {
            "lines": 98,
            "tokens": 487,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/auth/logout/route.ts": {
            "lines": 59,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/auth/login/route.ts": {
            "lines": 98,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/public-post/route.ts": {
            "lines": 105,
            "tokens": 1190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 135,
            "percentage": 9.52,
            "percentageTokens": 11.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/moderation/route.ts": {
            "lines": 61,
            "tokens": 553,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 25,
            "duplicatedTokens": 341,
            "percentage": 40.98,
            "percentageTokens": 61.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/jobs/route.ts": {
            "lines": 115,
            "tokens": 1299,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 400,
            "percentage": 26.96,
            "percentageTokens": 30.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/ats/convert-to-employee/route.ts": {
            "lines": 86,
            "tokens": 922,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 146,
            "percentage": 13.95,
            "percentageTokens": 15.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/assistant/query/route.ts": {
            "lines": 235,
            "tokens": 1979,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 128,
            "percentage": 3.83,
            "percentageTokens": 6.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/assets/[id]/route.ts": {
            "lines": 195,
            "tokens": 1792,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 130,
            "duplicatedTokens": 1242,
            "percentage": 66.67,
            "percentageTokens": 69.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/aqar/properties/route.ts": {
            "lines": 108,
            "tokens": 1267,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 121,
            "percentage": 8.33,
            "percentageTokens": 9.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/aqar/map/route.ts": {
            "lines": 109,
            "tokens": 1128,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 152,
            "percentage": 11.93,
            "percentageTokens": 13.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/price-tiers/route.ts": {
            "lines": 140,
            "tokens": 1339,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 76,
            "duplicatedTokens": 596,
            "percentage": 54.29,
            "percentageTokens": 44.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/admin/discounts/route.ts": {
            "lines": 119,
            "tokens": 1277,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 75,
            "duplicatedTokens": 715,
            "percentage": 63.03,
            "percentageTokens": 55.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/work-orders/route.ts": {
            "lines": 179,
            "tokens": 1816,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 61,
            "duplicatedTokens": 823,
            "percentage": 34.08,
            "percentageTokens": 45.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/vendors/route.ts": {
            "lines": 173,
            "tokens": 1805,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 257,
            "duplicatedTokens": 2892,
            "percentage": 148.55,
            "percentageTokens": 160.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/tenants/route.ts": {
            "lines": 171,
            "tokens": 1741,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 138,
            "duplicatedTokens": 1448,
            "percentage": 80.7,
            "percentageTokens": 83.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/slas/route.ts": {
            "lines": 219,
            "tokens": 2378,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 50,
            "duplicatedTokens": 596,
            "percentage": 22.83,
            "percentageTokens": 25.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/search/route.ts": {
            "lines": 234,
            "tokens": 2122,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 123,
            "percentage": 3.85,
            "percentageTokens": 5.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/search/queryHelpers.ts": {
            "lines": 42,
            "tokens": 460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/rfqs/route.ts": {
            "lines": 199,
            "tokens": 1930,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 43,
            "duplicatedTokens": 503,
            "percentage": 21.61,
            "percentageTokens": 26.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/properties/route.ts": {
            "lines": 193,
            "tokens": 2056,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 120,
            "duplicatedTokens": 1238,
            "percentage": 62.18,
            "percentageTokens": 60.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/projects/route.ts": {
            "lines": 167,
            "tokens": 1564,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 68,
            "duplicatedTokens": 775,
            "percentage": 40.72,
            "percentageTokens": 49.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/notifications/route.ts": {
            "lines": 129,
            "tokens": 1465,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 30,
            "duplicatedTokens": 339,
            "percentage": 23.26,
            "percentageTokens": 23.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/invoices/route.ts": {
            "lines": 269,
            "tokens": 2678,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 971,
            "percentage": 33.83,
            "percentageTokens": 36.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/i18n/route.ts": {
            "lines": 48,
            "tokens": 301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/contracts/route.ts": {
            "lines": 98,
            "tokens": 848,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 167,
            "percentage": 12.24,
            "percentageTokens": 19.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/api/assets/route.ts": {
            "lines": 189,
            "tokens": 2118,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 142,
            "duplicatedTokens": 1629,
            "percentage": 75.13,
            "percentageTokens": 76.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test/api_help_articles_route.test.ts": {
            "lines": 277,
            "tokens": 2974,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 148,
            "percentage": 3.61,
            "percentageTokens": 4.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 26613,
          "tokens": 243223,
          "sources": 236,
          "clones": 181,
          "duplicatedLines": 2505,
          "duplicatedTokens": 26543,
          "percentage": 9.41,
          "percentageTokens": 10.91,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "contexts/TranslationContext.test.tsx": {
            "lines": 172,
            "tokens": 1491,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/TopBarContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/ThemeContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/ResponsiveContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/CurrencyContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "hooks/useUnsavedChanges.tsx": {
            "lines": 56,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "lib/paytabs.js": {
            "lines": 179,
            "tokens": 1391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/fm/__tests__/WorkOrdersView.test.tsx": {
            "lines": 0,
            "tokens": 23,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/textarea.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/tabs.tsx": {
            "lines": 55,
            "tokens": 396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/switch.tsx": {
            "lines": 10,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/separator.tsx": {
            "lines": 0,
            "tokens": 14,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/select.tsx": {
            "lines": 20,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/label.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/input.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/dialog.tsx": {
            "lines": 42,
            "tokens": 351,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/card.tsx": {
            "lines": 27,
            "tokens": 217,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/button.tsx": {
            "lines": 0,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/badge.tsx": {
            "lines": 0,
            "tokens": 14,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/ResponsiveContainer.tsx": {
            "lines": 146,
            "tokens": 1199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/QuickActions.tsx": {
            "lines": 16,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/GlobalSearch.tsx": {
            "lines": 30,
            "tokens": 300,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/AppSwitcher.tsx": {
            "lines": 34,
            "tokens": 363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/VendorCatalogueManager.tsx": {
            "lines": 61,
            "tokens": 526,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 180,
            "percentage": 37.7,
            "percentageTokens": 34.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/RFQBoard.tsx": {
            "lines": 114,
            "tokens": 989,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 23,
            "duplicatedTokens": 180,
            "percentage": 20.18,
            "percentageTokens": 18.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/ProductCard.tsx": {
            "lines": 45,
            "tokens": 605,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/PDPBuyBox.tsx": {
            "lines": 55,
            "tokens": 537,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/Facets.tsx": {
            "lines": 76,
            "tokens": 577,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CheckoutForm.tsx": {
            "lines": 57,
            "tokens": 516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CatalogView.tsx": {
            "lines": 149,
            "tokens": 1357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CatalogView.test.tsx": {
            "lines": 0,
            "tokens": 10,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/i18n/LanguageSelector.tsx": {
            "lines": 58,
            "tokens": 528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/i18n/CurrencySelector.tsx": {
            "lines": 84,
            "tokens": 983,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/fm/WorkOrdersView.tsx": {
            "lines": 305,
            "tokens": 2926,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/TopBar.tsx": {
            "lines": 146,
            "tokens": 1513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/SystemVerifier.tsx": {
            "lines": 231,
            "tokens": 1977,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/SupportPopup.tsx": {
            "lines": 181,
            "tokens": 1513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/Sidebar.tsx": {
            "lines": 85,
            "tokens": 998,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ResponsiveLayout.tsx": {
            "lines": 156,
            "tokens": 1141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/LoginPrompt.tsx": {
            "lines": 34,
            "tokens": 223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/HelpWidget.tsx": {
            "lines": 67,
            "tokens": 510,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/GoogleMap.tsx": {
            "lines": 6,
            "tokens": 56,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/Footer.tsx": {
            "lines": 51,
            "tokens": 717,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/FlagIcon.tsx": {
            "lines": 19,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ErrorTest.tsx": {
            "lines": 43,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ErrorBoundary.tsx": {
            "lines": 150,
            "tokens": 1290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/CopilotWidget.tsx": {
            "lines": 389,
            "tokens": 5218,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 358,
            "percentage": 5.14,
            "percentageTokens": 6.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ClientLayout.tsx": {
            "lines": 27,
            "tokens": 268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/AIChat.tsx": {
            "lines": 69,
            "tokens": 545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/hr/ats/jobs/new/page.tsx": {
            "lines": 15,
            "tokens": 480,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/[id]/parts/page.tsx": {
            "lines": 88,
            "tokens": 798,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/product/[slug]/__tests__/page.spec.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/product/[slug]/page.tsx": {
            "lines": 97,
            "tokens": 1073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/tutorial/getting-started/page.tsx": {
            "lines": 120,
            "tokens": 1020,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/support/tickets/page.tsx": {
            "lines": 65,
            "tokens": 667,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/properties/[id]/page.tsx": {
            "lines": 156,
            "tokens": 1475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/payments/new/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/invoices/new/page.tsx": {
            "lines": 67,
            "tokens": 476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/expenses/new/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/budgets/new/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/pm/page.tsx": {
            "lines": 8,
            "tokens": 156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/new/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/history/page.tsx": {
            "lines": 15,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/board/page.tsx": {
            "lines": 55,
            "tokens": 663,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/approvals/page.tsx": {
            "lines": 72,
            "tokens": 832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/vendor/dashboard/page.tsx": {
            "lines": 39,
            "tokens": 455,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/support/my-tickets/page.tsx": {
            "lines": 111,
            "tokens": 985,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/catalog/page.tsx": {
            "lines": 113,
            "tokens": 948,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/units/page.tsx": {
            "lines": 13,
            "tokens": 204,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/leases/page.tsx": {
            "lines": 40,
            "tokens": 489,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/inspections/page.tsx": {
            "lines": 56,
            "tokens": 619,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/documents/page.tsx": {
            "lines": 21,
            "tokens": 284,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/[id]/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/product/[slug]/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/vendor/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/search/page.tsx": {
            "lines": 18,
            "tokens": 161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/rfq/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/rfq/page.test.tsx": {
            "lines": 44,
            "tokens": 874,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/orders/page.tsx": {
            "lines": 19,
            "tokens": 284,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/checkout/page.tsx": {
            "lines": 6,
            "tokens": 101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/cart/page.tsx": {
            "lines": 14,
            "tokens": 150,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/admin/page.tsx": {
            "lines": 27,
            "tokens": 323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/support-ticket/page.tsx": {
            "lines": 154,
            "tokens": 1095,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/ai-chat/page.tsx": {
            "lines": 62,
            "tokens": 507,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/[slug]/page.tsx": {
            "lines": 19,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/vendors/page.tsx": {
            "lines": 271,
            "tokens": 2511,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 795,
            "duplicatedTokens": 7293,
            "percentage": 293.36,
            "percentageTokens": 290.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/tenants/page.tsx": {
            "lines": 266,
            "tokens": 2364,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 353,
            "duplicatedTokens": 3110,
            "percentage": 132.71,
            "percentageTokens": 131.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/support/page.tsx": {
            "lines": 4,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/rfqs/page.tsx": {
            "lines": 334,
            "tokens": 3167,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 31,
            "duplicatedTokens": 265,
            "percentage": 9.28,
            "percentageTokens": 8.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/properties/page.tsx": {
            "lines": 292,
            "tokens": 2728,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 205,
            "duplicatedTokens": 1878,
            "percentage": 70.21,
            "percentageTokens": 68.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/projects/page.tsx": {
            "lines": 288,
            "tokens": 2767,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 213,
            "duplicatedTokens": 2054,
            "percentage": 73.96,
            "percentageTokens": 74.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/orders/page.tsx": {
            "lines": 127,
            "tokens": 1338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/marketplace/page.tsx": {
            "lines": 6,
            "tokens": 43,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/maintenance/page.tsx": {
            "lines": 8,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/invoices/page.tsx": {
            "lines": 551,
            "tokens": 5135,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 111,
            "duplicatedTokens": 1066,
            "percentage": 20.15,
            "percentageTokens": 20.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/dashboard/page.tsx": {
            "lines": 38,
            "tokens": 385,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/assets/page.tsx": {
            "lines": 377,
            "tokens": 3592,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 182,
            "duplicatedTokens": 1658,
            "percentage": 48.28,
            "percentageTokens": 46.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/cms/[slug]/page.tsx": {
            "lines": 0,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/careers/[slug]/page.tsx": {
            "lines": 24,
            "tokens": 424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/properties/page.tsx": {
            "lines": 30,
            "tokens": 391,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/admin/cms/page.tsx": {
            "lines": 7,
            "tokens": 200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test-rtl/page.tsx": {
            "lines": 40,
            "tokens": 423,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/page.tsx": {
            "lines": 1,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/signup/page.tsx": {
            "lines": 330,
            "tokens": 2689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/settings/page.tsx": {
            "lines": 9,
            "tokens": 102,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/reports/page.tsx": {
            "lines": 96,
            "tokens": 1475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/profile/page.tsx": {
            "lines": 58,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/notifications/page.tsx": {
            "lines": 302,
            "tokens": 2568,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/page.tsx": {
            "lines": 26,
            "tokens": 291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/layout.tsx": {
            "lines": 0,
            "tokens": 10,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/login/page.tsx": {
            "lines": 332,
            "tokens": 3191,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 114,
            "duplicatedTokens": 1182,
            "percentage": 34.34,
            "percentageTokens": 37.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/page.tsx": {
            "lines": 255,
            "tokens": 2090,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/forgot-password/page.tsx": {
            "lines": 59,
            "tokens": 474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/page.tsx": {
            "lines": 308,
            "tokens": 3191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/page.tsx": {
            "lines": 125,
            "tokens": 1829,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/dashboard/page.tsx": {
            "lines": 47,
            "tokens": 512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/careers/page.tsx": {
            "lines": 342,
            "tokens": 3185,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/page.tsx": {
            "lines": 1,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/not-found.tsx": {
            "lines": 24,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 9937,
          "tokens": 95932,
          "sources": 119,
          "clones": 14,
          "duplicatedLines": 1035,
          "duplicatedTokens": 9612,
          "percentage": 10.42,
          "percentageTokens": 10.02,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "contexts/TranslationContext.test.tsx": {
            "lines": 230,
            "tokens": 1998,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 160,
            "percentage": 4.35,
            "percentageTokens": 8.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/TopBarContext.tsx": {
            "lines": 70,
            "tokens": 604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/ThemeContext.tsx": {
            "lines": 25,
            "tokens": 370,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/ResponsiveContext.tsx": {
            "lines": 87,
            "tokens": 585,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "contexts/CurrencyContext.tsx": {
            "lines": 155,
            "tokens": 1529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "hooks/useUnsavedChanges.tsx": {
            "lines": 241,
            "tokens": 1766,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 220,
            "percentage": 9.96,
            "percentageTokens": 12.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/fm/__tests__/WorkOrdersView.test.tsx": {
            "lines": 389,
            "tokens": 4289,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 42,
            "duplicatedTokens": 436,
            "percentage": 10.8,
            "percentageTokens": 10.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/textarea.tsx": {
            "lines": 11,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/tabs.tsx": {
            "lines": 89,
            "tokens": 671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/switch.tsx": {
            "lines": 37,
            "tokens": 247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/separator.tsx": {
            "lines": 22,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/select.tsx": {
            "lines": 67,
            "tokens": 549,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/label.tsx": {
            "lines": 11,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/input.tsx": {
            "lines": 11,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/dialog.tsx": {
            "lines": 66,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/card.tsx": {
            "lines": 41,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/button.tsx": {
            "lines": 39,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/badge.tsx": {
            "lines": 24,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ui/ResponsiveContainer.tsx": {
            "lines": 199,
            "tokens": 1624,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/QuickActions.tsx": {
            "lines": 46,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/GlobalSearch.tsx": {
            "lines": 157,
            "tokens": 1442,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/topbar/AppSwitcher.tsx": {
            "lines": 80,
            "tokens": 791,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/VendorCatalogueManager.tsx": {
            "lines": 150,
            "tokens": 1467,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 83,
            "percentage": 6,
            "percentageTokens": 5.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/SearchFiltersPanel.tsx": {
            "lines": 52,
            "tokens": 571,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/RFQBoard.tsx": {
            "lines": 213,
            "tokens": 1901,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 83,
            "percentage": 4.23,
            "percentageTokens": 4.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/ProductCard.tsx": {
            "lines": 118,
            "tokens": 1369,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 19,
            "duplicatedTokens": 188,
            "percentage": 16.1,
            "percentageTokens": 13.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/PDPBuyBox.tsx": {
            "lines": 129,
            "tokens": 1440,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 19,
            "duplicatedTokens": 188,
            "percentage": 14.73,
            "percentageTokens": 13.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/Facets.tsx": {
            "lines": 117,
            "tokens": 935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CheckoutForm.tsx": {
            "lines": 114,
            "tokens": 1009,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CatalogView.tsx": {
            "lines": 351,
            "tokens": 3236,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/marketplace/CatalogView.test.tsx": {
            "lines": 382,
            "tokens": 3538,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 172,
            "percentage": 3.14,
            "percentageTokens": 4.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/i18n/LanguageSelector.tsx": {
            "lines": 150,
            "tokens": 1367,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 97,
            "percentage": 8,
            "percentageTokens": 7.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/i18n/CurrencySelector.tsx": {
            "lines": 207,
            "tokens": 2098,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 97,
            "percentage": 5.8,
            "percentageTokens": 4.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/fm/WorkOrdersView.tsx": {
            "lines": 476,
            "tokens": 4700,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/TopBar.tsx": {
            "lines": 371,
            "tokens": 3292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/SystemVerifier.tsx": {
            "lines": 321,
            "tokens": 2771,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/SupportPopup.tsx": {
            "lines": 367,
            "tokens": 2942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/Sidebar.tsx": {
            "lines": 241,
            "tokens": 3071,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ResponsiveLayout.tsx": {
            "lines": 197,
            "tokens": 1469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/PreferenceBroadcast.tsx": {
            "lines": 50,
            "tokens": 387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/LoginPrompt.tsx": {
            "lines": 145,
            "tokens": 1247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/HelpWidget.tsx": {
            "lines": 143,
            "tokens": 1168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/GoogleMap.tsx": {
            "lines": 131,
            "tokens": 1116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/Footer.tsx": {
            "lines": 83,
            "tokens": 901,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/FlagIcon.tsx": {
            "lines": 53,
            "tokens": 521,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/FlagIcon.accessibility.test.tsx": {
            "lines": 131,
            "tokens": 1777,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 142,
            "percentage": 10.69,
            "percentageTokens": 7.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ErrorTest.tsx": {
            "lines": 148,
            "tokens": 1086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ErrorBoundary.tsx": {
            "lines": 649,
            "tokens": 5257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/CopilotWidget.tsx": {
            "lines": 523,
            "tokens": 6435,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/ClientLayout.tsx": {
            "lines": 122,
            "tokens": 1075,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/AutoIncidentReporter.tsx": {
            "lines": 58,
            "tokens": 1036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/AutoFixInitializer.tsx": {
            "lines": 33,
            "tokens": 241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "components/AIChat.tsx": {
            "lines": 195,
            "tokens": 1724,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 39,
            "duplicatedTokens": 332,
            "percentage": 20,
            "percentageTokens": 19.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/hr/ats/jobs/new/page.tsx": {
            "lines": 81,
            "tokens": 1164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/[id]/parts/page.tsx": {
            "lines": 222,
            "tokens": 1967,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/product/[slug]/__tests__/page.spec.tsx": {
            "lines": 184,
            "tokens": 2016,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/product/[slug]/page.tsx": {
            "lines": 166,
            "tokens": 1745,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/tutorial/getting-started/page.tsx": {
            "lines": 597,
            "tokens": 1840,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/support/tickets/page.tsx": {
            "lines": 147,
            "tokens": 1376,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 22,
            "duplicatedTokens": 241,
            "percentage": 14.97,
            "percentageTokens": 17.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/properties/[id]/page.tsx": {
            "lines": 344,
            "tokens": 3209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/payments/new/page.tsx": {
            "lines": 243,
            "tokens": 2130,
            "sources": 1,
            "clones": 15,
            "duplicatedLines": 169,
            "duplicatedTokens": 1513,
            "percentage": 69.55,
            "percentageTokens": 71.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/invoices/new/page.tsx": {
            "lines": 237,
            "tokens": 1957,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 54,
            "duplicatedTokens": 504,
            "percentage": 22.78,
            "percentageTokens": 25.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/expenses/new/page.tsx": {
            "lines": 266,
            "tokens": 2323,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 98,
            "duplicatedTokens": 868,
            "percentage": 36.84,
            "percentageTokens": 37.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/budgets/new/page.tsx": {
            "lines": 297,
            "tokens": 2553,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 53,
            "duplicatedTokens": 464,
            "percentage": 17.85,
            "percentageTokens": 18.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/pm/page.tsx": {
            "lines": 198,
            "tokens": 1862,
            "sources": 1,
            "clones": 27,
            "duplicatedLines": 284,
            "duplicatedTokens": 2464,
            "percentage": 143.43,
            "percentageTokens": 132.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/new/page.tsx": {
            "lines": 169,
            "tokens": 1477,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 313,
            "percentage": 20.12,
            "percentageTokens": 21.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/history/page.tsx": {
            "lines": 231,
            "tokens": 2168,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 166,
            "duplicatedTokens": 1449,
            "percentage": 71.86,
            "percentageTokens": 66.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/board/page.tsx": {
            "lines": 186,
            "tokens": 1845,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 110,
            "duplicatedTokens": 1176,
            "percentage": 59.14,
            "percentageTokens": 63.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/approvals/page.tsx": {
            "lines": 262,
            "tokens": 2414,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 84,
            "duplicatedTokens": 779,
            "percentage": 32.06,
            "percentageTokens": 32.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/vendor/dashboard/page.tsx": {
            "lines": 172,
            "tokens": 1656,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/support/my-tickets/page.tsx": {
            "lines": 197,
            "tokens": 1703,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/vendors/page.tsx": {
            "lines": 91,
            "tokens": 741,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 202,
            "percentage": 28.57,
            "percentageTokens": 27.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/catalog/page.tsx": {
            "lines": 315,
            "tokens": 2588,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/units/page.tsx": {
            "lines": 249,
            "tokens": 2315,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 84,
            "duplicatedTokens": 750,
            "percentage": 33.73,
            "percentageTokens": 32.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/leases/page.tsx": {
            "lines": 284,
            "tokens": 2694,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 123,
            "duplicatedTokens": 1131,
            "percentage": 43.31,
            "percentageTokens": 41.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/inspections/page.tsx": {
            "lines": 296,
            "tokens": 2784,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 126,
            "duplicatedTokens": 1166,
            "percentage": 42.57,
            "percentageTokens": 41.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/documents/page.tsx": {
            "lines": 339,
            "tokens": 3182,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 114,
            "duplicatedTokens": 1050,
            "percentage": 33.63,
            "percentageTokens": 33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/[id]/page.tsx": {
            "lines": 137,
            "tokens": 1201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/product/[slug]/page.tsx": {
            "lines": 66,
            "tokens": 958,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/vendor/page.tsx": {
            "lines": 38,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/search/page.tsx": {
            "lines": 104,
            "tokens": 1065,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 123,
            "percentage": 18.27,
            "percentageTokens": 11.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/rfq/page.tsx": {
            "lines": 38,
            "tokens": 318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/rfq/page.test.tsx": {
            "lines": 346,
            "tokens": 3830,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/orders/page.tsx": {
            "lines": 86,
            "tokens": 868,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/checkout/page.tsx": {
            "lines": 73,
            "tokens": 766,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 108,
            "percentage": 16.44,
            "percentageTokens": 14.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/cart/page.tsx": {
            "lines": 128,
            "tokens": 1273,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 108,
            "percentage": 9.38,
            "percentageTokens": 8.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/admin/page.tsx": {
            "lines": 124,
            "tokens": 1303,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/support-ticket/page.tsx": {
            "lines": 253,
            "tokens": 1885,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 75,
            "percentage": 3.16,
            "percentageTokens": 3.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/ai-chat/page.tsx": {
            "lines": 143,
            "tokens": 1185,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 39,
            "duplicatedTokens": 332,
            "percentage": 27.27,
            "percentageTokens": 28.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/[slug]/page.tsx": {
            "lines": 91,
            "tokens": 816,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/work-orders/page.tsx": {
            "lines": 10,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/vendors/page.tsx": {
            "lines": 420,
            "tokens": 4134,
            "sources": 1,
            "clones": 28,
            "duplicatedLines": 362,
            "duplicatedTokens": 3834,
            "percentage": 86.19,
            "percentageTokens": 92.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/tenants/page.tsx": {
            "lines": 415,
            "tokens": 3928,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 128,
            "duplicatedTokens": 1302,
            "percentage": 30.84,
            "percentageTokens": 33.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/system/page.tsx": {
            "lines": 53,
            "tokens": 491,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/support/page.tsx": {
            "lines": 53,
            "tokens": 529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/rfqs/page.tsx": {
            "lines": 517,
            "tokens": 4963,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 73,
            "duplicatedTokens": 766,
            "percentage": 14.12,
            "percentageTokens": 15.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/reports/page.tsx": {
            "lines": 17,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/properties/page.tsx": {
            "lines": 446,
            "tokens": 4307,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 885,
            "percentage": 20.4,
            "percentageTokens": 20.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/projects/page.tsx": {
            "lines": 401,
            "tokens": 3892,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 100,
            "duplicatedTokens": 1097,
            "percentage": 24.94,
            "percentageTokens": 28.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/orders/page.tsx": {
            "lines": 328,
            "tokens": 3116,
            "sources": 1,
            "clones": 17,
            "duplicatedLines": 231,
            "duplicatedTokens": 2187,
            "percentage": 70.43,
            "percentageTokens": 70.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/marketplace/page.tsx": {
            "lines": 58,
            "tokens": 531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/marketplace/page.test.tsx": {
            "lines": 108,
            "tokens": 957,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/maintenance/page.tsx": {
            "lines": 218,
            "tokens": 1926,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 173,
            "percentage": 8.26,
            "percentageTokens": 8.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/invoices/page.tsx": {
            "lines": 654,
            "tokens": 6024,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 61,
            "duplicatedTokens": 624,
            "percentage": 9.33,
            "percentageTokens": 10.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/hr/page.tsx": {
            "lines": 17,
            "tokens": 185,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/finance/page.tsx": {
            "lines": 17,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/dashboard/page.tsx": {
            "lines": 294,
            "tokens": 2949,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/crm/page.tsx": {
            "lines": 17,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/compliance/page.tsx": {
            "lines": 17,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/assets/page.tsx": {
            "lines": 454,
            "tokens": 4361,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 115,
            "duplicatedTokens": 1238,
            "percentage": 25.33,
            "percentageTokens": 28.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/cms/[slug]/page.tsx": {
            "lines": 97,
            "tokens": 939,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/careers/[slug]/page.tsx": {
            "lines": 65,
            "tokens": 1000,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/properties/page.tsx": {
            "lines": 146,
            "tokens": 1633,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/map/page.tsx": {
            "lines": 57,
            "tokens": 696,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/admin/cms/page.tsx": {
            "lines": 67,
            "tokens": 698,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/work-orders/page.tsx": {
            "lines": 10,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/vendors/page.tsx": {
            "lines": 5,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test-rtl/page.tsx": {
            "lines": 83,
            "tokens": 813,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test-cms/page.tsx": {
            "lines": 13,
            "tokens": 153,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test/page.tsx": {
            "lines": 7,
            "tokens": 74,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test/help_support_ticket_page.test.tsx": {
            "lines": 279,
            "tokens": 2634,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 146,
            "percentage": 5.02,
            "percentageTokens": 5.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/test/help_ai_chat_page.test.tsx": {
            "lines": 242,
            "tokens": 2102,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 164,
            "percentage": 4.96,
            "percentageTokens": 7.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/system/page.tsx": {
            "lines": 12,
            "tokens": 73,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/support/page.tsx": {
            "lines": 5,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/page.tsx": {
            "lines": 110,
            "tokens": 717,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 86,
            "percentage": 14.55,
            "percentageTokens": 11.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/souq/layout.tsx": {
            "lines": 6,
            "tokens": 71,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/signup/page.tsx": {
            "lines": 570,
            "tokens": 5063,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 85,
            "percentage": 1.75,
            "percentageTokens": 1.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/settings/page.tsx": {
            "lines": 195,
            "tokens": 1994,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/reports/page.tsx": {
            "lines": 209,
            "tokens": 2366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/properties/page.tsx": {
            "lines": 13,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/profile/page.tsx": {
            "lines": 140,
            "tokens": 1133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/notifications/page.tsx": {
            "lines": 645,
            "tokens": 5868,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 53,
            "duplicatedTokens": 465,
            "percentage": 8.22,
            "percentageTokens": 7.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/page.tsx": {
            "lines": 123,
            "tokens": 1276,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 123,
            "percentage": 15.45,
            "percentageTokens": 9.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/page.test.tsx": {
            "lines": 75,
            "tokens": 488,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/marketplace/layout.tsx": {
            "lines": 12,
            "tokens": 149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/logout/page.tsx": {
            "lines": 51,
            "tokens": 402,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/login/page.tsx": {
            "lines": 506,
            "tokens": 4572,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 108,
            "duplicatedTokens": 1069,
            "percentage": 21.34,
            "percentageTokens": 23.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/hr/page.tsx": {
            "lines": 5,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/help/page.tsx": {
            "lines": 432,
            "tokens": 3337,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/forgot-password/page.tsx": {
            "lines": 135,
            "tokens": 1139,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/fm/page.tsx": {
            "lines": 562,
            "tokens": 5335,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 151,
            "duplicatedTokens": 1426,
            "percentage": 26.87,
            "percentageTokens": 26.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/finance/page.tsx": {
            "lines": 152,
            "tokens": 2181,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 376,
            "percentage": 10.53,
            "percentageTokens": 17.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/dashboard/page.tsx": {
            "lines": 91,
            "tokens": 1016,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 174,
            "percentage": 15.38,
            "percentageTokens": 17.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/crm/page.tsx": {
            "lines": 5,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/compliance/page.tsx": {
            "lines": 5,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/careers/page.tsx": {
            "lines": 762,
            "tokens": 5999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/page.tsx": {
            "lines": 122,
            "tokens": 791,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 86,
            "percentage": 13.11,
            "percentageTokens": 10.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/aqar/layout.tsx": {
            "lines": 6,
            "tokens": 71,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/admin/page.tsx": {
            "lines": 5,
            "tokens": 69,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/(root)/layout.tsx": {
            "lines": 17,
            "tokens": 144,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/page.tsx": {
            "lines": 116,
            "tokens": 1086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/not-found.tsx": {
            "lines": 80,
            "tokens": 731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "app/layout.tsx": {
            "lines": 18,
            "tokens": 119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 26687,
          "tokens": 245838,
          "sources": 153,
          "clones": 151,
          "duplicatedLines": 1733,
          "duplicatedTokens": 16660,
          "percentage": 6.49,
          "percentageTokens": 6.78,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 63237,
      "tokens": 584993,
      "sources": 508,
      "clones": 346,
      "duplicatedLines": 5273,
      "duplicatedTokens": 52815,
      "percentage": 8.34,
      "percentageTokens": 9.03,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ");\n      expect(mocked.woUpdate).toHaveBeenCalledWith(id, patch);\n      expect(mocked.audit).toHaveBeenCalledWith(tenantId, actorId, \"wo.update\", `workOrder:${updated.code}`, { patch }, ip);\n      expect(res).toEqual(updated);\n    });\n\n    it(\"rejects invalid status transition\"",
      "tokens": 0,
      "firstFile": {
        "name": "server/work-orders/wo.service.test.ts",
        "start": 134,
        "end": 140,
        "startLoc": {
          "line": 134,
          "column": 3,
          "position": 1636
        },
        "endLoc": {
          "line": 140,
          "column": 36,
          "position": 1716
        }
      },
      "secondFile": {
        "name": "server/work-orders/wo.service.test.ts",
        "start": 115,
        "end": 121,
        "startLoc": {
          "line": 115,
          "column": 2,
          "position": 1369
        },
        "endLoc": {
          "line": 121,
          "column": 44,
          "position": 1449
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", function(this: Query<unknown, unknown>) {\n    const context = getTenantContext();\n    \n    if (context.skipTenantFilter) {\n      return;\n    }\n\n    if (context.orgId) {\n      this.where({ orgId: context.orgId });\n    }\n  });\n\n  // Update middleware",
      "tokens": 0,
      "firstFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 98,
        "end": 110,
        "startLoc": {
          "line": 98,
          "column": 11,
          "position": 727
        },
        "endLoc": {
          "line": 110,
          "column": 21,
          "position": 817
        }
      },
      "secondFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 9,
          "position": 629
        },
        "endLoc": {
          "line": 97,
          "column": 44,
          "position": 719
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", function(this: Query<unknown, unknown>) {\n    const context = getTenantContext();\n    \n    if (context.skipTenantFilter) {\n      return;\n    }\n\n    if (context.orgId) {\n      this.where({ orgId: context.orgId });\n    }\n  });\n\n  // Delete middleware",
      "tokens": 0,
      "firstFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 111,
        "end": 123,
        "startLoc": {
          "line": 111,
          "column": 10,
          "position": 825
        },
        "endLoc": {
          "line": 123,
          "column": 21,
          "position": 915
        }
      },
      "secondFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 9,
          "position": 629
        },
        "endLoc": {
          "line": 97,
          "column": 44,
          "position": 719
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", function(this: Query<unknown, unknown>) {\n    const context = getTenantContext();\n    \n    if (context.skipTenantFilter) {\n      return;\n    }\n\n    if (context.orgId) {\n      this.where({ orgId: context.orgId });\n    }\n  });\n\n  // Create compound indexes with orgId",
      "tokens": 0,
      "firstFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 124,
        "end": 136,
        "startLoc": {
          "line": 124,
          "column": 10,
          "position": 923
        },
        "endLoc": {
          "line": 136,
          "column": 38,
          "position": 1013
        }
      },
      "secondFile": {
        "name": "server/plugins/tenantIsolation.ts",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 9,
          "position": 629
        },
        "endLoc": {
          "line": 97,
          "column": 44,
          "position": 719
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", function() {\n    const context = getAuditContext();\n    \n    if (context.userId) {\n      this.set({ updatedBy: context.userId });\n    }\n    \n    // Increment version\n    this.set({ $inc: { version: 1 } });\n  });\n\n  // Instance method to get change history for a specific field",
      "tokens": 0,
      "firstFile": {
        "name": "server/plugins/auditPlugin.ts",
        "start": 196,
        "end": 207,
        "startLoc": {
          "line": 196,
          "column": 19,
          "position": 1452
        },
        "endLoc": {
          "line": 207,
          "column": 62,
          "position": 1541
        }
      },
      "secondFile": {
        "name": "server/plugins/auditPlugin.ts",
        "start": 184,
        "end": 195,
        "startLoc": {
          "line": 184,
          "column": 10,
          "position": 1355
        },
        "endLoc": {
          "line": 195,
          "column": 35,
          "position": 1444
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= new Schema({\n  tenantId: { type: String, required: true, index: true },\n\n  // Basic Information\n  code: { type: String, required: true, unique: true },\n  name: { type: String, required: true },\n  type: { type: String, enum: TenantType",
      "tokens": 0,
      "firstFile": {
        "name": "server/models/Tenant.ts",
        "start": 6,
        "end": 12,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 76
        },
        "endLoc": {
          "line": 12,
          "column": 11,
          "position": 175
        }
      },
      "secondFile": {
        "name": "server/models/Vendor.ts",
        "start": 6,
        "end": 12,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 12,
          "column": 11,
          "position": 178
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", required: true, index: true },\n\n  // Contact Information\n  contact: {\n    primary: {\n      name: String,\n      title: String,\n      email: String,\n      phone: String,\n      mobile: String\n    },\n    secondary: {\n      name: String,\n      email: String,\n      phone: String\n    },\n    emergency",
      "tokens": 0,
      "firstFile": {
        "name": "server/models/Tenant.ts",
        "start": 12,
        "end": 28,
        "startLoc": {
          "line": 12,
          "column": 11,
          "position": 176
        },
        "endLoc": {
          "line": 28,
          "column": 10,
          "position": 277
        }
      },
      "secondFile": {
        "name": "server/models/Vendor.ts",
        "start": 12,
        "end": 28,
        "startLoc": {
          "line": 12,
          "column": 11,
          "position": 179
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 280
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= new Schema({\n  tenantId: { type: String, required: true, index: true },\n\n  // Basic Information\n  code: { type: String, required: true, unique: true },\n  name: { type: String, required: true },\n  description",
      "tokens": 0,
      "firstFile": {
        "name": "server/models/SLA.ts",
        "start": 6,
        "end": 12,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 12,
          "column": 12,
          "position": 164
        }
      },
      "secondFile": {
        "name": "server/models/Vendor.ts",
        "start": 6,
        "end": 12,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 12,
          "column": 5,
          "position": 164
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= new Schema({\n  tenantId: { type: String, required: true, index: true },\n\n  // Basic Information\n  code: { type: String, required: true, unique: true },\n  name: { type: String, required: true },\n  description: { type: String },\n  type",
      "tokens": 0,
      "firstFile": {
        "name": "server/models/Project.ts",
        "start": 6,
        "end": 13,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 88
        },
        "endLoc": {
          "line": 13,
          "column": 5,
          "position": 187
        }
      },
      "secondFile": {
        "name": "server/models/Vendor.ts",
        "start": 6,
        "end": 14,
        "startLoc": {
          "line": 6,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 14,
          "column": 18,
          "position": 179
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n}\n\nexport async function list(tenantId: string, q?: string, status?: string) {\n  await connectToDatabase();\n\n  const filters: Record<string, unknown> = { tenantId };\n\n  if (status) {\n    filters.status = status;\n  }\n\n  if (q) {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "server/finance/invoice.service.ts",
        "start": 94,
        "end": 107,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 935
        },
        "endLoc": {
          "line": 107,
          "column": 6,
          "position": 1036
        }
      },
      "secondFile": {
        "name": "server/work-orders/wo.service.ts",
        "start": 81,
        "end": 94,
        "startLoc": {
          "line": 81,
          "column": 8,
          "position": 912
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 1016
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ", () => {\n      mockTranslateImpl = (k) => k; // unresolved translation\n      let captured: ReturnType<typeof useTranslation> | null = null;\n      renderWithProvider((v) => (captured = v));\n\n      const result = captured!.t('missing_key')",
      "tokens": 0,
      "firstFile": {
        "name": "contexts/TranslationContext.test.tsx",
        "start": 222,
        "end": 227,
        "startLoc": {
          "line": 222,
          "column": 67,
          "position": 1891
        },
        "endLoc": {
          "line": 227,
          "column": 2,
          "position": 1971
        }
      },
      "secondFile": {
        "name": "contexts/TranslationContext.test.tsx",
        "start": 213,
        "end": 218,
        "startLoc": {
          "line": 213,
          "column": 69,
          "position": 1783
        },
        "endLoc": {
          "line": 218,
          "column": 2,
          "position": 1863
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "?: string;\n}) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">{title}</h3>\n        <p className=\"text-gray-600 mb-6\">{message}</p>\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onConfirm}\n            className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",
      "tokens": 0,
      "firstFile": {
        "name": "hooks/useUnsavedChanges.tsx",
        "start": 216,
        "end": 228,
        "startLoc": {
          "line": 216,
          "column": 11,
          "position": 1594
        },
        "endLoc": {
          "line": 228,
          "column": 89,
          "position": 1704
        }
      },
      "secondFile": {
        "name": "hooks/useUnsavedChanges.tsx",
        "start": 166,
        "end": 178,
        "startLoc": {
          "line": 166,
          "column": 9,
          "position": 1276
        },
        "endLoc": {
          "line": 178,
          "column": 87,
          "position": 1386
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n      indexes: [\n        { key: { code: 1 }, unique: true },\n        { key: { tenantId: 1 } },\n        { key: { status: 1 } },\n        { key: { priority: 1 } },\n        { key: { assigneeUserId",
      "tokens": 0,
      "firstFile": {
        "name": "lib/db/index.ts",
        "start": 73,
        "end": 79,
        "startLoc": {
          "line": 73,
          "column": 17,
          "position": 680
        },
        "endLoc": {
          "line": 79,
          "column": 15,
          "position": 774
        }
      },
      "secondFile": {
        "name": "lib/db/index.ts",
        "start": 36,
        "end": 42,
        "startLoc": {
          "line": 36,
          "column": 13,
          "position": 231
        },
        "endLoc": {
          "line": 42,
          "column": 11,
          "position": 325
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export type SimplePaymentRequest = {\n  amount: number;\n  currency: string;\n  customerDetails: {\n    name: string; email: string; phone: string; address: string; city: string; state: string; country: string; zip: string;\n  };\n  description: string;\n  invoiceId?: string;\n  returnUrl: string;\n  callbackUrl: string;\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "lib/paytabs.ts",
        "start": 23,
        "end": 35,
        "startLoc": {
          "line": 23,
          "column": 1,
          "position": 215
        },
        "endLoc": {
          "line": 35,
          "column": 7,
          "position": 330
        }
      },
      "secondFile": {
        "name": "lib/paytabs/core.ts",
        "start": 45,
        "end": 62,
        "startLoc": {
          "line": 45,
          "column": 1,
          "position": 208
        },
        "endLoc": {
          "line": 62,
          "column": 2,
          "position": 328
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": "try {\n    const payload = {\n      profile_id: PAYTABS_CONFIG.profileId,\n      tran_type: 'sale',\n      tran_class: 'ecom',\n      cart_id: request.invoiceId || `CART-${Date.now()}`,\n      cart_currency: request.currency,\n      cart_amount: request.amount.toFixed(2),\n      cart_description: request.description,\n      \n      // URLs\n      return: request.returnUrl,\n      callback: request.callbackUrl,\n      \n      // Customer details\n      customer_details: {\n        name: request.customerDetails.name,\n        email: request.customerDetails.email,\n        phone: request.customerDetails.phone,\n        street1: request.customerDetails.address,\n        city: request.customerDetails.city,\n        state: request.customerDetails.state,\n        country: request.customerDetails.country,\n        zip: request.customerDetails.zip\n      },\n      \n      // Hide shipping\n      hide_shipping: true,\n      \n      // Language",
      "tokens": 0,
      "firstFile": {
        "name": "lib/paytabs.ts",
        "start": 61,
        "end": 90,
        "startLoc": {
          "line": 61,
          "column": 3,
          "position": 523
        },
        "endLoc": {
          "line": 90,
          "column": 12,
          "position": 752
        }
      },
      "secondFile": {
        "name": "lib/paytabs/core.ts",
        "start": 81,
        "end": 109,
        "startLoc": {
          "line": 81,
          "column": 3,
          "position": 418
        },
        "endLoc": {
          "line": 109,
          "column": 40,
          "position": 641
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ",\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n\n    const data = await response.json();\n\n    if (data.redirect_url) {\n      return {\n        success: true,\n        paymentUrl: data.redirect_url,\n        transactionId: data.tran_ref\n      };\n    } else {\n      return {\n        success: false,\n        error: data.message || 'Payment initialization failed'\n      } as const;\n    }\n  } catch (error: unknown) {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "lib/paytabs.ts",
        "start": 97,
        "end": 118,
        "startLoc": {
          "line": 97,
          "column": 2,
          "position": 808
        },
        "endLoc": {
          "line": 118,
          "column": 6,
          "position": 955
        }
      },
      "secondFile": {
        "name": "lib/paytabs/core.ts",
        "start": 115,
        "end": 132,
        "startLoc": {
          "line": 115,
          "column": 10,
          "position": 694
        },
        "endLoc": {
          "line": 132,
          "column": 8,
          "position": 833
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        profile_id: PAYTABS_CONFIG.profileId,\n        tran_ref: tranRef\n      })\n    });\n\n    return await response.json();\n  } catch (error) {\n    console.error('PayTabs verification error:', error);\n    throw error;\n  }\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "lib/paytabs.ts",
        "start": 135,
        "end": 151,
        "startLoc": {
          "line": 135,
          "column": 2,
          "position": 1103
        },
        "endLoc": {
          "line": 151,
          "column": 7,
          "position": 1197
        }
      },
      "secondFile": {
        "name": "lib/paytabs/core.ts",
        "start": 155,
        "end": 168,
        "startLoc": {
          "line": 155,
          "column": 10,
          "position": 976
        },
        "endLoc": {
          "line": 168,
          "column": 80,
          "position": 1064
        }
      }
    },
    {
      "format": "typescript",
      "lines": 39,
      "fragment": "export const getAvailablePaymentMethods = (): PaymentMethod[] => {\n  return [\n    {\n      id: PAYMENT_METHODS.MADA,\n      name: 'mada',\n      icon: '/icons/mada.svg',\n      enabled: true\n    },\n    {\n      id: PAYMENT_METHODS.VISA,\n      name: 'Visa',\n      icon: '/icons/visa.svg',\n      enabled: true\n    },\n    {\n      id: PAYMENT_METHODS.MASTERCARD,\n      name: 'Mastercard',\n      icon: '/icons/mastercard.svg',\n      enabled: true\n    },\n    {\n      id: PAYMENT_METHODS.APPLE_PAY,\n      name: 'Apple Pay',\n      icon: '/icons/apple-pay.svg',\n      enabled: true\n    },\n    {\n      id: PAYMENT_METHODS.STC_PAY,\n      name: 'STC Pay',\n      icon: '/icons/stc-pay.svg',\n      enabled: true\n    },\n    {\n      id: PAYMENT_METHODS.TAMARA,\n      name: 'Tamara - Buy Now Pay Later',\n      icon: '/icons/tamara.svg',\n      enabled: true\n    }\n  ]",
      "tokens": 0,
      "firstFile": {
        "name": "lib/paytabs.ts",
        "start": 223,
        "end": 261,
        "startLoc": {
          "line": 223,
          "column": 1,
          "position": 1710
        },
        "endLoc": {
          "line": 261,
          "column": 2,
          "position": 1951
        }
      },
      "secondFile": {
        "name": "lib/paytabs/core.ts",
        "start": 231,
        "end": 262,
        "startLoc": {
          "line": 231,
          "column": 1,
          "position": 1339
        },
        "endLoc": {
          "line": 262,
          "column": 2,
          "position": 1566
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "{\n    id: user._id.toString(),\n    email: user.email,\n    name: `${user.personalInfo?.firstName || ''} ${user.personalInfo?.lastName || ''}`.trim(),\n    role: user.professionalInfo?.role || user.role || 'USER',\n    orgId: user.orgId || ''\n  };",
      "tokens": 0,
      "firstFile": {
        "name": "lib/auth.ts",
        "start": 173,
        "end": 179,
        "startLoc": {
          "line": 173,
          "column": 2,
          "position": 1408
        },
        "endLoc": {
          "line": 179,
          "column": 2,
          "position": 1503
        }
      },
      "secondFile": {
        "name": "lib/auth.ts",
        "start": 149,
        "end": 156,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 1199
        },
        "endLoc": {
          "line": 156,
          "column": 2,
          "position": 1296
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ", async () => {\n    (global.fetch as jest.Mock).mockResolvedValueOnce({\n      ok: true,\n      json: async () => makeApiResponse([]),\n    });\n\n    render(<WorkOrdersViewDefault />, { wrapper: TestWrapper });\n    \n    await",
      "tokens": 0,
      "firstFile": {
        "name": "components/fm/__tests__/WorkOrdersView.test.tsx",
        "start": 99,
        "end": 107,
        "startLoc": {
          "line": 99,
          "column": 53,
          "position": 1041
        },
        "endLoc": {
          "line": 107,
          "column": 6,
          "position": 1123
        }
      },
      "secondFile": {
        "name": "components/fm/__tests__/WorkOrdersView.test.tsx",
        "start": 51,
        "end": 59,
        "startLoc": {
          "line": 51,
          "column": 42,
          "position": 530
        },
        "endLoc": {
          "line": 59,
          "column": 7,
          "position": 612
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "const fetchedUrls: string[] = [];\n    (global.fetch as jest.Mock).mockImplementation(async (url: string) => {\n      fetchedUrls.push(url);\n      return {\n        ok: true,\n        json: async () => makeApiResponse([]),\n      };\n    });\n\n    render(<WorkOrdersViewDefault />, { wrapper: TestWrapper });\n\n    // Wait for initial fetch\n    await waitFor(() => {\n      expect(fetchedUrls.length).toBe",
      "tokens": 0,
      "firstFile": {
        "name": "components/fm/__tests__/WorkOrdersView.test.tsx",
        "start": 269,
        "end": 282,
        "startLoc": {
          "line": 269,
          "column": 5,
          "position": 2919
        },
        "endLoc": {
          "line": 282,
          "column": 5,
          "position": 3055
        }
      },
      "secondFile": {
        "name": "components/fm/__tests__/WorkOrdersView.test.tsx",
        "start": 229,
        "end": 242,
        "startLoc": {
          "line": 229,
          "column": 5,
          "position": 2525
        },
        "endLoc": {
          "line": 242,
          "column": 16,
          "position": 2661
        }
      }
    },
    {
      "format": "javascript",
      "lines": 24,
      "fragment": ": event.target.value })}\n                className=\"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2\"\n                required\n              />\n            </label>\n            <label className=\"text-sm text-gray-600\">\n              Category\n              <select\n                value={form.categoryId}\n                onChange={event => setForm({ ...form, categoryId: event.target.value })}\n                className=\"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2\"\n              >\n                <option value=\"\">Select</option>\n                {categories.map(category => (\n                  <option key={category.slug} value={category.slug}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <label className=\"md:col-span-2 text-sm text-gray-600\">\n              Description\n              <textarea\n                value={form.description",
      "tokens": 0,
      "firstFile": {
        "name": "components/marketplace/RFQBoard.tsx",
        "start": 94,
        "end": 117,
        "startLoc": {
          "line": 94,
          "column": 7,
          "position": 879
        },
        "endLoc": {
          "line": 117,
          "column": 12,
          "position": 1059
        }
      },
      "secondFile": {
        "name": "components/marketplace/VendorCatalogueManager.tsx",
        "start": 78,
        "end": 101,
        "startLoc": {
          "line": 78,
          "column": 5,
          "position": 803
        },
        "endLoc": {
          "line": 101,
          "column": 6,
          "position": 991
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n                <option value=\"\">Select</option>\n                {categories.map(category => (\n                  <option key={category.slug} value={category.slug}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <label className=\"md:col-span-2 text-sm text-gray-600",
      "tokens": 0,
      "firstFile": {
        "name": "components/marketplace/RFQBoard.tsx",
        "start": 105,
        "end": 114,
        "startLoc": {
          "line": 105,
          "column": 15,
          "position": 960
        },
        "endLoc": {
          "line": 114,
          "column": 36,
          "position": 1043
        }
      },
      "secondFile": {
        "name": "components/marketplace/VendorCatalogueManager.tsx",
        "start": 88,
        "end": 97,
        "startLoc": {
          "line": 88,
          "column": 13,
          "position": 882
        },
        "endLoc": {
          "line": 97,
          "column": 22,
          "position": 965
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ";\n}\n\nfunction formatCurrency(value: number, currency: string) {\n  try {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency }).format(value);\n  } catch {\n    return `${currency} ${value.toFixed(2)}`;\n  }\n}\n\nexport default function PDPBuyBox",
      "tokens": 0,
      "firstFile": {
        "name": "components/marketplace/PDPBuyBox.tsx",
        "start": 18,
        "end": 29,
        "startLoc": {
          "line": 18,
          "column": 5,
          "position": 221
        },
        "endLoc": {
          "line": 29,
          "column": 10,
          "position": 318
        }
      },
      "secondFile": {
        "name": "components/marketplace/ProductCard.tsx",
        "start": 25,
        "end": 39,
        "startLoc": {
          "line": 25,
          "column": 8,
          "position": 274
        },
        "endLoc": {
          "line": 39,
          "column": 12,
          "position": 374
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ");\n    } catch (error) {\n      console.error('Failed to add product to cart', error);\n      if (typeof window !== 'undefined') {\n        const message = error instanceof Error ? error.message : 'Unable to add to cart';\n        window.alert?.(`Unable to add to cart: ${message}`);\n      }\n    } finally {\n      setSubmitting",
      "tokens": 0,
      "firstFile": {
        "name": "components/marketplace/PDPBuyBox.tsx",
        "start": 45,
        "end": 53,
        "startLoc": {
          "line": 45,
          "column": 18,
          "position": 572
        },
        "endLoc": {
          "line": 53,
          "column": 14,
          "position": 663
        }
      },
      "secondFile": {
        "name": "components/marketplace/ProductCard.tsx",
        "start": 51,
        "end": 59,
        "startLoc": {
          "line": 51,
          "column": 4,
          "position": 593
        },
        "endLoc": {
          "line": 59,
          "column": 10,
          "position": 684
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ", json: async () => ({}) })\n    ;(global as any).fetch = fetchSpy\n\n    render(<CatalogView />)\n    await userEvent.click(screen.getByRole('button', { name: /Add to cart/i }))\n    await waitFor(() => {\n      expect(screen",
      "tokens": 0,
      "firstFile": {
        "name": "components/marketplace/CatalogView.test.tsx",
        "start": 321,
        "end": 327,
        "startLoc": {
          "line": 321,
          "column": 6,
          "position": 2849
        },
        "endLoc": {
          "line": 327,
          "column": 7,
          "position": 2935
        }
      },
      "secondFile": {
        "name": "components/marketplace/CatalogView.test.tsx",
        "start": 297,
        "end": 304,
        "startLoc": {
          "line": 297,
          "column": 5,
          "position": 2552
        },
        "endLoc": {
          "line": 304,
          "column": 9,
          "position": 2639
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    const handleClick = (event: MouseEvent) => {\n      if (!containerRef.current) return;\n      if (!containerRef.current.contains(event.target as Node)) {\n        setOpen(false);\n      }\n    };\n\n    // Focus the search input when opened",
      "tokens": 0,
      "firstFile": {
        "name": "components/i18n/CurrencySelector.tsx",
        "start": 54,
        "end": 66,
        "startLoc": {
          "line": 54,
          "column": 3,
          "position": 483
        },
        "endLoc": {
          "line": 66,
          "column": 38,
          "position": 580
        }
      },
      "secondFile": {
        "name": "components/i18n/LanguageSelector.tsx",
        "start": 46,
        "end": 58,
        "startLoc": {
          "line": 46,
          "column": 3,
          "position": 433
        },
        "endLoc": {
          "line": 58,
          "column": 9,
          "position": 530
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "\" />);\n      const svg = container.querySelector('svg');\n      expect(svg).toBeTruthy();\n      expect(svg).toHaveAttribute('viewBox', '0 0 24 16');\n      expect(svg).toHaveAttribute('role', 'img');\n    });\n\n    it('applies the provided className'",
      "tokens": 0,
      "firstFile": {
        "name": "components/FlagIcon.accessibility.test.tsx",
        "start": 25,
        "end": 32,
        "startLoc": {
          "line": 25,
          "column": 3,
          "position": 203
        },
        "endLoc": {
          "line": 32,
          "column": 33,
          "position": 274
        }
      },
      "secondFile": {
        "name": "components/FlagIcon.accessibility.test.tsx",
        "start": 17,
        "end": 24,
        "startLoc": {
          "line": 17,
          "column": 3,
          "position": 102
        },
        "endLoc": {
          "line": 24,
          "column": 54,
          "position": 173
        }
      }
    },
    {
      "format": "javascript",
      "lines": 11,
      "fragment": ", e.target.value)} className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0061A8]\" />\n          </div>\n        );\n      case 'uploadWorkOrderPhoto':\n        return (\n          <div className=\"space-y-3\">\n            <input value={values.workOrderId} onChange={(e) => updateForm(tool, 'workOrderId', e.target.value)} className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0061A8]\" placeholder={locale === 'ar' ? '  ' : 'Work order ID'} />\n            <label className=\"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 px-4 py-6 text-center text-sm text-gray-500 hover:border-[#0061A8]\">\n              <Upload className=\"mb-2 h-5 w-5 text-[#0061A8]\" />\n              <span>{values.file?.name || t.chooseFile}</span>\n              <input type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={(",
      "tokens": 0,
      "firstFile": {
        "name": "components/CopilotWidget.tsx",
        "start": 337,
        "end": 347,
        "startLoc": {
          "line": 337,
          "column": 15,
          "position": 4322
        },
        "endLoc": {
          "line": 347,
          "column": 2,
          "position": 4501
        }
      },
      "secondFile": {
        "name": "components/CopilotWidget.tsx",
        "start": 318,
        "end": 330,
        "startLoc": {
          "line": 318,
          "column": 11,
          "position": 3907
        },
        "endLoc": {
          "line": 330,
          "column": 7,
          "position": 4143
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/jobs/[id]/publish/route.ts",
        "start": 27,
        "end": 36,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 102
        },
        "endLoc": {
          "line": 36,
          "column": 4,
          "position": 255
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 39,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 136
        },
        "endLoc": {
          "line": 39,
          "column": 6,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function POST(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    await connectToDatabase();\n    \n    const formData",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/jobs/[id]/apply/route.ts",
        "start": 30,
        "end": 42,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 153
        },
        "endLoc": {
          "line": 42,
          "column": 9,
          "position": 323
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 136
        },
        "endLoc": {
          "line": 38,
          "column": 11,
          "position": 270
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "export async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  await dbConnect();\n  await requireSuperAdmin(req);\n  const body = await req.json();\n\n  const doc = await Benchmark",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/billing/benchmark/[id]/route.ts",
        "start": 31,
        "end": 37,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 64
        },
        "endLoc": {
          "line": 37,
          "column": 10,
          "position": 160
        }
      },
      "secondFile": {
        "name": "app/api/admin/billing/pricebooks/[id]/route.ts",
        "start": 39,
        "end": 45,
        "startLoc": {
          "line": 39,
          "column": 1,
          "position": 64
        },
        "endLoc": {
          "line": 45,
          "column": 10,
          "position": 160
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "{\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/status/route.ts",
        "start": 33,
        "end": 42,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 209
        },
        "endLoc": {
          "line": 42,
          "column": 6,
          "position": 325
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 39,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 173
        },
        "endLoc": {
          "line": 39,
          "column": 6,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ";\n    save: () => Promise<void>;\n  }\n  const wo = await WorkOrder.findOne({ _id: params.id, tenantId: user.tenantId }) as WorkOrderDoc | null;\n  if (!wo) return createSecureResponse({error:\"Not found\"}, 404, req);\n  wo",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/materials/route.ts",
        "start": 47,
        "end": 52,
        "startLoc": {
          "line": 47,
          "column": 2,
          "position": 420
        },
        "endLoc": {
          "line": 52,
          "column": 3,
          "position": 509
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/checklists/toggle/route.ts",
        "start": 35,
        "end": 40,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 275
        },
        "endLoc": {
          "line": 40,
          "column": 3,
          "position": 364
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import { NextRequest} from \"next/server\";\nimport { connectToDatabase } from \"@/lib/mongodb-unified\";\nimport { WorkOrder } from \"@/server/models/WorkOrder\";\nimport { z } from \"zod\";\nimport { getSessionUser } from \"@/server/middleware/withAuthRbac\";\n\nimport { createSecureResponse } from '@/server/security/headers';\n\nconst schema = z.object({ text",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/comments/route.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 5,
          "position": 91
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/checklists/toggle/route.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 15,
          "position": 91
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "}>;\n    save: () => Promise<void>;\n  }\n  const wo = await WorkOrder.findOne({ _id: params.id, tenantId: user.tenantId }) as WorkOrderDoc | null;\n  if (!wo) return createSecureResponse({error:\"Not found\"}, 404, req);\n  wo.comments",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/comments/route.ts",
        "start": 41,
        "end": 46,
        "startLoc": {
          "line": 41,
          "column": 2,
          "position": 366
        },
        "endLoc": {
          "line": 46,
          "column": 9,
          "position": 459
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/checklists/toggle/route.ts",
        "start": 35,
        "end": 52,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 273
        },
        "endLoc": {
          "line": 52,
          "column": 10,
          "position": 511
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "export async function POST(req:NextRequest, props:{params: Promise<{id:string}>}): Promise<NextResponse> {\n  const params = await props.params;\n  const user = await requireAbility(\"EDIT\")(req);\n  if (user instanceof NextResponse) return user;\n  await connectToDatabase();\n  const data",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/checklists/route.ts",
        "start": 28,
        "end": 33,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 162
        },
        "endLoc": {
          "line": 33,
          "column": 5,
          "position": 259
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/materials/route.ts",
        "start": 28,
        "end": 33,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 163
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "}>;\n    save: () => Promise<void>;\n  }\n  const wo = await WorkOrder.findOne({ _id: params.id, tenantId: user.tenantId }) as WorkOrderDoc | null;\n  if (!wo) return createSecureResponse({error:\"Not found\"}, 404, req);\n  wo.checklists",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/checklists/route.ts",
        "start": 39,
        "end": 44,
        "startLoc": {
          "line": 39,
          "column": 2,
          "position": 365
        },
        "endLoc": {
          "line": 44,
          "column": 11,
          "position": 458
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/checklists/toggle/route.ts",
        "start": 35,
        "end": 52,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 273
        },
        "endLoc": {
          "line": 52,
          "column": 10,
          "position": 511
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest, props: { params: Promise<{ id: string }>}): Promise<NextResponse> {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  const user = await requireAbility",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/assign/route.ts",
        "start": 44,
        "end": 53,
        "startLoc": {
          "line": 44,
          "column": 1,
          "position": 177
        },
        "endLoc": {
          "line": 53,
          "column": 15,
          "position": 343
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/status/route.ts",
        "start": 33,
        "end": 42,
        "startLoc": {
          "line": 33,
          "column": 1,
          "position": 167
        },
        "endLoc": {
          "line": 42,
          "column": 15,
          "position": 333
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "){\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 12,
          "position": 118
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 221
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 171
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ".parse(await req.json());\n  // Validate MongoDB ObjectId format\n  if (!/^[a-fA-F0-9]{24}$/.test(params.id)) {\n    return createSecureResponse({ error: \"Invalid id\" }, 400, req);\n  }\n  const t = await SupportTicket.findOne({ \n    _id: params.id, \n    $or: [\n      { orgId: user.",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/tickets/[id]/route.ts",
        "start": 47,
        "end": 55,
        "startLoc": {
          "line": 47,
          "column": 12,
          "position": 420
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 517
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 41,
        "end": 49,
        "startLoc": {
          "line": 41,
          "column": 7,
          "position": 327
        },
        "endLoc": {
          "line": 49,
          "column": 2,
          "position": 424
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/rfqs/[id]/publish/route.ts",
        "start": 40,
        "end": 50,
        "startLoc": {
          "line": 40,
          "column": 1,
          "position": 101
        },
        "endLoc": {
          "line": 50,
          "column": 6,
          "position": 259
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 37,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 136
        },
        "endLoc": {
          "line": 37,
          "column": 6,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function POST(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 67,
        "end": 80,
        "startLoc": {
          "line": 67,
          "column": 1,
          "position": 449
        },
        "endLoc": {
          "line": 80,
          "column": 5,
          "position": 633
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 53,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 136
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const rfq = await RFQ.findOne",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 146,
        "startLoc": {
          "line": 133,
          "column": 4,
          "position": 1151
        },
        "endLoc": {
          "line": 146,
          "column": 8,
          "position": 1336
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 53,
        "startLoc": {
          "line": 30,
          "column": 5,
          "position": 143
        },
        "endLoc": {
          "line": 53,
          "column": 17,
          "position": 293
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 42,
        "startLoc": {
          "line": 34,
          "column": 5,
          "position": 175
        },
        "endLoc": {
          "line": 42,
          "column": 4,
          "position": 284
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 4,
          "position": 113
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "}) })\n    const body = await readJson(res as any)\n\n    expect(body.buyBox.price).toBeNull()\n    expect(body.buyBox.currency).toBe('SAR')\n    expect(body.buyBox.inStock).toBe(true)\n    expect(body.buyBox.leadDays).toBe(4",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/products/[slug]/route.test.ts",
        "start": 115,
        "end": 121,
        "startLoc": {
          "line": 115,
          "column": 2,
          "position": 1199
        },
        "endLoc": {
          "line": 121,
          "column": 2,
          "position": 1280
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/products/[slug]/route.test.ts",
        "start": 98,
        "end": 104,
        "startLoc": {
          "line": 98,
          "column": 2,
          "position": 984
        },
        "endLoc": {
          "line": 104,
          "column": 2,
          "position": 1065
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Check if LinkedIn integration is enabled",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/integrations/linkedin/apply/route.ts",
        "start": 28,
        "end": 37,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 115
        },
        "endLoc": {
          "line": 37,
          "column": 44,
          "position": 236
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "try {\n    // Authentication & Authorization\n    const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n    if (!token) {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n\n    const user = await getUserFromToken(token);\n    if (!user) {\n      return createSecureResponse({ error: 'Invalid token' }, 401, req);\n    }\n\n    // Role-based access control - only finance roles can modify invoices",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/finance/invoices/[id]/route.ts",
        "start": 18,
        "end": 30,
        "startLoc": {
          "line": 18,
          "column": 3,
          "position": 214
        },
        "endLoc": {
          "line": 30,
          "column": 70,
          "position": 340
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 42,
        "end": 54,
        "startLoc": {
          "line": 42,
          "column": 3,
          "position": 284
        },
        "endLoc": {
          "line": 54,
          "column": 76,
          "position": 410
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/files/resumes/presign/route.ts",
        "start": 26,
        "end": 35,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 86
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 207
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req).",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/files/resumes/[file]/route.ts",
        "start": 32,
        "end": 42,
        "startLoc": {
          "line": 32,
          "column": 5,
          "position": 167
        },
        "endLoc": {
          "line": 42,
          "column": 2,
          "position": 310
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 50,
        "startLoc": {
          "line": 30,
          "column": 3,
          "position": 163
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 271
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "(req: NextRequest, props: { params: Promise<{ file: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req).catch(() => null);\n    if (!user) return createSecureResponse({ error: 'Unauthorized' }, 401, req);\n    const allowed = new Set(['SUPER_ADMIN','ADMIN','HR']);\n    if (!allowed.has(user.role || '')) return createSecureResponse({ error: 'Forbidden' }, 403, req);\n    const expires",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/files/resumes/[file]/route.ts",
        "start": 76,
        "end": 90,
        "startLoc": {
          "line": 76,
          "column": 5,
          "position": 955
        },
        "endLoc": {
          "line": 90,
          "column": 8,
          "position": 1223
        }
      },
      "secondFile": {
        "name": "app/api/files/resumes/[file]/route.ts",
        "start": 32,
        "end": 47,
        "startLoc": {
          "line": 32,
          "column": 4,
          "position": 147
        },
        "endLoc": {
          "line": 47,
          "column": 4,
          "position": 416
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await connectToDatabase();\n  const payload",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/billing/callback/paytabs/route.ts",
        "start": 27,
        "end": 36,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 92
        },
        "endLoc": {
          "line": 36,
          "column": 8,
          "position": 218
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 39,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 39,
          "column": 5,
          "position": 231
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n  await connectToDatabase();\n    const application",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/applications/[id]/route.ts",
        "start": 27,
        "end": 38,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 99
        },
        "endLoc": {
          "line": 38,
          "column": 12,
          "position": 267
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 38,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 38,
          "column": 11,
          "position": 270
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 100, 60);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await connectToDatabase",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/billing/benchmark/route.ts",
        "start": 27,
        "end": 35,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 88
        },
        "endLoc": {
          "line": 35,
          "column": 18,
          "position": 205
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 35,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 35,
          "column": 10,
          "position": 205
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <option value=\"New\">New</option>\n                      <option value=\"Open\">Open</option>\n                      <option value=\"Waiting\">Waiting</option>\n                      <option value=\"Resolved\">Resolved</option>\n                      <option value=\"Closed\">Closed</option>\n                    </select>\n                  </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/support/tickets/page.tsx",
        "start": 126,
        "end": 133,
        "startLoc": {
          "line": 126,
          "column": 21,
          "position": 1177
        },
        "endLoc": {
          "line": 133,
          "column": 3,
          "position": 1260
        }
      },
      "secondFile": {
        "name": "app/fm/support/tickets/page.tsx",
        "start": 63,
        "end": 71,
        "startLoc": {
          "line": 63,
          "column": 7,
          "position": 545
        },
        "endLoc": {
          "line": 71,
          "column": 2,
          "position": 630
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Form */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Invoice",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/invoices/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 192
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 260
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 190
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 258
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "</div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Currency\n                </label>\n                <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n                  <option>SAR - Saudi Riyal</option>\n                  <option>USD - US Dollar</option>\n                  <option>EUR - Euro</option>\n                  <option>GBP - British Pound</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Bill",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/invoices/new/page.tsx",
        "start": 57,
        "end": 73,
        "startLoc": {
          "line": 57,
          "column": 15,
          "position": 433
        },
        "endLoc": {
          "line": 73,
          "column": 5,
          "position": 572
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 61,
        "end": 77,
        "startLoc": {
          "line": 61,
          "column": 15,
          "position": 491
        },
        "endLoc": {
          "line": 77,
          "column": 8,
          "position": 630
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</button>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Recent Activity</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Form auto-saved</span>\n                <span className=\"text-gray-400 ml-auto\">2",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/invoices/new/page.tsx",
        "start": 215,
        "end": 225,
        "startLoc": {
          "line": 215,
          "column": 15,
          "position": 1742
        },
        "endLoc": {
          "line": 225,
          "column": 2,
          "position": 1850
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 221,
        "end": 231,
        "startLoc": {
          "line": 221,
          "column": 15,
          "position": 1915
        },
        "endLoc": {
          "line": 231,
          "column": 2,
          "position": 2023
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Form */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Expense",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 190
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 258
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 190
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 258
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Amount *\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"number\"\n                    placeholder=\"0.00\"\n                    className=\"w-full px-3 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\"\n                  />\n                  <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500\">SAR</span>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Payment",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 109,
        "end": 126,
        "startLoc": {
          "line": 109,
          "column": 8,
          "position": 879
        },
        "endLoc": {
          "line": 126,
          "column": 8,
          "position": 997
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 105,
        "end": 122,
        "startLoc": {
          "line": 105,
          "column": 7,
          "position": 864
        },
        "endLoc": {
          "line": 122,
          "column": 9,
          "position": 982
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\"\n              />\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Receipt & Documentation</h3>\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n              <div className=\"text-gray-400 mb-2\"></div>\n              <p className=\"text-sm text-gray-600\">Upload receipt or invoice",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 144,
        "end": 154,
        "startLoc": {
          "line": 144,
          "column": 39,
          "position": 1128
        },
        "endLoc": {
          "line": 154,
          "column": 8,
          "position": 1221
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 140,
        "end": 150,
        "startLoc": {
          "line": 140,
          "column": 39,
          "position": 1115
        },
        "endLoc": {
          "line": 150,
          "column": 11,
          "position": 1208
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "</p>\n              <button className=\"mt-2 text-sm text-[var(--fixzit-blue)] hover:underline\">\n                Choose File\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Expense",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 154,
        "end": 165,
        "startLoc": {
          "line": 154,
          "column": 8,
          "position": 1222
        },
        "endLoc": {
          "line": 165,
          "column": 8,
          "position": 1300
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 150,
        "end": 161,
        "startLoc": {
          "line": 150,
          "column": 9,
          "position": 1211
        },
        "endLoc": {
          "line": 161,
          "column": 8,
          "position": 1289
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "Summary</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Amount</span>\n                <span className=\"font-medium\">SAR 0.00</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">VAT",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 165,
        "end": 172,
        "startLoc": {
          "line": 165,
          "column": 2,
          "position": 1302
        },
        "endLoc": {
          "line": 172,
          "column": 4,
          "position": 1387
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 161,
        "end": 168,
        "startLoc": {
          "line": 161,
          "column": 2,
          "position": 1291
        },
        "endLoc": {
          "line": 168,
          "column": 11,
          "position": 1376
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</span>\n                <span className=\"font-medium\">SAR 0.00</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">VAT (15%)</span>\n                <span className=\"font-medium\">SAR 0.00</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-600\">Total",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 168,
        "end": 176,
        "startLoc": {
          "line": 168,
          "column": 7,
          "position": 1340
        },
        "endLoc": {
          "line": 176,
          "column": 6,
          "position": 1440
        }
      },
      "secondFile": {
        "name": "app/finance/invoices/new/page.tsx",
        "start": 172,
        "end": 180,
        "startLoc": {
          "line": 172,
          "column": 9,
          "position": 1317
        },
        "endLoc": {
          "line": 180,
          "column": 9,
          "position": 1417
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full btn-ghost text-left\">\n                 View",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 228,
        "end": 237,
        "startLoc": {
          "line": 228,
          "column": 4,
          "position": 1982
        },
        "endLoc": {
          "line": 237,
          "column": 5,
          "position": 2055
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 205,
        "end": 214,
        "startLoc": {
          "line": 205,
          "column": 4,
          "position": 1789
        },
        "endLoc": {
          "line": 214,
          "column": 9,
          "position": 1862
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "Templates\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Recent Activity</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Form auto-saved</span>\n                <span className=\"text-gray-400 ml-auto\">2m ago</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Category",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 243,
        "end": 258,
        "startLoc": {
          "line": 243,
          "column": 2,
          "position": 2105
        },
        "endLoc": {
          "line": 258,
          "column": 9,
          "position": 2264
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 220,
        "end": 229,
        "startLoc": {
          "line": 220,
          "column": 2,
          "position": 1912
        },
        "endLoc": {
          "line": 229,
          "column": 9,
          "position": 1898
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Form */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Budget",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/budgets/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 7,
          "position": 194
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 262
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 190
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 258
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "</div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Property\n                </label>\n                <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n                  <option>All Properties</option>\n                  <option>Tower A</option>\n                  <option>Tower B</option>\n                  <option>Villa Complex</option>\n                </select>\n              </div>\n              <",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/budgets/new/page.tsx",
        "start": 69,
        "end": 81,
        "startLoc": {
          "line": 69,
          "column": 15,
          "position": 533
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 627
        }
      },
      "secondFile": {
        "name": "app/finance/expenses/new/page.tsx",
        "start": 65,
        "end": 77,
        "startLoc": {
          "line": 65,
          "column": 15,
          "position": 533
        },
        "endLoc": {
          "line": 77,
          "column": 3,
          "position": 627
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full btn-ghost text-left\">\n                 Budget",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/budgets/new/page.tsx",
        "start": 259,
        "end": 268,
        "startLoc": {
          "line": 259,
          "column": 2,
          "position": 2208
        },
        "endLoc": {
          "line": 268,
          "column": 7,
          "position": 2281
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 205,
        "end": 214,
        "startLoc": {
          "line": 205,
          "column": 4,
          "position": 1789
        },
        "endLoc": {
          "line": 214,
          "column": 9,
          "position": 1862
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "Templates\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Recent Activity</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Form auto-saved</span>\n                <span className=\"text-gray-400 ml-auto\">1m ago</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Budget",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/budgets/new/page.tsx",
        "start": 274,
        "end": 289,
        "startLoc": {
          "line": 274,
          "column": 2,
          "position": 2333
        },
        "endLoc": {
          "line": 289,
          "column": 7,
          "position": 2492
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 220,
        "end": 235,
        "startLoc": {
          "line": 220,
          "column": 2,
          "position": 1912
        },
        "endLoc": {
          "line": 235,
          "column": 6,
          "position": 2071
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "(req: NextRequest, props: { params: Promise<{ id: string }>}): Promise<NextResponse> {\n  const params = await props.params;\n  const user = await requireAbility(\"EDIT\")(req);\n  if (user instanceof NextResponse) return user;\n  await connectToDatabase();\n  const updates",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/[id]/route.ts",
        "start": 45,
        "end": 50,
        "startLoc": {
          "line": 45,
          "column": 6,
          "position": 364
        },
        "endLoc": {
          "line": 50,
          "column": 8,
          "position": 460
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/[id]/materials/route.ts",
        "start": 28,
        "end": 33,
        "startLoc": {
          "line": 28,
          "column": 5,
          "position": 170
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const vendor",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 71,
        "end": 84,
        "startLoc": {
          "line": 71,
          "column": 1,
          "position": 699
        },
        "endLoc": {
          "line": 84,
          "column": 7,
          "position": 883
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "}\n    );\n\n    if (!vendor) {\n      return createSecureResponse({ error: \"Vendor not found\" }, 404, req);\n    }\n\n    return createSecureResponse(vendor, 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 110,
        "end": 123,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 1170
        },
        "endLoc": {
          "line": 123,
          "column": 7,
          "position": 1263
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 87,
        "end": 99,
        "startLoc": {
          "line": 87,
          "column": 5,
          "position": 913
        },
        "endLoc": {
          "line": 99,
          "column": 6,
          "position": 1004
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const vendor = await Vendor.findOneAndUpdate",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 123,
        "end": 136,
        "startLoc": {
          "line": 123,
          "column": 7,
          "position": 1264
        },
        "endLoc": {
          "line": 136,
          "column": 17,
          "position": 1449
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 30,
        "end": 84,
        "startLoc": {
          "line": 30,
          "column": 5,
          "position": 143
        },
        "endLoc": {
          "line": 84,
          "column": 8,
          "position": 891
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "]).optional(),\n  contact: z.object({\n    primary: z.object({\n      name: z.string().optional(),\n      title: z.string().optional(),\n      email: z.string().email().optional(),\n      phone: z.string().optional(),\n      mobile: z.string().optional()\n    }).optional(),\n    secondary: z.object({\n      name: z.string().optional(),\n      email: z.string().email().optional(),\n      phone: z.string().optional()\n    }).optional(),\n    emergency",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 13,
        "end": 27,
        "startLoc": {
          "line": 13,
          "column": 13,
          "position": 154
        },
        "endLoc": {
          "line": 27,
          "column": 10,
          "position": 337
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 13,
        "end": 27,
        "startLoc": {
          "line": 13,
          "column": 13,
          "position": 157
        },
        "endLoc": {
          "line": 27,
          "column": 8,
          "position": 340
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": z.object({\n      street: z.string().optional(),\n      city: z.string().optional(),\n      region: z.string().optional(),\n      postalCode: z.string().optional()\n    }).optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 40,
        "end": 45,
        "startLoc": {
          "line": 40,
          "column": 8,
          "position": 497
        },
        "endLoc": {
          "line": 45,
          "column": 2,
          "position": 571
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 27,
        "end": 33,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 417
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ": z.object({\n      street: z.string().optional(),\n      city: z.string().optional(),\n      region: z.string().optional(),\n      postalCode: z.string().optional()\n    }).optional()\n  }).optional(),\n  preferences",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 46,
        "end": 53,
        "startLoc": {
          "line": 46,
          "column": 10,
          "position": 575
        },
        "endLoc": {
          "line": 53,
          "column": 12,
          "position": 660
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 27,
        "end": 34,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 341
        },
        "endLoc": {
          "line": 34,
          "column": 9,
          "position": 426
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const tenant",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 89,
        "end": 102,
        "startLoc": {
          "line": 89,
          "column": 1,
          "position": 889
        },
        "endLoc": {
          "line": 102,
          "column": 7,
          "position": 1073
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data = updateTenantSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 111,
        "end": 123,
        "startLoc": {
          "line": 111,
          "column": 7,
          "position": 1150
        },
        "endLoc": {
          "line": 123,
          "column": 19,
          "position": 1277
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 93,
        "end": 105,
        "startLoc": {
          "line": 93,
          "column": 7,
          "position": 960
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1087
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "}\n    );\n\n    if (!tenant) {\n      return createSecureResponse({ error: \"Tenant not found\" }, 404, req);\n    }\n\n    return createSecureResponse(tenant, 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 128,
        "end": 141,
        "startLoc": {
          "line": 128,
          "column": 2,
          "position": 1360
        },
        "endLoc": {
          "line": 141,
          "column": 7,
          "position": 1453
        }
      },
      "secondFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 105,
        "end": 117,
        "startLoc": {
          "line": 105,
          "column": 5,
          "position": 1103
        },
        "endLoc": {
          "line": 117,
          "column": 6,
          "position": 1194
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const tenant = await Tenant.findOneAndUpdate",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 135,
        "end": 154,
        "startLoc": {
          "line": 135,
          "column": 7,
          "position": 1409
        },
        "endLoc": {
          "line": 154,
          "column": 17,
          "position": 1639
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 117,
        "end": 102,
        "startLoc": {
          "line": 117,
          "column": 7,
          "position": 1219
        },
        "endLoc": {
          "line": 102,
          "column": 8,
          "position": 1081
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/welcome-email/route.ts",
        "start": 39,
        "end": 48,
        "startLoc": {
          "line": 39,
          "column": 1,
          "position": 206
        },
        "endLoc": {
          "line": 48,
          "column": 5,
          "position": 329
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 35,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const sp",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/welcome-email/route.ts",
        "start": 232,
        "end": 240,
        "startLoc": {
          "line": 232,
          "column": 1,
          "position": 1367
        },
        "endLoc": {
          "line": 240,
          "column": 3,
          "position": 1485
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest){\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/tickets/route.ts",
        "start": 40,
        "end": 49,
        "startLoc": {
          "line": 40,
          "column": 1,
          "position": 405
        },
        "endLoc": {
          "line": 49,
          "column": 6,
          "position": 525
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const user = await getSessionUser(req);",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/tickets/route.ts",
        "start": 83,
        "end": 93,
        "startLoc": {
          "line": 83,
          "column": 1,
          "position": 916
        },
        "endLoc": {
          "line": 93,
          "column": 2,
          "position": 1057
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 50,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 545
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const native",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/support/incidents/route.ts",
        "start": 29,
        "end": 37,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 108
        },
        "endLoc": {
          "line": 37,
          "column": 7,
          "position": 226
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 99,
      "fragment": "import { NextRequest} from 'next/server';\nimport { dbConnect } from '@/db/mongoose';\nimport { createSubscriptionCheckout } from '@/services/checkout';\nimport { getSessionUser } from '@/server/middleware/withAuthRbac';\nimport { rateLimit } from '@/server/security/rateLimit';\nimport { forbiddenError, validationError, unauthorizedError, rateLimitError, handleApiError } from '@/server/utils/errorResponses';\nimport { createSecureResponse } from '@/server/security/headers';\n\n/**\n * @openapi\n * /api/subscribe/corporate:\n *   post:\n *     summary: Create corporate subscription\n *     description: Initiates a corporate subscription checkout for multiple users/seats. Requires admin privileges. Creates PayTabs payment session for subscription.\n *     tags:\n *       - Subscriptions\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             required:\n *               - tenantId\n *               - modules\n *               - seats\n *               - customer\n *             properties:\n *               tenantId:\n *                 type: string\n *                 description: Organization/tenant identifier\n *                 example: \"tenant-abc-123\"\n *               modules:\n *                 type: array\n *                 items:\n *                   type: string\n *                 description: List of module names to subscribe to\n *                 example: [\"WORK_ORDERS\", \"PROPERTIES\", \"INVOICES\"]\n *               seats:\n *                 type: integer\n *                 minimum: 1\n *                 description: Number of user seats\n *                 example: 50\n *               billingCycle:\n *                 type: string\n *                 enum: [MONTHLY, ANNUAL]\n *                 default: MONTHLY\n *                 example: \"ANNUAL\"\n *               currency:\n *                 type: string\n *                 default: USD\n *                 example: \"SAR\"\n *               customer:\n *                 type: object\n *                 required:\n *                   - email\n *                 properties:\n *                   email:\n *                     type: string\n *                     format: email\n *                     example: \"admin@company.com\"\n *                   name:\n *                     type: string\n *                     example: \"Corporate Admin\"\n *               priceBookId:\n *                 type: string\n *                 description: Custom pricing book ID\n *               metadata:\n *                 type: object\n *                 description: Additional metadata\n *     responses:\n *       200:\n *         description: Subscription checkout created successfully\n *         content:\n *           application/json:\n *             schema:\n *               type: object\n *               properties:\n *                 checkoutUrl:\n *                   type: string\n *                   format: uri\n *                   description: Payment gateway checkout URL\n *                 subscriptionId:\n *                   type: string\n *                   description: Created subscription ID\n *       400:\n *         description: Validation error\n *       401:\n *         description: Unauthorized\n *       403:\n *         description: Forbidden - Requires admin role or tenant mismatch\n *       429:\n *         description: Rate limit exceeded\n *       500:\n *         description: Internal server error\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/subscribe/corporate/route.ts",
        "start": 1,
        "end": 99,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 99,
          "column": 4,
          "position": 103
        }
      },
      "secondFile": {
        "name": "app/api/subscribe/owner/route.ts",
        "start": 1,
        "end": 80,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 80,
          "column": 4,
          "position": 103
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n    }\n\n    if (!Array.isArray(body.modules) || body.modules.length === 0) {\n      return validationError('At least one module is required');\n    }\n\n    if (!body.customer?.email) {\n      return validationError('Customer email is required');\n    }\n\n    const seats = Number(body.seats);\n    if (!Number.isFinite(seats) || seats <= 0) {\n      return validationError('Invalid seat count - must be positive number');\n    }\n\n    const result = await createSubscriptionCheckout({\n      subscriberType: 'CORPORATE'",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/subscribe/corporate/route.ts",
        "start": 125,
        "end": 142,
        "startLoc": {
          "line": 125,
          "column": 24,
          "position": 331
        },
        "endLoc": {
          "line": 142,
          "column": 12,
          "position": 476
        }
      },
      "secondFile": {
        "name": "app/api/subscribe/owner/route.ts",
        "start": 104,
        "end": 121,
        "startLoc": {
          "line": 104,
          "column": 28,
          "position": 316
        },
        "endLoc": {
          "line": 121,
          "column": 8,
          "position": 461
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Force database reconnection by accessing it",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/reconnect/route.ts",
        "start": 24,
        "end": 33,
        "startLoc": {
          "line": 24,
          "column": 1,
          "position": 59
        },
        "endLoc": {
          "line": 33,
          "column": 47,
          "position": 180
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const body = await",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/log/route.ts",
        "start": 26,
        "end": 35,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 85
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 212
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 48,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 48,
          "column": 19,
          "position": 333
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/log/route.ts",
        "start": 58,
        "end": 67,
        "startLoc": {
          "line": 58,
          "column": 1,
          "position": 429
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 552
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 35,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const healthStatus",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/health/route.ts",
        "start": 27,
        "end": 35,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 73
        },
        "endLoc": {
          "line": 35,
          "column": 13,
          "position": 191
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  // Force database reconnection",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/health/route.ts",
        "start": 87,
        "end": 95,
        "startLoc": {
          "line": 87,
          "column": 1,
          "position": 677
        },
        "endLoc": {
          "line": 95,
          "column": 31,
          "position": 793
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const body = await req.json();\n    const { event, data } = body;\n\n    // Log the alert to database",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/alert/route.ts",
        "start": 26,
        "end": 38,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 85
        },
        "endLoc": {
          "line": 38,
          "column": 29,
          "position": 240
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 29,
          "position": 240
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "}, 500, req);\n  }\n}\n\nexport async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const native",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/qa/alert/route.ts",
        "start": 53,
        "end": 66,
        "startLoc": {
          "line": 53,
          "column": 2,
          "position": 393
        },
        "endLoc": {
          "line": 66,
          "column": 7,
          "position": 532
        }
      },
      "secondFile": {
        "name": "app/api/qa/log/route.ts",
        "start": 54,
        "end": 35,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 413
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/public/rfqs/route.ts",
        "start": 46,
        "end": 57,
        "startLoc": {
          "line": 46,
          "column": 1,
          "position": 363
        },
        "endLoc": {
          "line": 57,
          "column": 2,
          "position": 495
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 50,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 50,
          "column": 5,
          "position": 535
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "};\n\n    (mockFindChain.lean as ReturnType<typeof vi.fn>).mockResolvedValue([sample]);\n    RFQMock.countDocuments.mockResolvedValue(1);\n\n    const req = makeRequest({});\n    const res = await GET(req);\n    const json = await readJson(res);\n\n    expect(json.ok).toBe(true);\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/public/rfqs/route.test.ts",
        "start": 299,
        "end": 309,
        "startLoc": {
          "line": 299,
          "column": 5,
          "position": 2659
        },
        "endLoc": {
          "line": 309,
          "column": 6,
          "position": 2761
        }
      },
      "secondFile": {
        "name": "app/api/public/rfqs/route.test.ts",
        "start": 228,
        "end": 238,
        "startLoc": {
          "line": 228,
          "column": 5,
          "position": 2029
        },
        "endLoc": {
          "line": 238,
          "column": 7,
          "position": 2131
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ").optional(),\n  address: z.object({\n    street: z.string().optional(),\n    city: z.string().optional(),\n    region: z.string().optional(),\n    postalCode: z.string().optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 15,
        "end": 20,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 191
        },
        "endLoc": {
          "line": 20,
          "column": 2,
          "position": 266
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 26,
        "end": 32,
        "startLoc": {
          "line": 26,
          "column": 2,
          "position": 332
        },
        "endLoc": {
          "line": 32,
          "column": 2,
          "position": 409
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const property",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 86,
        "end": 99,
        "startLoc": {
          "line": 86,
          "column": 1,
          "position": 882
        },
        "endLoc": {
          "line": 99,
          "column": 9,
          "position": 1066
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data = updatePropertySchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 108,
        "end": 120,
        "startLoc": {
          "line": 108,
          "column": 9,
          "position": 1143
        },
        "endLoc": {
          "line": 120,
          "column": 21,
          "position": 1270
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 93,
        "end": 105,
        "startLoc": {
          "line": 93,
          "column": 7,
          "position": 960
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1087
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "}\n    );\n\n    if (!property) {\n      return createSecureResponse({ error: \"Property not found\" }, 404, req);\n    }\n\n    return createSecureResponse(property, 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 125,
        "end": 138,
        "startLoc": {
          "line": 125,
          "column": 2,
          "position": 1353
        },
        "endLoc": {
          "line": 138,
          "column": 7,
          "position": 1446
        }
      },
      "secondFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 102,
        "end": 114,
        "startLoc": {
          "line": 102,
          "column": 5,
          "position": 1096
        },
        "endLoc": {
          "line": 114,
          "column": 6,
          "position": 1187
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    // Soft delete by updating status",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 132,
        "end": 151,
        "startLoc": {
          "line": 132,
          "column": 9,
          "position": 1402
        },
        "endLoc": {
          "line": 151,
          "column": 34,
          "position": 1622
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 117,
        "end": 53,
        "startLoc": {
          "line": 117,
          "column": 7,
          "position": 1219
        },
        "endLoc": {
          "line": 53,
          "column": 6,
          "position": 283
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const project",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/[id]/route.ts",
        "start": 53,
        "end": 66,
        "startLoc": {
          "line": 53,
          "column": 1,
          "position": 504
        },
        "endLoc": {
          "line": 66,
          "column": 8,
          "position": 688
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "return handleApiError(error);\n  }\n}\n\nexport async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data = updateProjectSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/[id]/route.ts",
        "start": 78,
        "end": 88,
        "startLoc": {
          "line": 78,
          "column": 5,
          "position": 801
        },
        "endLoc": {
          "line": 88,
          "column": 20,
          "position": 904
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 95,
        "end": 105,
        "startLoc": {
          "line": 95,
          "column": 5,
          "position": 984
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1087
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const project = await Project.findOneAndUpdate",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/[id]/route.ts",
        "start": 106,
        "end": 125,
        "startLoc": {
          "line": 106,
          "column": 8,
          "position": 1056
        },
        "endLoc": {
          "line": 125,
          "column": 17,
          "position": 1286
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 117,
        "end": 66,
        "startLoc": {
          "line": 117,
          "column": 7,
          "position": 1219
        },
        "endLoc": {
          "line": 66,
          "column": 8,
          "position": 696
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const url",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/paytabs/return/route.ts",
        "start": 22,
        "end": 30,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 43
        },
        "endLoc": {
          "line": 30,
          "column": 4,
          "position": 161
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await dbConnect",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/paytabs/callback/route.ts",
        "start": 26,
        "end": 34,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 85
        },
        "endLoc": {
          "line": 34,
          "column": 10,
          "position": 203
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 18,
          "position": 223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 10, 300);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const raw",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/payments/callback/route.ts",
        "start": 28,
        "end": 37,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 108
        },
        "endLoc": {
          "line": 37,
          "column": 4,
          "position": 230
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 54,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 54,
          "column": 5,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  let",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/bulk/route.ts",
        "start": 33,
        "end": 41,
        "startLoc": {
          "line": 33,
          "column": 1,
          "position": 160
        },
        "endLoc": {
          "line": 41,
          "column": 4,
          "position": 276
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  let",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/[id]/route.ts",
        "start": 32,
        "end": 41,
        "startLoc": {
          "line": 32,
          "column": 1,
          "position": 150
        },
        "endLoc": {
          "line": 41,
          "column": 4,
          "position": 303
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 39,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 39,
          "column": 6,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "}\n\nexport async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  let orgId: string;\n  try {\n    const user = await getSessionUser(req);\n    orgId = user.orgId;\n  } catch {\n    return createSecureResponse({ error: 'Unauthorized' }, 401, req);\n  }\n  const { notifications } = await getCollections();\n  const _id = (() => { try { return new ObjectId(params.id); } catch { return null; } })();\n  if (!_id) return createSecureResponse({ error: 'Invalid id' }, 400, req);\n  const res",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/[id]/route.ts",
        "start": 81,
        "end": 102,
        "startLoc": {
          "line": 81,
          "column": 1,
          "position": 1059
        },
        "endLoc": {
          "line": 102,
          "column": 4,
          "position": 1385
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 121,
        "end": 51,
        "startLoc": {
          "line": 121,
          "column": 1,
          "position": 1254
        },
        "endLoc": {
          "line": 51,
          "column": 4,
          "position": 473
        }
      }
    },
    {
      "format": "typescript",
      "lines": 226,
      "fragment": "import { NextRequest } from 'next/server';\nimport { z } from 'zod';\nimport { resolveMarketplaceContext } from '@/lib/marketplace/context';\nimport { connectToDatabase } from '@/lib/mongodb-unified';\nimport RFQ from '@/server/models/marketplace/RFQ';\nimport { serializeRFQ } from '@/lib/marketplace/serializers';\nimport { objectIdFrom } from '@/lib/marketplace/objectIds';\nimport { rateLimit } from '@/server/security/rateLimit';\nimport {\n  unauthorizedError,\n  zodValidationError,\n  rateLimitError,\n  handleApiError\n} from '@/server/utils/errorResponses';\nimport { createSecureResponse } from '@/server/security/headers';\n\nconst CreateRFQSchema = z.object({\n  title: z.string().min(1).max(200),\n  description: z.string().optional(),\n  categoryId: z.string().optional(),\n  quantity: z.number().int().positive().optional(),\n  budget: z.number().positive().optional(),\n  currency: z.string().default('SAR'),\n  deadline: z.string().datetime().optional()\n});\n\n/**\n * @openapi\n * /api/marketplace/rfq:\n *   get:\n *     summary: List RFQs (Request for Quotations)\n *     description: Retrieves paginated list of RFQs for the authenticated organization\n *     tags: [Marketplace, RFQ]\n *     security:\n *       - bearerAuth: []\n *     parameters:\n *       - in: query\n *         name: limit\n *         schema:\n *           type: integer\n *           default: 50\n *           maximum: 100\n *         description: Maximum number of RFQs to return\n *       - in: query\n *         name: status\n *         schema:\n *           type: string\n *           enum: [OPEN, CLOSED, AWARDED]\n *         description: Filter by RFQ status\n *     responses:\n *       200:\n *         description: List of RFQs retrieved successfully\n *         content:\n *           application/json:\n *             schema:\n *               type: object\n *               properties:\n *                 ok:\n *                   type: boolean\n *                   example: true\n *                 data:\n *                   type: array\n *                   items:\n *                     $ref: '#/components/schemas/RFQ'\n *       401:\n *         $ref: '#/components/responses/Unauthorized'\n *       429:\n *         $ref: '#/components/responses/RateLimitExceeded'\n *       500:\n *         $ref: '#/components/responses/InternalServerError'\n */\nexport async function GET(request: NextRequest) {\n  try {\n    // Authentication via marketplace context\n    const context = await resolveMarketplaceContext(request);\n    if (!context.userId) {\n      return unauthorizedError();\n    }\n    \n    // Rate limiting - read operations: 60 req/min\n    const key = `marketplace:rfq:list:${context.orgId}`;\n    const rl = rateLimit(key, 60, 60_000);\n    if (!rl.allowed) return rateLimitError();\n    \n    // Database connection\n    await connectToDatabase();\n    \n    // Query with tenant isolation\n    const rfqs = await RFQ.find({ orgId: context.orgId })\n      .sort({ createdAt: -1 })\n      .limit(50);\n    \n    // Secure response\n    return createSecureResponse(\n      { ok: true, data: rfqs.map(rfq => serializeRFQ(rfq)) },\n      200,\n      request\n    );\n    \n  } catch (error) {\n    return handleApiError(error);\n  }\n}\n\n/**\n * @openapi\n * /api/marketplace/rfq:\n *   post:\n *     summary: Create new RFQ\n *     description: Creates a new Request for Quotation for the authenticated user's organization\n *     tags: [Marketplace, RFQ]\n *     security:\n *       - bearerAuth: []\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             type: object\n *             required: [title]\n *             properties:\n *               title:\n *                 type: string\n *                 minLength: 1\n *                 maxLength: 200\n *                 example: \"Office Furniture for 50-person workspace\"\n *               description:\n *                 type: string\n *                 example: \"Need ergonomic chairs, desks, and storage\"\n *               categoryId:\n *                 type: string\n *                 format: objectId\n *               quantity:\n *                 type: integer\n *                 minimum: 1\n *                 example: 50\n *               budget:\n *                 type: number\n *                 minimum: 0\n *                 example: 50000\n *               currency:\n *                 type: string\n *                 default: SAR\n *                 enum: [SAR, USD, EUR, AED]\n *               deadline:\n *                 type: string\n *                 format: date-time\n *                 example: \"2025-12-31T23:59:59Z\"\n *           example:\n *             title: \"Office Furniture for 50-person workspace\"\n *             description: \"Need ergonomic chairs, desks, and storage units\"\n *             categoryId: \"507f1f77bcf86cd799439011\"\n *             quantity: 50\n *             budget: 50000\n *             currency: \"SAR\"\n *             deadline: \"2025-12-31T23:59:59Z\"\n *     responses:\n *       201:\n *         description: RFQ created successfully\n *         content:\n *           application/json:\n *             schema:\n *               type: object\n *               properties:\n *                 ok:\n *                   type: boolean\n *                   example: true\n *                 data:\n *                   $ref: '#/components/schemas/RFQ'\n *       400:\n *         $ref: '#/components/responses/ValidationError'\n *       401:\n *         $ref: '#/components/responses/Unauthorized'\n *       429:\n *         $ref: '#/components/responses/RateLimitExceeded'\n *       500:\n *         $ref: '#/components/responses/InternalServerError'\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Authentication\n    const context = await resolveMarketplaceContext(request);\n    if (!context.userId) {\n      return unauthorizedError();\n    }\n\n    // Rate limiting - write operations: 20 req/min\n    const key = `marketplace:rfq:create:${context.orgId}`;\n    const rl = rateLimit(key, 20, 60_000);\n    if (!rl.allowed) return rateLimitError();\n\n    // Input validation\n    const body = await request.json();\n    const payload = CreateRFQSchema.parse(body);\n    \n    // Database connection\n    await connectToDatabase();\n\n    // Create RFQ with tenant isolation\n    const rfq = await RFQ.create({\n      orgId: context.orgId,\n      requesterId: context.userId,\n      title: payload.title,\n      description: payload.description,\n      categoryId: payload.categoryId ? objectIdFrom(payload.categoryId) : undefined,\n      quantity: payload.quantity,\n      budget: payload.budget,\n      currency: payload.currency,\n      deadline: payload.deadline ? new Date(payload.deadline) : undefined,\n      status: 'OPEN'\n    });\n\n    // Secure response\n    return createSecureResponse(\n      { ok: true, data: serializeRFQ(rfq) },\n      201,\n      request\n    );\n    \n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return zodValidationError(error, request);\n    }\n    return handleApiError(error);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/rfq/route.FIXED.ts",
        "start": 1,
        "end": 226,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 226,
          "column": 2,
          "position": 955
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/rfq/route.ts",
        "start": 1,
        "end": 226,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 226,
          "column": 2,
          "position": 955
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(request: NextRequest) {\n  try {\n    if (process.env.MARKETPLACE_ENABLED !== 'true') {\n      return createSecureResponse({ error: 'Marketplace endpoint not available in this deployment' }, 501, request);\n    }\n    // Use unified database connection\n    await connectToDatabase();\n    const ProductMod = await import('@/server/models/marketplace/Product').catch(() => null);\n    const Product = ProductMod && (ProductMod.default || ProductMod);\n    if (!Product) {\n      return createSecureResponse({ error: 'Marketplace Product dependencies are not available in this deployment' }, 501, request);\n    }\n    const context = await resolveMarketplaceContext(request);\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/products/route.ts",
        "start": 99,
        "end": 112,
        "startLoc": {
          "line": 99,
          "column": 5,
          "position": 1178
        },
        "endLoc": {
          "line": 112,
          "column": 3,
          "position": 1343
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/products/route.ts",
        "start": 56,
        "end": 69,
        "startLoc": {
          "line": 56,
          "column": 4,
          "position": 661
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 826
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "} as unknown as NextRequest;\n    const res = await GET(req);\n    const json = await getJson(res);\n\n    expect(res.status).toBe(200);\n    expect(json.ok).toBe(true);\n    expect(json.data.tenantId).toBe('my-tenant'",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 84,
        "end": 90,
        "startLoc": {
          "line": 84,
          "column": 2,
          "position": 1137
        },
        "endLoc": {
          "line": 90,
          "column": 12,
          "position": 1219
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 57,
        "end": 63,
        "startLoc": {
          "line": 57,
          "column": 2,
          "position": 728
        },
        "endLoc": {
          "line": 63,
          "column": 17,
          "position": 810
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", categoryDocs);\n    (getCollections as ReturnType<typeof vi.fn>).mockResolvedValue(value);\n\n    const req = { url: 'http://localhost/api/marketplace/categories' } as unknown as NextRequest;\n    const res = await GET(req);\n    const json = await getJson(res);\n\n    expect(res.status).toBe(200);\n    expect(json.ok).toBe(true);\n    expect(mocks",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 99,
        "end": 108,
        "startLoc": {
          "line": 99,
          "column": 2,
          "position": 1387
        },
        "endLoc": {
          "line": 108,
          "column": 6,
          "position": 1503
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 54,
        "end": 63,
        "startLoc": {
          "line": 54,
          "column": 15,
          "position": 685
        },
        "endLoc": {
          "line": 63,
          "column": 5,
          "position": 801
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "value } = makeCollections(distinctValues, categoryDocs);\n    (getCollections as ReturnType<typeof vi.fn>).mockResolvedValue(value);\n\n    const req = { url: 'http://localhost/api/marketplace/categories' } as unknown as NextRequest;\n    const res = await GET(req);\n    const json = await getJson(res);\n\n    // Note: For numeric ids, the implementation uses toString()",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 160,
        "end": 167,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 2168
        },
        "endLoc": {
          "line": 167,
          "column": 61,
          "position": 2263
        }
      },
      "secondFile": {
        "name": "app/api/marketplace/categories/route.test.ts",
        "start": 54,
        "end": 61,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 676
        },
        "endLoc": {
          "line": 61,
          "column": 7,
          "position": 771
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Best-effort local rate limiting",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/kb/search/route.ts",
        "start": 45,
        "end": 54,
        "startLoc": {
          "line": 45,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 54,
          "column": 35,
          "position": 289
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 43,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req).catch(() => null);\n    if (!user ||",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/kb/ingest/route.ts",
        "start": 26,
        "end": 36,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 82
        },
        "endLoc": {
          "line": 36,
          "column": 3,
          "position": 234
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 36,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 36,
          "column": 2,
          "position": 237
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req).catch(() => null);\n    if (!user || !['SUPER_ADMIN','ADMIN'].includes(user.role)) {\n      return createSecureResponse({ error: 'Forbidden' }, 403, req);\n    }\n    const url",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/kb/ingest/route.ts",
        "start": 60,
        "end": 73,
        "startLoc": {
          "line": 60,
          "column": 7,
          "position": 574
        },
        "endLoc": {
          "line": 73,
          "column": 4,
          "position": 766
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 39,
        "startLoc": {
          "line": 30,
          "column": 4,
          "position": 113
        },
        "endLoc": {
          "line": 39,
          "column": 5,
          "position": 281
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const invoice",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/[id]/route.ts",
        "start": 44,
        "end": 57,
        "startLoc": {
          "line": 44,
          "column": 1,
          "position": 310
        },
        "endLoc": {
          "line": 57,
          "column": 8,
          "position": 494
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    return handleApiError(error);\n  }\n}\n\nexport async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data = updateInvoiceSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/[id]/route.ts",
        "start": 78,
        "end": 90,
        "startLoc": {
          "line": 78,
          "column": 8,
          "position": 674
        },
        "endLoc": {
          "line": 90,
          "column": 20,
          "position": 801
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 93,
        "end": 105,
        "startLoc": {
          "line": 93,
          "column": 7,
          "position": 960
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1087
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "return handleApiError(error);\n  }\n}\n\nexport async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const invoice = await Invoice.findOne({\n      _id: params.id,\n      tenantId: user.tenantId,",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/[id]/route.ts",
        "start": 209,
        "end": 228,
        "startLoc": {
          "line": 209,
          "column": 5,
          "position": 1994
        },
        "endLoc": {
          "line": 228,
          "column": 2,
          "position": 2220
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 119,
        "end": 60,
        "startLoc": {
          "line": 119,
          "column": 5,
          "position": 1243
        },
        "endLoc": {
          "line": 60,
          "column": 2,
          "position": 524
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req).catch(() => null);\n    // Distributed rate limit per IP (uses Redis if available, falls back to in-memory)",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/help/ask/route.ts",
        "start": 139,
        "end": 149,
        "startLoc": {
          "line": 139,
          "column": 1,
          "position": 936
        },
        "endLoc": {
          "line": 149,
          "column": 84,
          "position": 1082
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 36,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 36,
          "column": 3,
          "position": 232
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const now = Date.now();\n  const rec = rateMap.get(key) || { count: 0, ts: now };\n  if (now - rec.ts > 60_000) { rec.count = 0; rec.ts = now; }\n  rec.count += 1;\n  rateMap.set(key, rec);\n  if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/help/ask/route.ts",
        "start": 296,
        "end": 301,
        "startLoc": {
          "line": 296,
          "column": 3,
          "position": 3244
        },
        "endLoc": {
          "line": 301,
          "column": 3,
          "position": 3352
        }
      },
      "secondFile": {
        "name": "app/api/kb/search/route.ts",
        "start": 141,
        "end": 146,
        "startLoc": {
          "line": 141,
          "column": 3,
          "position": 1437
        },
        "endLoc": {
          "line": 146,
          "column": 6,
          "position": 1545
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function GET(req: NextRequest){\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req).catch(() => null);\n    if (!user) return createSecureResponse({ error: 'Unauthorized' }, 401, req);\n    const url",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/help/articles/route.ts",
        "start": 68,
        "end": 79,
        "startLoc": {
          "line": 68,
          "column": 1,
          "position": 199
        },
        "endLoc": {
          "line": 79,
          "column": 4,
          "position": 375
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 37,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 37,
          "column": 5,
          "position": 263
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", { projection: { _id: 0, slug: 1, title: 1, category: 1, updatedAt: 1 } })\n        .maxTimeMS(250)\n        .sort({ updatedAt: -1 })\n        .skip(skip)\n        .limit(limit)\n        .toArray();\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/help/articles/route.ts",
        "start": 153,
        "end": 161,
        "startLoc": {
          "line": 153,
          "column": 7,
          "position": 1622
        },
        "endLoc": {
          "line": 161,
          "column": 6,
          "position": 1713
        }
      },
      "secondFile": {
        "name": "app/api/help/articles/route.ts",
        "start": 143,
        "end": 150,
        "startLoc": {
          "line": 143,
          "column": 12,
          "position": 1497
        },
        "endLoc": {
          "line": 150,
          "column": 2,
          "position": 1587
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Authentication & Authorization\n    const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n    if (!token) {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n\n    const user = await getUserFromToken(token);\n\n    if (!user) {\n\n      return createSecureResponse({ error: 'Invalid token' }, 401, req);\n\n    }\n\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/finance/invoices/route.ts",
        "start": 39,
        "end": 62,
        "startLoc": {
          "line": 39,
          "column": 1,
          "position": 264
        },
        "endLoc": {
          "line": 62,
          "column": 3,
          "position": 509
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 54,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 54,
          "column": 76,
          "position": 410
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": "}\n\nexport async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Authentication & Authorization\n    const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n    if (!token) {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n\n    const user = await getUserFromToken(token);\n\n    if (!user) {\n\n      return createSecureResponse({ error: 'Invalid token' }, 401, req);\n\n    }\n\n    if (!user?.orgId) {\n\n      return NextResponse.json(\n\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n\n        { status: 401 }\n\n      );\n\n    }\n\n    // Role-based access control - only finance roles can create invoices",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/finance/invoices/route.ts",
        "start": 93,
        "end": 130,
        "startLoc": {
          "line": 93,
          "column": 1,
          "position": 851
        },
        "endLoc": {
          "line": 130,
          "column": 70,
          "position": 1160
        }
      },
      "secondFile": {
        "name": "app/api/qa/health/route.ts",
        "start": 85,
        "end": 74,
        "startLoc": {
          "line": 85,
          "column": 1,
          "position": 674
        },
        "endLoc": {
          "line": 74,
          "column": 68,
          "position": 570
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "await connectToDatabase();\n    const jobs = await Job.find({ status: 'published', visibility: 'public' })\n      .sort({ publishedAt: -1 })\n      .lean<JobFeedDoc[]>();\n\n    const items = (jobs as JobFeedDoc[]).map((j) => `\n    <job>\n      <title><![CDATA[",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/feeds/indeed/route.ts",
        "start": 60,
        "end": 67,
        "startLoc": {
          "line": 60,
          "column": 5,
          "position": 290
        },
        "endLoc": {
          "line": 67,
          "column": 23,
          "position": 379
        }
      },
      "secondFile": {
        "name": "app/api/feeds/linkedin/route.ts",
        "start": 46,
        "end": 53,
        "startLoc": {
          "line": 46,
          "column": 3,
          "position": 213
        },
        "endLoc": {
          "line": 53,
          "column": 11,
          "position": 302
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const session",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/copilot/profile/route.ts",
        "start": 27,
        "end": 35,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 92
        },
        "endLoc": {
          "line": 35,
          "column": 8,
          "position": 210
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const secret",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/copilot/knowledge/route.ts",
        "start": 44,
        "end": 52,
        "startLoc": {
          "line": 44,
          "column": 1,
          "position": 282
        },
        "endLoc": {
          "line": 52,
          "column": 7,
          "position": 400
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const session = await resolveCopilotSession(req);\n\n  const contentType",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/copilot/chat/route.ts",
        "start": 58,
        "end": 68,
        "startLoc": {
          "line": 58,
          "column": 1,
          "position": 402
        },
        "endLoc": {
          "line": 68,
          "column": 12,
          "position": 536
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 36,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 36,
          "column": 6,
          "position": 225
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await dbConnect();\n  const body",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/checkout/session/route.ts",
        "start": 26,
        "end": 35,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 79
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 205
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 35,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 35,
          "column": 8,
          "position": 211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",\n    ownerUserId: body.ownerUserId,\n    modules: body.modules,\n    seats,\n    billingCycle: body.billingCycle === 'ANNUAL' ? 'ANNUAL' : 'MONTHLY',\n    currency: body.currency ?? 'USD',\n    customer: body.customer,\n    priceBookId: body.priceBookId,\n    metadata: body",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/checkout/session/route.ts",
        "start": 56,
        "end": 64,
        "startLoc": {
          "line": 56,
          "column": 9,
          "position": 456
        },
        "endLoc": {
          "line": 64,
          "column": 5,
          "position": 537
        }
      },
      "secondFile": {
        "name": "app/api/subscribe/owner/route.ts",
        "start": 121,
        "end": 129,
        "startLoc": {
          "line": 121,
          "column": 8,
          "position": 462
        },
        "endLoc": {
          "line": 129,
          "column": 2,
          "position": 543
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n    modules: body.modules,\n    seats,\n    billingCycle: body.billingCycle === 'ANNUAL' ? 'ANNUAL' : 'MONTHLY',\n    currency: body.currency ?? 'USD',\n    customer: body.customer,\n    priceBookId: body.priceBookId,\n    metadata: body.metadata});\n\n  return createSecureResponse(result, 200, req);\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/checkout/session/route.ts",
        "start": 57,
        "end": 67,
        "startLoc": {
          "line": 57,
          "column": 12,
          "position": 465
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 560
        }
      },
      "secondFile": {
        "name": "app/api/subscribe/corporate/route.ts",
        "start": 143,
        "end": 153,
        "startLoc": {
          "line": 143,
          "column": 9,
          "position": 486
        },
        "endLoc": {
          "line": 153,
          "column": 2,
          "position": 582
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await dbConnect();\n\n  const body = await req.json();\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/checkout/quote/route.ts",
        "start": 26,
        "end": 37,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 79
        },
        "endLoc": {
          "line": 37,
          "column": 6,
          "position": 220
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 37,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 37,
          "column": 3,
          "position": 220
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  await dbConnect();\n  const body = await req.json();\n\n  /**\n   * PayTabs Payment Gateway Callback Flow\n   * When PayTabs sends a callback with payment confirmation,\n   * we normalize and finalize the transaction\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/checkout/complete/route.ts",
        "start": 32,
        "end": 45,
        "startLoc": {
          "line": 32,
          "column": 3,
          "position": 112
        },
        "endLoc": {
          "line": 45,
          "column": 6,
          "position": 233
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/[id]/reply/route.ts",
        "start": 32,
        "end": 37,
        "startLoc": {
          "line": 32,
          "column": 3,
          "position": 179
        },
        "endLoc": {
          "line": 37,
          "column": 3,
          "position": 220
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const formData",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/careers/apply/route.ts",
        "start": 22,
        "end": 31,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 43
        },
        "endLoc": {
          "line": 31,
          "column": 9,
          "position": 166
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 35,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 10, 300);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Authentication & Authorization",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/billing/subscribe/route.ts",
        "start": 48,
        "end": 57,
        "startLoc": {
          "line": 48,
          "column": 1,
          "position": 358
        },
        "endLoc": {
          "line": 57,
          "column": 34,
          "position": 478
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 54,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 54,
          "column": 6,
          "position": 287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Authentication & Authorization\n    const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n    if (!token) {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n\n    const user = await getUserFromToken(token);\n    if (!user) {\n      return createSecureResponse({ error: 'Invalid token' }, 401, req);\n    }\n\n    // Role-based access control - only billing admins or org admins can subscribe",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/billing/subscribe/route.ts",
        "start": 51,
        "end": 68,
        "startLoc": {
          "line": 51,
          "column": 4,
          "position": 445
        },
        "endLoc": {
          "line": 68,
          "column": 79,
          "position": 599
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 37,
        "end": 54,
        "startLoc": {
          "line": 37,
          "column": 5,
          "position": 256
        },
        "endLoc": {
          "line": 54,
          "column": 76,
          "position": 410
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const input",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/billing/quote/route.ts",
        "start": 24,
        "end": 32,
        "startLoc": {
          "line": 24,
          "column": 1,
          "position": 66
        },
        "endLoc": {
          "line": 32,
          "column": 6,
          "position": 184
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/billing/charge-recurring/route.ts",
        "start": 28,
        "end": 36,
        "startLoc": {
          "line": 28,
          "column": 1,
          "position": 94
        },
        "endLoc": {
          "line": 36,
          "column": 3,
          "position": 210
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 38,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 275
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/benchmarks/compare/route.ts",
        "start": 36,
        "end": 46,
        "startLoc": {
          "line": 36,
          "column": 1,
          "position": 191
        },
        "endLoc": {
          "line": 46,
          "column": 5,
          "position": 322
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 50,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 50,
          "column": 5,
          "position": 535
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const body = await",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/public-post/route.ts",
        "start": 48,
        "end": 58,
        "startLoc": {
          "line": 48,
          "column": 1,
          "position": 426
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 561
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 46,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 46,
          "column": 14,
          "position": 326
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const body = await req.json();\n    const authHeader",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/moderation/route.ts",
        "start": 27,
        "end": 38,
        "startLoc": {
          "line": 27,
          "column": 4,
          "position": 109
        },
        "endLoc": {
          "line": 38,
          "column": 11,
          "position": 249
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 60,
        "startLoc": {
          "line": 30,
          "column": 4,
          "position": 113
        },
        "endLoc": {
          "line": 60,
          "column": 11,
          "position": 575
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "try {\n    await connectToDatabase();\n    const body = await req.json();\n    const authHeader = req.headers.get('authorization') || '';\n    const token = authHeader?.startsWith('Bearer ') ? authHeader.slice(7) : authHeader;\n    const _user",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/moderation/route.ts",
        "start": 35,
        "end": 40,
        "startLoc": {
          "line": 35,
          "column": 3,
          "position": 218
        },
        "endLoc": {
          "line": 40,
          "column": 6,
          "position": 299
        }
      },
      "secondFile": {
        "name": "app/api/ats/applications/[id]/route.ts",
        "start": 53,
        "end": 58,
        "startLoc": {
          "line": 53,
          "column": 3,
          "position": 450
        },
        "endLoc": {
          "line": 58,
          "column": 5,
          "position": 531
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    \n    const { searchParams } = new URL(req.url);\n    const q",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/jobs/route.ts",
        "start": 26,
        "end": 38,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 95
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 249
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 58,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 516
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ");\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const body = await req.json();\n    const authHeader = req.headers.get('authorization') || '';\n    const token = authHeader?.startsWith('Bearer ') ? authHeader.slice(7) : authHeader;\n    const user = token ? await getUserFromToken(token) : null;\n    const userId = user?.id || 'system';\n    const orgId",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/jobs/route.ts",
        "start": 73,
        "end": 92,
        "startLoc": {
          "line": 73,
          "column": 5,
          "position": 792
        },
        "endLoc": {
          "line": 92,
          "column": 6,
          "position": 1038
        }
      },
      "secondFile": {
        "name": "app/api/finance/invoices/route.ts",
        "start": 91,
        "end": 61,
        "startLoc": {
          "line": 91,
          "column": 4,
          "position": 845
        },
        "endLoc": {
          "line": 61,
          "column": 12,
          "position": 573
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const user = await getSessionUser(req);\n    \n    // Verify user authentication",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/ats/convert-to-employee/route.ts",
        "start": 29,
        "end": 41,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 140
        },
        "endLoc": {
          "line": 41,
          "column": 30,
          "position": 286
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 94,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 94,
          "column": 3,
          "position": 1060
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase(); // ensure DB/init (real or mock)",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assistant/query/route.ts",
        "start": 105,
        "end": 114,
        "startLoc": {
          "line": 105,
          "column": 1,
          "position": 591
        },
        "endLoc": {
          "line": 114,
          "column": 33,
          "position": 719
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 50,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 50,
          "column": 6,
          "position": 533
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const asset",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 1,
          "position": 591
        },
        "endLoc": {
          "line": 85,
          "column": 6,
          "position": 775
        }
      },
      "secondFile": {
        "name": "app/api/rfqs/[id]/bids/route.ts",
        "start": 133,
        "end": 53,
        "startLoc": {
          "line": 133,
          "column": 1,
          "position": 1144
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "export async function PATCH(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const data = updateAssetSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 121,
        "end": 127,
        "startLoc": {
          "line": 121,
          "column": 1,
          "position": 981
        },
        "endLoc": {
          "line": 127,
          "column": 18,
          "position": 1070
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 99,
        "end": 105,
        "startLoc": {
          "line": 99,
          "column": 1,
          "position": 998
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1087
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "const name = error && typeof error === 'object' && 'name' in error ? error.name : '';\n    if (name === \"CastError\") {\n      return createSecureResponse({ error: \"Invalid asset id\" }, 400, req);\n    }\n    return createSecureResponse({ error: \"Internal server error\" }, 500, req);\n  }\n}\n\n/**\n * Soft-deletes an asset by marking it \"DECOMMISSIONED\".\n *\n * Authenticates the requester, then updates the asset with the given `id` (scoped to the requester's tenant)\n * setting `status` to `\"DECOMMISSIONED\"` and `updatedBy` to the current user id.\n *\n * @param params.id - Asset id from the route (used to look up and update the asset)\n * @returns A NextResponse JSON result:\n * - 200 with `{ success: true }` when the asset is successfully updated\n * - 401 when the requester is not authenticated\n * - 404 when no matching asset is found for the tenant\n * - 500 with an error message for other failures\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 144,
        "end": 164,
        "startLoc": {
          "line": 144,
          "column": 5,
          "position": 1256
        },
        "endLoc": {
          "line": 164,
          "column": 4,
          "position": 1359
        }
      },
      "secondFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 96,
        "end": 120,
        "startLoc": {
          "line": 96,
          "column": 5,
          "position": 876
        },
        "endLoc": {
          "line": 120,
          "column": 4,
          "position": 979
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function DELETE(req: NextRequest, props: { params: Promise<{ id: string }> }) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const params = await props.params;\n  try {\n    const user = await getSessionUser(req);\n    await connectToDatabase();\n\n    const asset = await Asset.findOneAndUpdate",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 165,
        "end": 178,
        "startLoc": {
          "line": 165,
          "column": 1,
          "position": 1361
        },
        "endLoc": {
          "line": 178,
          "column": 17,
          "position": 1553
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 123,
        "end": 85,
        "startLoc": {
          "line": 123,
          "column": 1,
          "position": 1257
        },
        "endLoc": {
          "line": 85,
          "column": 8,
          "position": 783
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", 200, req);\n  } catch (error: unknown) {\n    const name = error && typeof error === 'object' && 'name' in error ? error.name : '';\n    if (name === \"CastError\") {\n      return createSecureResponse({ error: \"Invalid asset id\" }, 400, req);\n    }\n    return createSecureResponse({ error: \"Internal server error\" }, 500, req);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 188,
        "end": 196,
        "startLoc": {
          "line": 188,
          "column": 2,
          "position": 1668
        },
        "endLoc": {
          "line": 196,
          "column": 2,
          "position": 1792
        }
      },
      "secondFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 94,
        "end": 102,
        "startLoc": {
          "line": 94,
          "column": 6,
          "position": 852
        },
        "endLoc": {
          "line": 102,
          "column": 2,
          "position": 976
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    let",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/aqar/properties/route.ts",
        "start": 29,
        "end": 38,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 91
        },
        "endLoc": {
          "line": 38,
          "column": 4,
          "position": 212
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 43,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 43,
          "column": 34,
          "position": 289
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    let user;\n    try {\n      user = await getSessionUser(req);\n    } catch {\n      user",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/aqar/map/route.ts",
        "start": 31,
        "end": 44,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 118
        },
        "endLoc": {
          "line": 44,
          "column": 5,
          "position": 270
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 42,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 42,
          "column": 63,
          "position": 243
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 100, 60);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/price-tiers/route.ts",
        "start": 60,
        "end": 68,
        "startLoc": {
          "line": 60,
          "column": 1,
          "position": 415
        },
        "endLoc": {
          "line": 68,
          "column": 4,
          "position": 530
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 35,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 203
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ");\n  }\n}\n\nexport async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 100, 60000",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/price-tiers/route.ts",
        "start": 87,
        "end": 94,
        "startLoc": {
          "line": 87,
          "column": 4,
          "position": 735
        },
        "endLoc": {
          "line": 94,
          "column": 6,
          "position": 830
        }
      },
      "secondFile": {
        "name": "app/api/finance/invoices/route.ts",
        "start": 91,
        "end": 30,
        "startLoc": {
          "line": 91,
          "column": 4,
          "position": 845
        },
        "endLoc": {
          "line": 30,
          "column": 3,
          "position": 174
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "// Check for specific authentication errors\n    if (error instanceof Error) {\n      if (error.message === 'Authentication required') {\n        return createErrorResponse('Authentication required', 401);\n      }\n      if (error.message === 'Invalid token') {\n        return createErrorResponse('Invalid token', 401);\n      }\n      if (error.message === 'Admin access required') {\n        return createErrorResponse('Admin access required', 403);\n      }\n    }\n    console.error('Price tier creation failed:'",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/price-tiers/route.ts",
        "start": 126,
        "end": 138,
        "startLoc": {
          "line": 126,
          "column": 5,
          "position": 1204
        },
        "endLoc": {
          "line": 138,
          "column": 30,
          "position": 1317
        }
      },
      "secondFile": {
        "name": "app/api/admin/price-tiers/route.ts",
        "start": 74,
        "end": 86,
        "startLoc": {
          "line": 74,
          "column": 5,
          "position": 606
        },
        "endLoc": {
          "line": 86,
          "column": 27,
          "position": 719
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": ")\n});\n\nasync function authenticateAdmin(req: NextRequest) {\n  const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n  if (!token) {\n    throw new Error('Authentication required');\n  }\n\n  const user = await getUserFromToken(token);\n  if (!user) {\n    throw new Error('Invalid token');\n  }\n\n  if (!['SUPER_ADMIN'].includes(user.role)) {\n    throw new Error('Admin access required');\n  }\n\n  return user;\n}\n\n/**\n * @openapi\n * /api/admin/discounts:\n *   get:\n *     summary: admin/discounts operations\n *     tags: [admin]\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     responses:\n *       200:\n *         description: Success\n *       401:\n *         description: Unauthorized\n *       429:\n *         description: Rate limit exceeded\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/discounts/route.ts",
        "start": 13,
        "end": 50,
        "startLoc": {
          "line": 13,
          "column": 4,
          "position": 149
        },
        "endLoc": {
          "line": 50,
          "column": 4,
          "position": 309
        }
      },
      "secondFile": {
        "name": "app/api/admin/price-tiers/route.ts",
        "start": 22,
        "end": 59,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 253
        },
        "endLoc": {
          "line": 59,
          "column": 4,
          "position": 413
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 100, 60);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await authenticateAdmin(req);\n    await connectToDatabase();\n    const d",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/discounts/route.ts",
        "start": 51,
        "end": 62,
        "startLoc": {
          "line": 51,
          "column": 1,
          "position": 311
        },
        "endLoc": {
          "line": 62,
          "column": 2,
          "position": 450
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 71,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 71,
          "column": 5,
          "position": 554
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function PUT(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 100, 60);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/discounts/route.ts",
        "start": 79,
        "end": 88,
        "startLoc": {
          "line": 79,
          "column": 1,
          "position": 700
        },
        "endLoc": {
          "line": 88,
          "column": 6,
          "position": 820
        }
      },
      "secondFile": {
        "name": "app/api/ats/moderation/route.ts",
        "start": 27,
        "end": 69,
        "startLoc": {
          "line": 27,
          "column": 1,
          "position": 102
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 535
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "if (error instanceof Error && error.message === 'Authentication required') {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n    if (error instanceof Error && error.message === 'Invalid token') {\n      return createSecureResponse({ error: 'Invalid token' }, 401, req);\n    }\n    if (error instanceof Error && error.message === 'Admin access required') {\n      return createSecureResponse({ error: 'Admin access required' }, 403, req);\n    }\n    console.error('Discount update failed:'",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/admin/discounts/route.ts",
        "start": 108,
        "end": 117,
        "startLoc": {
          "line": 108,
          "column": 5,
          "position": 1097
        },
        "endLoc": {
          "line": 117,
          "column": 26,
          "position": 1245
        }
      },
      "secondFile": {
        "name": "app/api/admin/discounts/route.ts",
        "start": 65,
        "end": 74,
        "startLoc": {
          "line": 65,
          "column": 5,
          "position": 517
        },
        "endLoc": {
          "line": 74,
          "column": 25,
          "position": 665
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Form */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Basic",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 6,
          "position": 198
        },
        "endLoc": {
          "line": 28,
          "column": 6,
          "position": 266
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 19,
        "end": 28,
        "startLoc": {
          "line": 19,
          "column": 8,
          "position": 190
        },
        "endLoc": {
          "line": 28,
          "column": 8,
          "position": 258
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full btn-ghost text-left\">\n                 Create from Template\n              </button>\n              <button className=\"w-full btn-ghost text-left\">\n                ",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/new/page.tsx",
        "start": 132,
        "end": 143,
        "startLoc": {
          "line": 132,
          "column": 7,
          "position": 1143
        },
        "endLoc": {
          "line": 143,
          "column": 3,
          "position": 1232
        }
      },
      "secondFile": {
        "name": "app/finance/invoices/new/page.tsx",
        "start": 200,
        "end": 211,
        "startLoc": {
          "line": 200,
          "column": 7,
          "position": 1621
        },
        "endLoc": {
          "line": 211,
          "column": 3,
          "position": 1710
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</button>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <h3 className=\"text-lg font-semibold mb-4\">Recent Activity</h3>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Form auto-saved</span>\n                <span className=\"text-gray-400 ml-auto\">2m ago</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                <span className=\"text-gray-600\">Property",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/new/page.tsx",
        "start": 147,
        "end": 161,
        "startLoc": {
          "line": 147,
          "column": 15,
          "position": 1262
        },
        "endLoc": {
          "line": 161,
          "column": 9,
          "position": 1418
        }
      },
      "secondFile": {
        "name": "app/finance/payments/new/page.tsx",
        "start": 221,
        "end": 229,
        "startLoc": {
          "line": 221,
          "column": 15,
          "position": 1915
        },
        "endLoc": {
          "line": 229,
          "column": 9,
          "position": 1898
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 59,
        "end": 68,
        "startLoc": {
          "line": 59,
          "column": 10,
          "position": 446
        },
        "endLoc": {
          "line": 68,
          "column": 6,
          "position": 514
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 70,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 70,
          "column": 10,
          "position": 539
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-blue-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Avg",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 78,
        "end": 86,
        "startLoc": {
          "line": 78,
          "column": 3,
          "position": 621
        },
        "endLoc": {
          "line": 86,
          "column": 4,
          "position": 692
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 71,
        "end": 79,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 555
        },
        "endLoc": {
          "line": 79,
          "column": 4,
          "position": 626
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Properties</option>\n              <option>Tower A</option>\n              <option>Tower B</option>\n              <option>Villa Complex</option>\n            </select>\n          </div>\n          <div ",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 106,
        "end": 114,
        "startLoc": {
          "line": 106,
          "column": 2,
          "position": 880
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 950
        }
      },
      "secondFile": {
        "name": "app/finance/budgets/new/page.tsx",
        "start": 73,
        "end": 81,
        "startLoc": {
          "line": 73,
          "column": 6,
          "position": 559
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 629
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "</button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 190,
        "end": 205,
        "startLoc": {
          "line": 190,
          "column": 8,
          "position": 1780
        },
        "endLoc": {
          "line": 205,
          "column": 3,
          "position": 1890
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 157,
        "end": 172,
        "startLoc": {
          "line": 157,
          "column": 9,
          "position": 1476
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"font-medium text-sm\">{wo.id}</span>\n                  <span className={`px-2 py-1 rounded text-xs font-medium ${getPriorityColor(wo.priority)}`}>\n                    {wo.priority}\n                  </span>\n                </div>\n                <p className=\"text-sm font-medium text-gray-800 mb-1\">{wo.title}</p>\n                <p className=\"text-xs text-gray-600\">{wo.property}</p>\n                <div className=\"flex items-center justify-between mt-2\">\n                  <span className=\"text-xs text-gray-500\">{wo.assignee}</span>\n                  <span className=\"text-xs text-blue-600",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 98,
        "end": 109,
        "startLoc": {
          "line": 98,
          "column": 49,
          "position": 893
        },
        "endLoc": {
          "line": 109,
          "column": 22,
          "position": 1038
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 53,
          "position": 591
        },
        "endLoc": {
          "line": 83,
          "column": 21,
          "position": 736
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"font-medium text-sm\">{wo.id}</span>\n                  <span className={`px-2 py-1 rounded text-xs font-medium ${getPriorityColor(wo.priority)}`}>\n                    {wo.priority}\n                  </span>\n                </div>\n                <p className=\"text-sm font-medium text-gray-800 mb-1\">{wo.title}</p>\n                <p className=\"text-xs text-gray-600\">{wo.property}</p>\n                <div className=\"flex items-center justify-between mt-2\">\n                  <span className=\"text-xs text-gray-500\">{wo.assignee}</span>\n                  <span className=\"text-xs text-purple-600",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 124,
        "end": 135,
        "startLoc": {
          "line": 124,
          "column": 53,
          "position": 1193
        },
        "endLoc": {
          "line": 135,
          "column": 24,
          "position": 1338
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 53,
          "position": 591
        },
        "endLoc": {
          "line": 83,
          "column": 21,
          "position": 736
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 151,
        "end": 160,
        "startLoc": {
          "line": 151,
          "column": 4,
          "position": 1489
        },
        "endLoc": {
          "line": 160,
          "column": 3,
          "position": 1567
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 163,
        "end": 172,
        "startLoc": {
          "line": 163,
          "column": 6,
          "position": 1508
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 169,
        "end": 176,
        "startLoc": {
          "line": 169,
          "column": 9,
          "position": 1679
        },
        "endLoc": {
          "line": 176,
          "column": 3,
          "position": 1755
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 177,
        "end": 184,
        "startLoc": {
          "line": 177,
          "column": 10,
          "position": 1650
        },
        "endLoc": {
          "line": 184,
          "column": 3,
          "position": 1726
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 177,
        "end": 187,
        "startLoc": {
          "line": 177,
          "column": 7,
          "position": 1771
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1845
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 222,
        "end": 232,
        "startLoc": {
          "line": 222,
          "column": 8,
          "position": 2094
        },
        "endLoc": {
          "line": 232,
          "column": 2,
          "position": 2168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ";\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'P1': return 'bg-red-500 text-white';\n      case 'P2': return 'bg-orange-500 text-white';\n      case 'P3': return 'bg-yellow-500 text-black';\n      case 'P4': return 'bg-green-500 text-white';\n      default: return 'bg-gray-500 text-white';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-[var(--fixzit-text)]\">Work Order",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 71,
        "end": 88,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 464
        },
        "endLoc": {
          "line": 88,
          "column": 6,
          "position": 604
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 35,
        "end": 53,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 218
        },
        "endLoc": {
          "line": 53,
          "column": 7,
          "position": 360
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Pending",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 93,
        "end": 102,
        "startLoc": {
          "line": 93,
          "column": 8,
          "position": 688
        },
        "endLoc": {
          "line": 102,
          "column": 8,
          "position": 756
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 70,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 70,
          "column": 10,
          "position": 539
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-green-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Avg",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 112,
        "end": 120,
        "startLoc": {
          "line": 112,
          "column": 2,
          "position": 863
        },
        "endLoc": {
          "line": 120,
          "column": 4,
          "position": 934
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 69,
        "end": 77,
        "startLoc": {
          "line": 69,
          "column": 4,
          "position": 532
        },
        "endLoc": {
          "line": 77,
          "column": 5,
          "position": 603
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ">\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">WO ID</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Title</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Property</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Approved",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 192,
        "end": 202,
        "startLoc": {
          "line": 192,
          "column": 7,
          "position": 1631
        },
        "endLoc": {
          "line": 202,
          "column": 9,
          "position": 1734
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 147,
        "end": 157,
        "startLoc": {
          "line": 147,
          "column": 4,
          "position": 1231
        },
        "endLoc": {
          "line": 157,
          "column": 11,
          "position": 1334
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ".map(item => (\n                <tr key={item.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{item.id}</td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">{item.title}</td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-600\">{item.property}</td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-600\">{item.approvedBy",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 210,
        "end": 215,
        "startLoc": {
          "line": 210,
          "column": 19,
          "position": 1831
        },
        "endLoc": {
          "line": 215,
          "column": 11,
          "position": 1929
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 167,
        "end": 172,
        "startLoc": {
          "line": 167,
          "column": 15,
          "position": 1455
        },
        "endLoc": {
          "line": 172,
          "column": 11,
          "position": 1553
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ">\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 222,
        "end": 236,
        "startLoc": {
          "line": 222,
          "column": 5,
          "position": 2033
        },
        "endLoc": {
          "line": 236,
          "column": 2,
          "position": 2136
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 158,
        "end": 172,
        "startLoc": {
          "line": 158,
          "column": 4,
          "position": 1483
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 241,
        "end": 248,
        "startLoc": {
          "line": 241,
          "column": 6,
          "position": 2202
        },
        "endLoc": {
          "line": 248,
          "column": 3,
          "position": 2278
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 177,
        "end": 184,
        "startLoc": {
          "line": 177,
          "column": 10,
          "position": 1650
        },
        "endLoc": {
          "line": 184,
          "column": 3,
          "position": 1726
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Export</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/work-orders/approvals/page.tsx",
        "start": 249,
        "end": 263,
        "startLoc": {
          "line": 249,
          "column": 9,
          "position": 2294
        },
        "endLoc": {
          "line": 263,
          "column": 2,
          "position": 2414
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 185,
        "end": 199,
        "startLoc": {
          "line": 185,
          "column": 11,
          "position": 1742
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1862
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "</span>\n                    <span className=\"ml-1 text-yellow-400\"></span>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                    Active\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <button className=\"text-blue-600 hover:text-blue-900\">View</button>\n                </td>\n              </tr>\n            </",
      "tokens": 0,
      "firstFile": {
        "name": "app/souq/vendors/page.tsx",
        "start": 73,
        "end": 86,
        "startLoc": {
          "line": 73,
          "column": 4,
          "position": 612
        },
        "endLoc": {
          "line": 86,
          "column": 3,
          "position": 713
        }
      },
      "secondFile": {
        "name": "app/souq/vendors/page.tsx",
        "start": 49,
        "end": 63,
        "startLoc": {
          "line": 49,
          "column": 4,
          "position": 399
        },
        "endLoc": {
          "line": 63,
          "column": 2,
          "position": 502
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Units",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/units/page.tsx",
        "start": 84,
        "end": 93,
        "startLoc": {
          "line": 84,
          "column": 5,
          "position": 638
        },
        "endLoc": {
          "line": 93,
          "column": 6,
          "position": 708
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 68,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 68,
          "column": 10,
          "position": 516
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"card\">\n        <div className=\"flex flex-wrap gap-4\">\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Properties</option>\n              <option>Tower A</option>\n              <option>Tower B</option>\n              <option>Villa Complex</option>\n            </select>\n          </div>\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Types",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/units/page.tsx",
        "start": 123,
        "end": 141,
        "startLoc": {
          "line": 123,
          "column": 3,
          "position": 1008
        },
        "endLoc": {
          "line": 141,
          "column": 6,
          "position": 1159
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 98,
        "end": 116,
        "startLoc": {
          "line": 98,
          "column": 3,
          "position": 824
        },
        "endLoc": {
          "line": 116,
          "column": 12,
          "position": 975
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "</button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/units/page.tsx",
        "start": 208,
        "end": 223,
        "startLoc": {
          "line": 208,
          "column": 7,
          "position": 1923
        },
        "endLoc": {
          "line": 223,
          "column": 2,
          "position": 2033
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 157,
        "end": 172,
        "startLoc": {
          "line": 157,
          "column": 9,
          "position": 1476
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/units/page.tsx",
        "start": 236,
        "end": 243,
        "startLoc": {
          "line": 236,
          "column": 11,
          "position": 2195
        },
        "endLoc": {
          "line": 243,
          "column": 3,
          "position": 2271
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 177,
        "end": 184,
        "startLoc": {
          "line": 177,
          "column": 10,
          "position": 1650
        },
        "endLoc": {
          "line": 184,
          "column": 3,
          "position": 1726
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "</div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/units/page.tsx",
        "start": 239,
        "end": 250,
        "startLoc": {
          "line": 239,
          "column": 3,
          "position": 2226
        },
        "endLoc": {
          "line": 250,
          "column": 2,
          "position": 2315
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 221,
        "end": 232,
        "startLoc": {
          "line": 221,
          "column": 3,
          "position": 2079
        },
        "endLoc": {
          "line": 232,
          "column": 2,
          "position": 2168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Active",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 89,
        "end": 98,
        "startLoc": {
          "line": 89,
          "column": 6,
          "position": 675
        },
        "endLoc": {
          "line": 98,
          "column": 7,
          "position": 743
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 70,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 70,
          "column": 10,
          "position": 539
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-yellow-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Monthly",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 108,
        "end": 116,
        "startLoc": {
          "line": 108,
          "column": 2,
          "position": 850
        },
        "endLoc": {
          "line": 116,
          "column": 8,
          "position": 921
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 80,
        "end": 88,
        "startLoc": {
          "line": 80,
          "column": 2,
          "position": 646
        },
        "endLoc": {
          "line": 88,
          "column": 8,
          "position": 717
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": "</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"card\">\n        <div className=\"flex flex-wrap gap-4\">\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Properties</option>\n              <option>Tower A</option>\n              <option>Tower B</option>\n              <option>Villa Complex</option>\n            </select>\n          </div>\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Types</option>\n              <option>Residential",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 128,
        "end": 147,
        "startLoc": {
          "line": 128,
          "column": 3,
          "position": 1056
        },
        "endLoc": {
          "line": 147,
          "column": 12,
          "position": 1216
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 98,
        "end": 142,
        "startLoc": {
          "line": 98,
          "column": 3,
          "position": 824
        },
        "endLoc": {
          "line": 142,
          "column": 7,
          "position": 1168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "Overview</h3>\n          <div className=\"flex gap-2\">\n            <button className=\"btn-ghost\"> Export</button>\n            <button className=\"btn-ghost\"> Analytics</button>\n          </div>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Lease",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 167,
        "end": 178,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 1386
        },
        "endLoc": {
          "line": 178,
          "column": 6,
          "position": 1495
        }
      },
      "secondFile": {
        "name": "app/properties/units/page.tsx",
        "start": 164,
        "end": 175,
        "startLoc": {
          "line": 164,
          "column": 2,
          "position": 1363
        },
        "endLoc": {
          "line": 175,
          "column": 5,
          "position": 1472
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 250,
        "end": 258,
        "startLoc": {
          "line": 250,
          "column": 9,
          "position": 2341
        },
        "endLoc": {
          "line": 258,
          "column": 3,
          "position": 2416
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 164,
        "end": 172,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 1511
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Rent Collection</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 263,
        "end": 270,
        "startLoc": {
          "line": 263,
          "column": 9,
          "position": 2480
        },
        "endLoc": {
          "line": 270,
          "column": 3,
          "position": 2558
        }
      },
      "secondFile": {
        "name": "app/properties/units/page.tsx",
        "start": 232,
        "end": 239,
        "startLoc": {
          "line": 232,
          "column": 11,
          "position": 2147
        },
        "endLoc": {
          "line": 239,
          "column": 3,
          "position": 2225
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Templates</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 267,
        "end": 285,
        "startLoc": {
          "line": 267,
          "column": 11,
          "position": 2528
        },
        "endLoc": {
          "line": 285,
          "column": 2,
          "position": 2694
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 173,
        "end": 232,
        "startLoc": {
          "line": 173,
          "column": 3,
          "position": 1604
        },
        "endLoc": {
          "line": 232,
          "column": 2,
          "position": 2168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Scheduled</p>\n              <p className=\"text-2xl font-bold text-blue-600\">12",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 86,
        "end": 96,
        "startLoc": {
          "line": 86,
          "column": 11,
          "position": 660
        },
        "endLoc": {
          "line": 96,
          "column": 3,
          "position": 743
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 71,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 71,
          "column": 2,
          "position": 554
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-blue-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">In",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 96,
        "end": 104,
        "startLoc": {
          "line": 96,
          "column": 3,
          "position": 744
        },
        "endLoc": {
          "line": 104,
          "column": 3,
          "position": 815
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 71,
        "end": 79,
        "startLoc": {
          "line": 71,
          "column": 2,
          "position": 555
        },
        "endLoc": {
          "line": 79,
          "column": 4,
          "position": 626
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Completed</p>\n              <p className=\"text-2xl font-bold text-green-600\">45",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 107,
        "end": 114,
        "startLoc": {
          "line": 107,
          "column": 3,
          "position": 853
        },
        "endLoc": {
          "line": 114,
          "column": 3,
          "position": 919
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 91,
        "end": 98,
        "startLoc": {
          "line": 91,
          "column": 3,
          "position": 753
        },
        "endLoc": {
          "line": 98,
          "column": 3,
          "position": 819
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-green-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Overdue",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 114,
        "end": 122,
        "startLoc": {
          "line": 114,
          "column": 3,
          "position": 920
        },
        "endLoc": {
          "line": 122,
          "column": 8,
          "position": 991
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 69,
        "end": 77,
        "startLoc": {
          "line": 69,
          "column": 4,
          "position": 532
        },
        "endLoc": {
          "line": 77,
          "column": 5,
          "position": 603
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "</div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Overdue</p>\n              <p className=\"text-2xl font-bold text-red-600\">2</p>\n            </div>\n            <div className=\"text-red-400\"></div>\n          </div>\n        </div>\n      </",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 116,
        "end": 128,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 940
        },
        "endLoc": {
          "line": 128,
          "column": 3,
          "position": 1042
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 82,
        "end": 94,
        "startLoc": {
          "line": 82,
          "column": 3,
          "position": 666
        },
        "endLoc": {
          "line": 94,
          "column": 2,
          "position": 768
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": "</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"card\">\n        <div className=\"flex flex-wrap gap-4\">\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Properties</option>\n              <option>Tower A</option>\n              <option>Tower B</option>\n              <option>Villa Complex</option>\n            </select>\n          </div>\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Types</option>\n              <option>Safety",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 125,
        "end": 144,
        "startLoc": {
          "line": 125,
          "column": 3,
          "position": 1027
        },
        "endLoc": {
          "line": 144,
          "column": 7,
          "position": 1187
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 98,
        "end": 142,
        "startLoc": {
          "line": 98,
          "column": 3,
          "position": 824
        },
        "endLoc": {
          "line": 142,
          "column": 7,
          "position": 1168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex gap-2\">\n                      <button className=\"text-blue-600 hover:text-blue-900\">{t('common.edit', 'Edit')}</button>\n                      <button className=\"text-green-600 hover:text-green-900\">Start",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 206,
        "end": 212,
        "startLoc": {
          "line": 206,
          "column": 7,
          "position": 1903
        },
        "endLoc": {
          "line": 212,
          "column": 6,
          "position": 1970
        }
      },
      "secondFile": {
        "name": "app/properties/units/page.tsx",
        "start": 202,
        "end": 157,
        "startLoc": {
          "line": 202,
          "column": 10,
          "position": 1853
        },
        "endLoc": {
          "line": 157,
          "column": 9,
          "position": 1475
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "</button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Schedule</",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 258,
        "end": 271,
        "startLoc": {
          "line": 258,
          "column": 17,
          "position": 2415
        },
        "endLoc": {
          "line": 271,
          "column": 3,
          "position": 2526
        }
      },
      "secondFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 246,
        "end": 173,
        "startLoc": {
          "line": 246,
          "column": 17,
          "position": 2321
        },
        "endLoc": {
          "line": 173,
          "column": 3,
          "position": 1603
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Schedule</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 268,
        "end": 274,
        "startLoc": {
          "line": 268,
          "column": 2,
          "position": 2487
        },
        "endLoc": {
          "line": 274,
          "column": 3,
          "position": 2556
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 166,
        "end": 172,
        "startLoc": {
          "line": 166,
          "column": 7,
          "position": 1640
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1709
        }
      }
    },
    {
      "format": "tsx",
      "lines": 27,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Templates</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Checklists</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Export</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 271,
        "end": 297,
        "startLoc": {
          "line": 271,
          "column": 9,
          "position": 2526
        },
        "endLoc": {
          "line": 297,
          "column": 2,
          "position": 2784
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 173,
        "end": 199,
        "startLoc": {
          "line": 173,
          "column": 3,
          "position": 1604
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1862
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Documents",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 96,
        "end": 105,
        "startLoc": {
          "line": 96,
          "column": 9,
          "position": 720
        },
        "endLoc": {
          "line": 105,
          "column": 10,
          "position": 790
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 68,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 68,
          "column": 10,
          "position": 516
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Expiring Soon</p>\n              <p className=\"text-2xl font-bold text-yellow-600\">8</p>\n            </div>\n            <div className=\"text-yellow-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Expired",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 108,
        "end": 123,
        "startLoc": {
          "line": 108,
          "column": 14,
          "position": 823
        },
        "endLoc": {
          "line": 123,
          "column": 8,
          "position": 966
        }
      },
      "secondFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 101,
        "end": 88,
        "startLoc": {
          "line": 101,
          "column": 15,
          "position": 778
        },
        "endLoc": {
          "line": 88,
          "column": 8,
          "position": 717
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-red-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Storage",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 124,
        "end": 132,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 982
        },
        "endLoc": {
          "line": 132,
          "column": 8,
          "position": 1053
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 89,
        "end": 97,
        "startLoc": {
          "line": 89,
          "column": 2,
          "position": 733
        },
        "endLoc": {
          "line": 97,
          "column": 10,
          "position": 804
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ">\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"card\">\n        <div className=\"flex flex-wrap gap-4\">\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Properties</option>\n              <option>Tower A</option>\n              <option>Tower B</option>\n              <option>Villa Complex</option>\n            </select>\n          </div>\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Types</option>\n              <option>Legal",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 149,
        "end": 167,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 1254
        },
        "endLoc": {
          "line": 167,
          "column": 6,
          "position": 1407
        }
      },
      "secondFile": {
        "name": "app/work-orders/history/page.tsx",
        "start": 99,
        "end": 142,
        "startLoc": {
          "line": 99,
          "column": 4,
          "position": 831
        },
        "endLoc": {
          "line": 142,
          "column": 7,
          "position": 1168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</option>\n            </select>\n          </div>\n          <div className=\"flex-1 min-w-48\">\n            <select className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--fixzit-blue)] focus:border-transparent\">\n              <option>All Status</option>\n              <option>Active</option>\n              <option>Expiring Soon</option>\n              <option>Expired</option>\n              <option>Pending",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 170,
        "end": 179,
        "startLoc": {
          "line": 170,
          "column": 10,
          "position": 1435
        },
        "endLoc": {
          "line": 179,
          "column": 8,
          "position": 1515
        }
      },
      "secondFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 148,
        "end": 157,
        "startLoc": {
          "line": 148,
          "column": 11,
          "position": 1226
        },
        "endLoc": {
          "line": 157,
          "column": 7,
          "position": 1306
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "</h3>\n          <div className=\"flex gap-2\">\n            <button className=\"btn-ghost\"> Export</button>\n            <button className=\"btn-ghost\"> Reports</button>\n          </div>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Document",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 189,
        "end": 200,
        "startLoc": {
          "line": 189,
          "column": 8,
          "position": 1598
        },
        "endLoc": {
          "line": 200,
          "column": 9,
          "position": 1706
        }
      },
      "secondFile": {
        "name": "app/properties/inspections/page.tsx",
        "start": 166,
        "end": 177,
        "startLoc": {
          "line": 166,
          "column": 9,
          "position": 1378
        },
        "endLoc": {
          "line": 177,
          "column": 11,
          "position": 1486
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex gap-2\">\n                      <button className=\"text-blue-600 hover:text-blue-900\">{t('common.view', 'View')}</button>\n                      <button className=\"text-green-600 hover:text-green-900\">{t('common.download'",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 235,
        "end": 241,
        "startLoc": {
          "line": 235,
          "column": 7,
          "position": 2167
        },
        "endLoc": {
          "line": 241,
          "column": 18,
          "position": 2237
        }
      },
      "secondFile": {
        "name": "app/properties/leases/page.tsx",
        "start": 207,
        "end": 213,
        "startLoc": {
          "line": 207,
          "column": 14,
          "position": 1924
        },
        "endLoc": {
          "line": 213,
          "column": 14,
          "position": 1994
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ">\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 303,
        "end": 313,
        "startLoc": {
          "line": 303,
          "column": 4,
          "position": 2817
        },
        "endLoc": {
          "line": 313,
          "column": 3,
          "position": 2900
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 150,
        "end": 172,
        "startLoc": {
          "line": 150,
          "column": 2,
          "position": 1484
        },
        "endLoc": {
          "line": 172,
          "column": 3,
          "position": 1586
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Search</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 314,
        "end": 321,
        "startLoc": {
          "line": 314,
          "column": 2,
          "position": 2924
        },
        "endLoc": {
          "line": 321,
          "column": 3,
          "position": 3000
        }
      },
      "secondFile": {
        "name": "app/work-orders/board/page.tsx",
        "start": 173,
        "end": 180,
        "startLoc": {
          "line": 173,
          "column": 8,
          "position": 1725
        },
        "endLoc": {
          "line": 180,
          "column": 3,
          "position": 1801
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Templates</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\">",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 318,
        "end": 325,
        "startLoc": {
          "line": 318,
          "column": 7,
          "position": 2970
        },
        "endLoc": {
          "line": 325,
          "column": 3,
          "position": 3046
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 173,
        "end": 180,
        "startLoc": {
          "line": 173,
          "column": 3,
          "position": 1604
        },
        "endLoc": {
          "line": 180,
          "column": 3,
          "position": 1680
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Reports</div>\n          </button>\n          <button className=\"btn-ghost text-center\">\n            <div className=\"text-2xl mb-2\"></div>\n            <div className=\"text-sm font-medium\">Settings</div>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/properties/documents/page.tsx",
        "start": 326,
        "end": 340,
        "startLoc": {
          "line": 326,
          "column": 9,
          "position": 3062
        },
        "endLoc": {
          "line": 340,
          "column": 2,
          "position": 3182
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 177,
        "end": 232,
        "startLoc": {
          "line": 177,
          "column": 10,
          "position": 1650
        },
        "endLoc": {
          "line": 232,
          "column": 2,
          "position": 2168
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "() {\n  const [_categoriesResponse, cartResponse] = await Promise.all([\n    serverFetchJsonWithTenant<{ data: unknown }>('/api/marketplace/categories'),\n    serverFetchJsonWithTenant<{ data: CartData }>('/api/marketplace/cart')\n  ]);\n\n  const cart = cartResponse.data;\n\n  return (\n    <div className=\"min-h-screen bg-[#F5F6F8]\">\n      \n      <main className=\"mx-auto max-w-7xl px-4 py-8\">\n        <h1",
      "tokens": 0,
      "firstFile": {
        "name": "app/marketplace/cart/page.tsx",
        "start": 36,
        "end": 48,
        "startLoc": {
          "line": 36,
          "column": 9,
          "position": 243
        },
        "endLoc": {
          "line": 48,
          "column": 3,
          "position": 351
        }
      },
      "secondFile": {
        "name": "app/marketplace/checkout/page.tsx",
        "start": 23,
        "end": 35,
        "startLoc": {
          "line": 23,
          "column": 13,
          "position": 165
        },
        "endLoc": {
          "line": 35,
          "column": 4,
          "position": 273
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n                <option value=\"Low\">Low</option>\n                <option value=\"Medium\">Medium</option>\n                <option value=\"High\">High</option>\n                <option value=\"Urgent\">Urgent</option>\n              </select>\n            </div>\n\n            {/* Description */",
      "tokens": 0,
      "firstFile": {
        "name": "app/help/support-ticket/page.tsx",
        "start": 168,
        "end": 176,
        "startLoc": {
          "line": 168,
          "column": 15,
          "position": 1376
        },
        "endLoc": {
          "line": 176,
          "column": 18,
          "position": 1451
        }
      },
      "secondFile": {
        "name": "app/fm/support/tickets/page.tsx",
        "start": 76,
        "end": 84,
        "startLoc": {
          "line": 76,
          "column": 7,
          "position": 677
        },
        "endLoc": {
          "line": 84,
          "column": 19,
          "position": 752
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "([\n    {\n      id: '1',\n      type: 'bot',\n      content: 'Hello! I\\'m Fixzit AI Assistant. I can help you with questions about Fixzit Enterprise, guide you through features, and provide support. How can I help you today?',\n      timestamp: new Date()\n    }\n  ]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const sendMessage",
      "tokens": 0,
      "firstFile": {
        "name": "app/help/ai-chat/page.tsx",
        "start": 7,
        "end": 18,
        "startLoc": {
          "line": 7,
          "column": 9,
          "position": 68
        },
        "endLoc": {
          "line": 18,
          "column": 12,
          "position": 153
        }
      },
      "secondFile": {
        "name": "components/AIChat.tsx",
        "start": 14,
        "end": 24,
        "startLoc": {
          "line": 14,
          "column": 2,
          "position": 140
        },
        "endLoc": {
          "line": 24,
          "column": 15,
          "position": 224
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": ">\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                  message.type === 'user' ? 'bg-green-600' : 'bg-blue-600'\n                }`}>\n                  {message.type === 'user' ? (\n                    <User className=\"w-4 h-4 text-white\" />\n                  ) : (\n                    <Bot className=\"w-4 h-4 text-white\" />\n                  )}\n                </div>\n                <div className={`max-w-[80%] p-4 rounded-lg ${\n                  message.type === 'user'\n                    ? 'bg-green-600 text-white'\n                    : 'bg-gray-100 text-gray-900'\n                }`}>\n                  <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                  <p className=\"text-xs mt-2 opacity-70",
      "tokens": 0,
      "firstFile": {
        "name": "app/help/ai-chat/page.tsx",
        "start": 81,
        "end": 97,
        "startLoc": {
          "line": 81,
          "column": 15,
          "position": 706
        },
        "endLoc": {
          "line": 97,
          "column": 24,
          "position": 846
        }
      },
      "secondFile": {
        "name": "components/AIChat.tsx",
        "start": 128,
        "end": 146,
        "startLoc": {
          "line": 128,
          "column": 13,
          "position": 1198
        },
        "endLoc": {
          "line": 146,
          "column": 24,
          "position": 1338
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\">\n                    {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                  </p>\n                </div>\n              </div>\n            ))}\n\n            {isLoading && (\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n                  <Bot className=\"w-4 h-4 text-white\" />\n                </div>\n                <div className=\"bg-gray-100 p-4 rounded-lg",
      "tokens": 0,
      "firstFile": {
        "name": "app/help/ai-chat/page.tsx",
        "start": 97,
        "end": 109,
        "startLoc": {
          "line": 97,
          "column": 24,
          "position": 847
        },
        "endLoc": {
          "line": 109,
          "column": 27,
          "position": 954
        }
      },
      "secondFile": {
        "name": "components/AIChat.tsx",
        "start": 146,
        "end": 158,
        "startLoc": {
          "line": 146,
          "column": 24,
          "position": 1339
        },
        "endLoc": {
          "line": 158,
          "column": 47,
          "position": 1446
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n              <SelectItem value=\"SUPPLIER\">Supplier</SelectItem>\n              <SelectItem value=\"CONTRACTOR\">Contractor</SelectItem>\n              <SelectItem value=\"SERVICE_PROVIDER\">Service Provider</SelectItem>\n              <SelectItem value=\"CONSULTANT\">Consultant</SelectItem>\n            </SelectContent>\n          </Select>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 339,
        "end": 346,
        "startLoc": {
          "line": 339,
          "column": 14,
          "position": 3218
        },
        "endLoc": {
          "line": 346,
          "column": 3,
          "position": 3293
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 100,
        "end": 107,
        "startLoc": {
          "line": 100,
          "column": 11,
          "position": 999
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 1074
        }
      }
    },
    {
      "format": "javascript",
      "lines": 50,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-purple-600 hover:bg-purple-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Tenant\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl\">\n            <DialogHeader>\n              <DialogTitle>Add New Tenant</DialogTitle>\n            </DialogHeader>\n            <CreateTenantForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search tenants...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={typeFilter} onValueChange={setTypeFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Tenant Type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Types</SelectItem>\n                <SelectItem value=\"INDIVIDUAL\">Individual</SelectItem>\n                <SelectItem value=\"COMPANY\">Company</SelectItem>\n                <SelectItem value=\"GOVERNMENT\">Government</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tenants Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {(tenants as Tenant[]).map((tenant) => (\n          <TenantCard key={tenant",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 65,
        "end": 114,
        "startLoc": {
          "line": 65,
          "column": 5,
          "position": 635
        },
        "endLoc": {
          "line": 114,
          "column": 7,
          "position": 1073
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 107,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 107,
          "column": 13,
          "position": 1080
        }
      }
    },
    {
      "format": "javascript",
      "lines": 155,
      "fragment": "|| '')}>\n            {tenant.type?.toLowerCase() || ''}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <Mail className=\"w-4 h-4 mr-1\" />\n          <span>{tenant.contact?.primary?.email}</span>\n        </div>\n\n        {tenant.contact?.primary?.phone && (\n          <div className=\"flex items-center text-sm text-gray-600\">\n            <Phone className=\"w-4 h-4 mr-1\" />\n            <span>{tenant.contact.primary.phone}</span>\n          </div>\n        )}\n\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <MapPin className=\"w-4 h-4 mr-1\" />\n          <span>{tenant.address?.current?.city}, {tenant.address?.current?.region}</span>\n        </div>\n\n        <Separator />\n\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Properties:</span>\n            <span className=\"text-sm font-medium\">{activeProperties}/{totalProperties}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Lease Status:</span>\n            <Badge variant=\"outline\" className=\"text-green-700 border-green-300\">\n              {activeProperties > 0 ? 'Active' : 'No Active Leases'}\n            </Badge>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Outstanding Balance:</span>\n            <span className=\"text-sm font-medium\">\n              {tenant.financial?.outstandingBalance?.toLocaleString() || '0'} SAR\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-2\">\n          <Button variant=\"ghost\" size=\"sm\">\n            <Eye className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\">\n            <Edit className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n            <Trash2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreateTenantForm({ onCreated }: { onCreated: () => void }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    type: '',\n    contact: {\n      primary: {\n        name: '',\n        title: '',\n        email: '',\n        phone: '',\n        mobile: ''\n      },\n      secondary: {\n        name: '',\n        email: '',\n        phone: ''\n      },\n      emergency: {\n        name: '',\n        relationship: '',\n        phone: ''\n      }\n    },\n    identification: {\n      nationalId: '',\n      companyRegistration: '',\n      taxId: '',\n      licenseNumber: ''\n    },\n    address: {\n      current: {\n        street: '',\n        city: '',\n        region: '',\n        postalCode: ''\n      },\n      permanent: {\n        street: '',\n        city: '',\n        region: '',\n        postalCode: ''\n      }\n    },\n    preferences: {\n      communication: {\n        email: true,\n        sms: false,\n        phone: false,\n        app: false\n      },\n      notifications: {\n        maintenance: true,\n        rent: true,\n        events: false,\n        announcements: false\n      },\n      language: 'ar',\n      timezone: 'Asia/Riyadh'\n    },\n    tags: [] as string[]\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/tenants', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', 'x-tenant-id': 'demo-tenant' },\n        body: JSON.stringify(formData)\n      });\n\n      if (response.ok) {\n        onCreated();\n      } else {\n        alert('Failed to create tenant');\n      }\n    } catch {\n      alert('Error creating tenant');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 max-h-96 overflow-y-auto\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Tenant Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 177,
        "end": 331,
        "startLoc": {
          "line": 177,
          "column": 2,
          "position": 1696
        },
        "endLoc": {
          "line": 331,
          "column": 2,
          "position": 2999
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 212,
        "end": 335,
        "startLoc": {
          "line": 212,
          "column": 8,
          "position": 2044
        },
        "endLoc": {
          "line": 335,
          "column": 2,
          "position": 3190
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Separator } from '@/components/ui/separator';\nimport { Users",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 6,
          "position": 154
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 6,
          "position": 154
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": " onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search tenants...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 76,
        "end": 89,
        "startLoc": {
          "line": 76,
          "column": 17,
          "position": 729
        },
        "endLoc": {
          "line": 89,
          "column": 18,
          "position": 845
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 75,
        "end": 88,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 773
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "</span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-2\">\n          <Button variant=\"ghost\" size=\"sm\">\n            <Eye className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\">\n            <Edit className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n            <Trash2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreateTenantForm",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 217,
        "end": 237,
        "startLoc": {
          "line": 217,
          "column": 13,
          "position": 2126
        },
        "endLoc": {
          "line": 237,
          "column": 17,
          "position": 2284
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 245,
        "end": 265,
        "startLoc": {
          "line": 245,
          "column": 2,
          "position": 2441
        },
        "endLoc": {
          "line": 265,
          "column": 17,
          "position": 2599
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "({ onCreated }: { onCreated: () => void }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    type: '',\n    contact: {\n      primary: {\n        name: '',\n        title: '',\n        email: '',\n        phone: '',\n        mobile: ''\n      },\n      secondary: {\n        name: '',\n        email: '',\n        phone: ''\n      },\n      emergency",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 237,
        "end": 254,
        "startLoc": {
          "line": 237,
          "column": 17,
          "position": 2285
        },
        "endLoc": {
          "line": 254,
          "column": 10,
          "position": 2421
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 265,
        "end": 282,
        "startLoc": {
          "line": 265,
          "column": 17,
          "position": 2600
        },
        "endLoc": {
          "line": 282,
          "column": 8,
          "position": 2736
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"INDIVIDUAL",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 322,
        "end": 336,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 2890
        },
        "endLoc": {
          "line": 336,
          "column": 11,
          "position": 3036
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 326,
        "end": 340,
        "startLoc": {
          "line": 326,
          "column": 2,
          "position": 3081
        },
        "endLoc": {
          "line": 340,
          "column": 9,
          "position": 3227
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n              <SelectItem value=\"INDIVIDUAL\">Individual</SelectItem>\n              <SelectItem value=\"COMPANY\">Company</SelectItem>\n              <SelectItem value=\"GOVERNMENT\">Government</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 335,
        "end": 342,
        "startLoc": {
          "line": 335,
          "column": 14,
          "position": 3027
        },
        "endLoc": {
          "line": 342,
          "column": 4,
          "position": 3091
        }
      },
      "secondFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 101,
        "end": 108,
        "startLoc": {
          "line": 101,
          "column": 11,
          "position": 955
        },
        "endLoc": {
          "line": 108,
          "column": 12,
          "position": 1019
        }
      }
    },
    {
      "format": "tsx",
      "lines": 40,
      "fragment": "Contact Name *</label>\n          <Input\n            value={formData.contact.primary.name}\n            onChange={(e) => setFormData({...formData, contact: {...formData.contact, primary: {...formData.contact.primary, name: e.target.value}}})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Email *</label>\n          <Input\n            type=\"email\"\n            value={formData.contact.primary.email}\n            onChange={(e) => setFormData({...formData, contact: {...formData.contact, primary: {...formData.contact.primary, email: e.target.value}}})}\n            required\n          />\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Phone</label>\n          <Input\n            value={formData.contact.primary.phone}\n            onChange={(e) => setFormData({...formData, contact: {...formData.contact, primary: {...formData.contact.primary, phone: e.target.value}}})}\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Mobile</label>\n          <Input\n            value={formData.contact.primary.mobile}\n            onChange={(e) => setFormData({...formData, contact: {...formData.contact, primary: {...formData.contact.primary, mobile: e.target.value}}})}\n          />\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">City *</label>\n          <Input\n            value={formData.address",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 346,
        "end": 385,
        "startLoc": {
          "line": 346,
          "column": 2,
          "position": 3123
        },
        "endLoc": {
          "line": 385,
          "column": 8,
          "position": 3587
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 351,
        "end": 390,
        "startLoc": {
          "line": 351,
          "column": 2,
          "position": 3329
        },
        "endLoc": {
          "line": 390,
          "column": 8,
          "position": 3793
        }
      }
    },
    {
      "format": "javascript",
      "lines": 32,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-teal-600 hover:bg-teal-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New RFQ\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>Create Request for Quotation</DialogTitle>\n            </DialogHeader>\n            <CreateRFQForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search RFQs...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 72,
        "end": 103,
        "startLoc": {
          "line": 72,
          "column": 5,
          "position": 709
        },
        "endLoc": {
          "line": 103,
          "column": 13,
          "position": 974
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 95,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 95,
          "column": 11,
          "position": 942
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 9,
          "position": 141
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 10,
          "position": 141
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": " onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search RFQs...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 83,
        "end": 96,
        "startLoc": {
          "line": 83,
          "column": 14,
          "position": 805
        },
        "endLoc": {
          "line": 96,
          "column": 15,
          "position": 921
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 75,
        "end": 88,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 773
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"DRAFT",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 102,
        "end": 109,
        "startLoc": {
          "line": 102,
          "column": 4,
          "position": 965
        },
        "endLoc": {
          "line": 109,
          "column": 6,
          "position": 1040
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 106,
        "end": 113,
        "startLoc": {
          "line": 106,
          "column": 7,
          "position": 1071
        },
        "endLoc": {
          "line": 113,
          "column": 8,
          "position": 1146
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n              <SelectItem value=\"Construction\">Construction</SelectItem>\n              <SelectItem value=\"Maintenance\">Maintenance</SelectItem>\n              <SelectItem value=\"Supplies\">Supplies</SelectItem>\n              <SelectItem value=\"Services\">Services</SelectItem>\n              <SelectItem value=\"Equipment\">Equipment</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 390,
        "end": 399,
        "startLoc": {
          "line": 390,
          "column": 14,
          "position": 3714
        },
        "endLoc": {
          "line": 399,
          "column": 4,
          "position": 3808
        }
      },
      "secondFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 122,
        "end": 131,
        "startLoc": {
          "line": 122,
          "column": 11,
          "position": 1197
        },
        "endLoc": {
          "line": 131,
          "column": 12,
          "position": 1291
        }
      }
    },
    {
      "format": "javascript",
      "lines": 56,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-green-600 hover:bg-green-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Property\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl\">\n            <DialogHeader>\n              <DialogTitle>Add New Property</DialogTitle>\n            </DialogHeader>\n            <CreatePropertyForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search properties...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={typeFilter} onValueChange={setTypeFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Property Type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Types</SelectItem>\n                <SelectItem value=\"RESIDENTIAL\">Residential</SelectItem>\n                <SelectItem value=\"COMMERCIAL\">Commercial</SelectItem>\n                <SelectItem value=\"INDUSTRIAL\">Industrial</SelectItem>\n                <SelectItem value=\"MIXED_USE\">Mixed Use</SelectItem>\n                <SelectItem value=\"LAND\">Land</SelectItem>\n              </SelectContent>\n            </Select>\n            <Button variant=\"outline\" className=\"flex items-center gap-2\">\n              <Map className=\"w-4 h-4\" />\n              View Map\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Properties Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {(properties as PropertyItem[]).map((property) => (\n          <PropertyCard key={property",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 61,
        "end": 116,
        "startLoc": {
          "line": 61,
          "column": 5,
          "position": 622
        },
        "endLoc": {
          "line": 116,
          "column": 9,
          "position": 1131
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 107,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 107,
          "column": 13,
          "position": 1080
        }
      }
    },
    {
      "format": "javascript",
      "lines": 151,
      "fragment": ".type || '')}>\n            {property.type?.toLowerCase() || ''}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <MapPin className=\"w-4 h-4 mr-1\" />\n          <span>{property.address?.city}, {property.address?.region}</span>\n        </div>\n\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Total Area:</span>\n            <span className=\"text-sm font-medium\">{property.details?.totalArea || 'N/A'} sqm</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Units:</span>\n            <span className=\"text-sm font-medium\">{totalUnits} units</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Occupancy:</span>\n            <span className=\"text-sm font-medium\">{occupancyRate}%</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-sm text-gray-600\">Monthly Rent:</span>\n            <span className=\"text-sm font-medium\">{property.financial?.monthlyRent?.toLocaleString() || 'N/A'} SAR</span>\n          </div>\n        </div>\n\n        <Separator />\n\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-gray-600\">Status:</span>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n              <span className=\"text-sm font-medium\">Active</span>\n            </div>\n          </div>\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-gray-600\">Tenants:</span>\n            <span className=\"text-sm font-medium\">{occupiedUnits}/{totalUnits}</span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-2\">\n          <Button variant=\"ghost\" size=\"sm\">\n            <Eye className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\">\n            <Edit className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n            <Trash2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreatePropertyForm({ onCreated }: { onCreated: () => void }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    type: '',\n    subtype: '',\n    address: {\n      street: '',\n      city: '',\n      region: '',\n      postalCode: '',\n      coordinates: { lat: 24.7136, lng: 46.6753 }, // Default to Riyadh\n      nationalAddress: '',\n      district: ''\n    },\n    details: {\n      totalArea: 0,\n      builtArea: 0,\n      bedrooms: 0,\n      bathrooms: 0,\n      floors: 0,\n      parkingSpaces: 0,\n      yearBuilt: new Date().getFullYear(),\n      occupancyRate: 0\n    },\n    ownership: {\n      type: 'OWNED',\n      owner: {\n        name: '',\n        contact: '',\n        id: ''\n      },\n      lease: {\n        startDate: '',\n        endDate: '',\n        monthlyRent: 0,\n        landlord: ''\n      }\n    },\n    features: {\n      amenities: [] as string[],\n      utilities: {\n        electricity: '',\n        water: '',\n        gas: '',\n        internet: ''\n      },\n      accessibility: {\n        elevator: false,\n        ramp: false,\n        parking: false\n      }\n    },\n    tags: [] as string[]\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/properties', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', 'x-tenant-id': 'demo-tenant' },\n        body: JSON.stringify(formData)\n      });\n\n      if (response.ok) {\n        onCreated();\n      } else {\n        alert('Failed to create property');\n      }\n    } catch {\n      alert('Error creating property');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 max-h-96 overflow-y-auto\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Property Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 184,
        "end": 334,
        "startLoc": {
          "line": 184,
          "column": 9,
          "position": 1797
        },
        "endLoc": {
          "line": 334,
          "column": 2,
          "position": 3166
        }
      },
      "secondFile": {
        "name": "app/fm/tenants/page.tsx",
        "start": 177,
        "end": 335,
        "startLoc": {
          "line": 177,
          "column": 7,
          "position": 1693
        },
        "endLoc": {
          "line": 335,
          "column": 2,
          "position": 3190
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Separator } from '@/components/ui/separator';\nimport { Building2",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 10,
          "position": 167
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 14,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 14,
          "column": 9,
          "position": 169
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": " onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search properties...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 19,
          "position": 716
        },
        "endLoc": {
          "line": 85,
          "column": 21,
          "position": 832
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 75,
        "end": 88,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 773
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "}</span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-2 pt-2\">\n          <Button variant=\"ghost\" size=\"sm\">\n            <Eye className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\">\n            <Edit className=\"w-4 h-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n            <Trash2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreatePropertyForm",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 226,
        "end": 246,
        "startLoc": {
          "line": 226,
          "column": 11,
          "position": 2289
        },
        "endLoc": {
          "line": 246,
          "column": 19,
          "position": 2448
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 245,
        "end": 265,
        "startLoc": {
          "line": 245,
          "column": 2,
          "position": 2440
        },
        "endLoc": {
          "line": 265,
          "column": 17,
          "position": 2599
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"RESIDENTIAL",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 325,
        "end": 339,
        "startLoc": {
          "line": 325,
          "column": 2,
          "position": 3057
        },
        "endLoc": {
          "line": 339,
          "column": 12,
          "position": 3203
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 326,
        "end": 340,
        "startLoc": {
          "line": 326,
          "column": 2,
          "position": 3081
        },
        "endLoc": {
          "line": 340,
          "column": 9,
          "position": 3227
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n              <SelectItem value=\"RESIDENTIAL\">Residential</SelectItem>\n              <SelectItem value=\"COMMERCIAL\">Commercial</SelectItem>\n              <SelectItem value=\"INDUSTRIAL\">Industrial</SelectItem>\n              <SelectItem value=\"MIXED_USE\">Mixed Use</SelectItem>\n              <SelectItem value=\"LAND\">Land</SelectItem>\n            </SelectContent>\n          </Select>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 338,
        "end": 346,
        "startLoc": {
          "line": 338,
          "column": 14,
          "position": 3194
        },
        "endLoc": {
          "line": 346,
          "column": 3,
          "position": 3284
        }
      },
      "secondFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 97,
        "end": 105,
        "startLoc": {
          "line": 97,
          "column": 11,
          "position": 942
        },
        "endLoc": {
          "line": 105,
          "column": 2,
          "position": 1032
        }
      }
    },
    {
      "format": "javascript",
      "lines": 67,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-indigo-600 hover:bg-indigo-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Project\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl\">\n            <DialogHeader>\n              <DialogTitle>Create New Project</DialogTitle>\n            </DialogHeader>\n            <CreateProjectForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search projects...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={typeFilter} onValueChange={setTypeFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Project Type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Types</SelectItem>\n                <SelectItem value=\"NEW_CONSTRUCTION\">New Construction</SelectItem>\n                <SelectItem value=\"RENOVATION\">Renovation</SelectItem>\n                <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n                <SelectItem value=\"FIT_OUT\">Fit Out</SelectItem>\n                <SelectItem value=\"DEMOLITION\">Demolition</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"PLANNING\">Planning</SelectItem>\n                <SelectItem value=\"APPROVED\">Approved</SelectItem>\n                <SelectItem value=\"IN_PROGRESS\">In Progress</SelectItem>\n                <SelectItem value=\"ON_HOLD\">On Hold</SelectItem>\n                <SelectItem value=\"COMPLETED\">Completed</SelectItem>\n                <SelectItem value=\"CANCELLED\">Cancelled</SelectItem>\n                <SelectItem value=\"CLOSED\">Closed</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Projects Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {(projects as ProjectItem[]).map((project) => (\n          <ProjectCard key={project",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 63,
        "end": 129,
        "startLoc": {
          "line": 63,
          "column": 5,
          "position": 656
        },
        "endLoc": {
          "line": 129,
          "column": 8,
          "position": 1313
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 127,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 127,
          "column": 7,
          "position": 1285
        }
      }
    },
    {
      "format": "javascript",
      "lines": 148,
      "fragment": ".status || '')}>\n            {project.status?.toLowerCase().replace('_', ' ') || ''}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <p className=\"text-sm text-gray-600 line-clamp-2\">{project.description}</p>\n\n        {/* Progress Indicators */}\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm\">\n            <span className=\"text-gray-600\">Overall Progress</span>\n            <span className=\"font-medium\">{project.progress?.overall || 0}%</span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div \n              className=\"bg-indigo-600 h-2 rounded-full transition-all\"\n              style={{ width: `${project.progress?.overall || 0}%` }}\n            />\n          </div>\n        </div>\n\n        <Separator />\n\n        <div className=\"grid grid-cols-2 gap-3 text-sm\">\n          <div>\n            <div className=\"flex items-center text-gray-600\">\n              <Calendar className=\"w-4 h-4 mr-1\" />\n              Timeline\n            </div>\n            <p className=\"font-medium mt-1\">\n              {daysRemaining !== null ? (\n                daysRemaining > 0 \n                  ? `${daysRemaining} days left`\n                  : `${Math.abs(daysRemaining)} days overdue`\n              ) : 'No deadline'}\n            </p>\n          </div>\n          <div>\n            <div className=\"flex items-center text-gray-600\">\n              <DollarSign className=\"w-4 h-4 mr-1\" />\n              Budget\n            </div>\n            <p className=\"font-medium mt-1\">\n              {project.budget?.total?.toLocaleString() || 'N/A'} {project.budget?.currency || 'SAR'}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center justify-between pt-2\">\n          <div className=\"flex items-center space-x-2\">\n            <Users className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-sm text-gray-600\">\n              {project.team?.length || 0} team members\n            </span>\n          </div>\n          <div className=\"flex space-x-2\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <Eye className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\">\n              <Edit className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreateProjectForm({ onCreated }: { onCreated: () => void }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    type: '',\n    propertyId: '',\n    location: {\n      address: '',\n      city: '',\n      coordinates: { lat: 24.7136, lng: 46.6753 }\n    },\n    timeline: {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date(Date.now() + 90 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n      duration: 90\n    },\n    budget: {\n      total: 0,\n      currency: 'SAR'\n    },\n    tags: [] as string[]\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/projects', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', 'x-tenant-id': 'demo-tenant' },\n        body: JSON.stringify(formData)\n      });\n\n      if (response.ok) {\n        onCreated();\n      } else {\n        alert('Failed to create project');\n      }\n    } catch {\n      alert('Error creating project');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 max-h-96 overflow-y-auto\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Project Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"NEW_CONSTRUCTION\">New Construction</SelectItem>\n              <SelectItem value=\"RENOVATION\">Renovation</SelectItem>\n              <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n              <SelectItem value=\"FIT_OUT\">Fit Out</SelectItem>\n              <SelectItem value=\"DEMOLITION\">Demolition</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">Description</label>\n        <Textarea\n          value={formData.description}\n          onChange={(e) => setFormData({...formData, description: e.target.value})}",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 203,
        "end": 350,
        "startLoc": {
          "line": 203,
          "column": 8,
          "position": 2020
        },
        "endLoc": {
          "line": 350,
          "column": 2,
          "position": 3417
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 212,
        "end": 353,
        "startLoc": {
          "line": 212,
          "column": 7,
          "position": 2042
        },
        "endLoc": {
          "line": 353,
          "column": 2,
          "position": 3350
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Separator } from '@/components/ui/separator';\nimport { \n  Briefcase",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 1,
        "end": 14,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 14,
          "column": 10,
          "position": 169
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 14,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 14,
          "column": 9,
          "position": 169
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "() {\n  const [search, setSearch] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [createOpen, setCreateOpen] = useState(false);\n\n  const { data, mutate } = useSWR(\n    `/api/projects?search=",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 42,
        "end": 49,
        "startLoc": {
          "line": 42,
          "column": 13,
          "position": 424
        },
        "endLoc": {
          "line": 49,
          "column": 23,
          "position": 520
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 43,
        "end": 50,
        "startLoc": {
          "line": 43,
          "column": 12,
          "position": 451
        },
        "endLoc": {
          "line": 50,
          "column": 22,
          "position": 547
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": " onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search projects...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 74,
        "end": 87,
        "startLoc": {
          "line": 74,
          "column": 18,
          "position": 750
        },
        "endLoc": {
          "line": 87,
          "column": 19,
          "position": 866
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 75,
        "end": 88,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 773
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"PLANNING",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 104,
        "end": 113,
        "startLoc": {
          "line": 104,
          "column": 11,
          "position": 1053
        },
        "endLoc": {
          "line": 113,
          "column": 9,
          "position": 1140
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 104,
        "end": 113,
        "startLoc": {
          "line": 104,
          "column": 11,
          "position": 1059
        },
        "endLoc": {
          "line": 113,
          "column": 8,
          "position": 1146
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <Eye className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\">\n              <Edit className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 259,
        "end": 270,
        "startLoc": {
          "line": 259,
          "column": 15,
          "position": 2539
        },
        "endLoc": {
          "line": 270,
          "column": 4,
          "position": 2657
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 249,
        "end": 260,
        "startLoc": {
          "line": 249,
          "column": 32,
          "position": 2464
        },
        "endLoc": {
          "line": 260,
          "column": 12,
          "position": 2582
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"NEW_CONSTRUCTION",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 322,
        "end": 336,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 3122
        },
        "endLoc": {
          "line": 336,
          "column": 17,
          "position": 3268
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 326,
        "end": 340,
        "startLoc": {
          "line": 326,
          "column": 2,
          "position": 3081
        },
        "endLoc": {
          "line": 340,
          "column": 9,
          "position": 3227
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n              <SelectItem value=\"NEW_CONSTRUCTION\">New Construction</SelectItem>\n              <SelectItem value=\"RENOVATION\">Renovation</SelectItem>\n              <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n              <SelectItem value=\"FIT_OUT\">Fit Out</SelectItem>\n              <SelectItem value=\"DEMOLITION\">Demolition</SelectItem>\n            </SelectContent>\n          </Select>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 335,
        "end": 343,
        "startLoc": {
          "line": 335,
          "column": 14,
          "position": 3259
        },
        "endLoc": {
          "line": 343,
          "column": 3,
          "position": 3351
        }
      },
      "secondFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 99,
        "end": 107,
        "startLoc": {
          "line": 99,
          "column": 11,
          "position": 976
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 1068
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Start Date *</label>\n          <Input\n            type=\"date\"\n            value={formData.timeline.startDate}\n            onChange={(e) => setFormData({...formData, timeline: {...formData.timeline, startDate: e.target.value}})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">End",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 355,
        "end": 366,
        "startLoc": {
          "line": 355,
          "column": 2,
          "position": 3442
        },
        "endLoc": {
          "line": 366,
          "column": 4,
          "position": 3555
        }
      },
      "secondFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 447,
        "end": 458,
        "startLoc": {
          "line": 447,
          "column": 4,
          "position": 4291
        },
        "endLoc": {
          "line": 458,
          "column": 11,
          "position": 4404
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ".map((order) => (\n              <Card key={order.id} className=\"hover:shadow-md transition-shadow\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\n                          {t('orders.serviceOrder'",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 265,
        "end": 272,
        "startLoc": {
          "line": 265,
          "column": 14,
          "position": 2487
        },
        "endLoc": {
          "line": 272,
          "column": 22,
          "position": 2576
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 191,
        "end": 198,
        "startLoc": {
          "line": 191,
          "column": 23,
          "position": 1741
        },
        "endLoc": {
          "line": 198,
          "column": 23,
          "position": 1830
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": "}\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            {t('common.view', 'View')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4 mr-2\" />\n                            {t('common.edit', 'Edit')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            {t('common.delete', 'Delete')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n      </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 302,
        "end": 326,
        "startLoc": {
          "line": 302,
          "column": 9,
          "position": 2898
        },
        "endLoc": {
          "line": 326,
          "column": 3,
          "position": 3103
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 237,
        "end": 262,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 2246
        },
        "endLoc": {
          "line": 262,
          "column": 2,
          "position": 2452
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "</div>\n\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"outline\" size=\"sm\">\n                      <Eye className=\"h-4 w-4 mr-2\" />\n                      {t('common.view', 'View')}\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\">\n                      <Edit className=\"h-4 w-4 mr-2\" />\n                      {t('common.edit', 'Edit')}\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n                      <Trash2 className=\"h-4 w-4 mr-2\" />\n                      {t('common.delete', 'Delete')}\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            )",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/maintenance/page.tsx",
        "start": 195,
        "end": 213,
        "startLoc": {
          "line": 195,
          "column": 19,
          "position": 1725
        },
        "endLoc": {
          "line": 213,
          "column": 2,
          "position": 1898
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 238,
        "end": 255,
        "startLoc": {
          "line": 238,
          "column": 25,
          "position": 2249
        },
        "endLoc": {
          "line": 255,
          "column": 3,
          "position": 2421
        }
      }
    },
    {
      "format": "javascript",
      "lines": 112,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-emerald-600 hover:bg-emerald-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Invoice\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>Create Invoice</DialogTitle>\n            </DialogHeader>\n            <CreateInvoiceForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Total Outstanding</p>\n                <p className=\"text-2xl font-bold\">\n                  {invoices\n                    .filter((inv: Invoice) => inv.status !== 'PAID' && inv.status !== 'CANCELLED')\n                    .reduce((sum: number, inv: Invoice) => sum + inv.total, 0)\n                    .toLocaleString()} SAR\n                </p>\n              </div>\n              <DollarSign className=\"w-8 h-8 text-emerald-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Overdue</p>\n                <p className=\"text-2xl font-bold text-red-600\">\n                  {invoices.filter((inv: Invoice) => inv.status === 'OVERDUE').length}\n                </p>\n              </div>\n              <AlertCircle className=\"w-8 h-8 text-red-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Pending</p>\n                <p className=\"text-2xl font-bold text-yellow-600\">\n                  {invoices.filter((inv: Invoice) => inv.status === 'SENT' || inv.status === 'VIEWED').length}\n                </p>\n              </div>\n              <Clock className=\"w-8 h-8 text-yellow-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Paid This Month</p>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  {invoices.filter((inv: Invoice) => \n                    inv.status === 'PAID' && \n                    new Date(inv.payments?.[0]?.date ?? '').getMonth() === new Date().getMonth()\n                  ).length}\n                </p>\n              </div>\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search by invoice number or customer...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"DRAFT\">Draft</SelectItem>\n                <SelectItem value=\"SENT\">Sent</SelectItem>\n                <SelectItem value=\"VIEWED\">Viewed</SelectItem>\n                <SelectItem value=\"APPROVED\">Approved</SelectItem>\n                <SelectItem value=\"PAID\">Paid</SelectItem>\n                <SelectItem value=\"OVERDUE\">Overdue</SelectItem>\n                <SelectItem value=\"CANCELLED\">Cancelled</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={typeFilter",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 90,
        "end": 201,
        "startLoc": {
          "line": 90,
          "column": 5,
          "position": 809
        },
        "endLoc": {
          "line": 201,
          "column": 11,
          "position": 1875
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 117,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 117,
          "column": 15,
          "position": 1140
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Separator } from '@/components/ui/separator';\nimport { \n  FileText",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 9,
          "position": 156
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 6,
          "position": 154
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search by invoice number or customer...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 168,
        "end": 179,
        "startLoc": {
          "line": 168,
          "column": 5,
          "position": 1560
        },
        "endLoc": {
          "line": 179,
          "column": 40,
          "position": 1641
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 77,
        "end": 88,
        "startLoc": {
          "line": 77,
          "column": 7,
          "position": 808
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"DRAFT\">Draft</SelectItem>\n                <SelectItem value=\"SENT",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 179,
        "end": 193,
        "startLoc": {
          "line": 179,
          "column": 40,
          "position": 1642
        },
        "endLoc": {
          "line": 193,
          "column": 5,
          "position": 1775
        }
      },
      "secondFile": {
        "name": "app/fm/rfqs/page.tsx",
        "start": 96,
        "end": 110,
        "startLoc": {
          "line": 96,
          "column": 15,
          "position": 922
        },
        "endLoc": {
          "line": 110,
          "column": 10,
          "position": 1055
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "</div>\n          <div className=\"flex space-x-2\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <Eye className=\"w-4 h-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"sm\">\n              <Download",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 361,
        "end": 367,
        "startLoc": {
          "line": 361,
          "column": 11,
          "position": 3374
        },
        "endLoc": {
          "line": 367,
          "column": 9,
          "position": 3442
        }
      },
      "secondFile": {
        "name": "app/fm/projects/page.tsx",
        "start": 258,
        "end": 264,
        "startLoc": {
          "line": 258,
          "column": 11,
          "position": 2527
        },
        "endLoc": {
          "line": 264,
          "column": 5,
          "position": 2595
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n              <SelectItem value=\"SALES\">Sales</SelectItem>\n              <SelectItem value=\"PURCHASE\">Purchase</SelectItem>\n              <SelectItem value=\"RENTAL\">Rental</SelectItem>\n              <SelectItem value=\"SERVICE\">Service</SelectItem>\n              <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n        <",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 512,
        "end": 521,
        "startLoc": {
          "line": 512,
          "column": 14,
          "position": 4789
        },
        "endLoc": {
          "line": 521,
          "column": 2,
          "position": 4882
        }
      },
      "secondFile": {
        "name": "app/fm/invoices/page.tsx",
        "start": 206,
        "end": 215,
        "startLoc": {
          "line": 206,
          "column": 11,
          "position": 1932
        },
        "endLoc": {
          "line": 215,
          "column": 3,
          "position": 2025
        }
      }
    },
    {
      "format": "javascript",
      "lines": 69,
      "fragment": "={createOpen} onOpenChange={setCreateOpen}>\n          <DialogTrigger asChild>\n            <Button className=\"bg-blue-600 hover:bg-blue-700\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Asset\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>Add New Asset</DialogTitle>\n            </DialogHeader>\n            <CreateAssetForm onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search assets...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={typeFilter} onValueChange={setTypeFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Asset Type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Types</SelectItem>\n                <SelectItem value=\"HVAC\">HVAC</SelectItem>\n                <SelectItem value=\"ELECTRICAL\">Electrical</SelectItem>\n                <SelectItem value=\"PLUMBING\">Plumbing</SelectItem>\n                <SelectItem value=\"SECURITY\">Security</SelectItem>\n                <SelectItem value=\"ELEVATOR\">Elevator</SelectItem>\n                <SelectItem value=\"GENERATOR\">Generator</SelectItem>\n                <SelectItem value=\"FIRE_SYSTEM\">Fire System</SelectItem>\n                <SelectItem value=\"IT_EQUIPMENT\">IT Equipment</SelectItem>\n                <SelectItem value=\"VEHICLE\">Vehicle</SelectItem>\n                <SelectItem value=\"OTHER\">Other</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"ACTIVE\">Active</SelectItem>\n                <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n                <SelectItem value=\"OUT_OF_SERVICE\">Out of Service</SelectItem>\n                <SelectItem value=\"DECOMMISSIONED\">Decommissioned</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Assets Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {(assets as AssetItem[]).map((asset) => (\n          <AssetCard key={asset",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 58,
        "end": 126,
        "startLoc": {
          "line": 58,
          "column": 5,
          "position": 617
        },
        "endLoc": {
          "line": 126,
          "column": 6,
          "position": 1304
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 64,
        "end": 127,
        "startLoc": {
          "line": 64,
          "column": 5,
          "position": 679
        },
        "endLoc": {
          "line": 127,
          "column": 7,
          "position": 1285
        }
      }
    },
    {
      "format": "javascript",
      "lines": 115,
      "fragment": "}>\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction CreateAssetForm({ onCreated }: { onCreated: () => void }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    type: '',\n    category: '',\n    manufacturer: '',\n    model: '',\n    serialNumber: '',\n    propertyId: '',\n    location: {\n      building: '',\n      floor: '',\n      room: '',\n      coordinates: { lat: 24.7136, lng: 46.6753 } // Default to Riyadh\n    },\n    specs: {\n      capacity: '',\n      powerRating: '',\n      voltage: '',\n      current: '',\n      frequency: '',\n      dimensions: '',\n      weight: ''\n    },\n    purchase: {\n      date: '',\n      cost: 0,\n      supplier: '',\n      warranty: {\n        period: 12,\n        expiry: '',\n        terms: ''\n      }\n    },\n    status: 'ACTIVE',\n    criticality: 'MEDIUM',\n    tags: [] as string[]\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/assets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', 'x-tenant-id': 'demo-tenant' },\n        body: JSON.stringify(formData)\n      });\n\n      if (response.ok) {\n        onCreated();\n      } else {\n        alert('Failed to create asset');\n      }\n    } catch {\n      alert('Error creating asset');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Asset Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"HVAC\">HVAC</SelectItem>\n              <SelectItem value=\"ELECTRICAL\">Electrical</SelectItem>\n              <SelectItem value=\"PLUMBING\">Plumbing</SelectItem>\n              <SelectItem value=\"SECURITY\">Security</SelectItem>\n              <SelectItem value=\"ELEVATOR\">Elevator</SelectItem>\n              <SelectItem value=\"GENERATOR\">Generator</SelectItem>\n              <SelectItem value=\"FIRE_SYSTEM\">Fire System</SelectItem>\n              <SelectItem value=\"IT_EQUIPMENT\">IT Equipment</SelectItem>\n              <SelectItem value=\"VEHICLE\">Vehicle</SelectItem>\n              <SelectItem value=\"OTHER\">Other</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">Description</label>\n        <Textarea\n          value={formData.description}\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Category *</label>\n          <Input\n            value={formData",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 273,
        "end": 387,
        "startLoc": {
          "line": 273,
          "column": 13,
          "position": 2770
        },
        "endLoc": {
          "line": 387,
          "column": 9,
          "position": 3741
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 212,
        "end": 351,
        "startLoc": {
          "line": 212,
          "column": 2,
          "position": 2048
        },
        "endLoc": {
          "line": 351,
          "column": 2,
          "position": 3422
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport useSWR from 'swr';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Separator } from '@/components/ui/separator';\nimport { Building2, Plus, Search, Settings",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 9,
          "position": 176
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 7,
          "position": 176
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "() {\n  const [search, setSearch] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [createOpen, setCreateOpen] = useState(false);\n\n  const { data, mutate } = useSWR(\n    `/api/assets?search=",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 37,
        "end": 44,
        "startLoc": {
          "line": 37,
          "column": 11,
          "position": 389
        },
        "endLoc": {
          "line": 44,
          "column": 21,
          "position": 485
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 43,
        "end": 50,
        "startLoc": {
          "line": 43,
          "column": 12,
          "position": 451
        },
        "endLoc": {
          "line": 50,
          "column": 22,
          "position": 547
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": " onCreated={() => { mutate(); setCreateOpen(false); }} />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-4\">\n            <div className=\"flex-1 min-w-64\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <Input\n                  placeholder=\"Search assets...",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 69,
        "end": 82,
        "startLoc": {
          "line": 69,
          "column": 16,
          "position": 711
        },
        "endLoc": {
          "line": 82,
          "column": 17,
          "position": 827
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 75,
        "end": 88,
        "startLoc": {
          "line": 75,
          "column": 17,
          "position": 773
        },
        "endLoc": {
          "line": 88,
          "column": 18,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-48\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">All Status</SelectItem>\n                <SelectItem value=\"ACTIVE",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 104,
        "end": 113,
        "startLoc": {
          "line": 104,
          "column": 6,
          "position": 1089
        },
        "endLoc": {
          "line": 113,
          "column": 7,
          "position": 1176
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 104,
        "end": 113,
        "startLoc": {
          "line": 104,
          "column": 11,
          "position": 1059
        },
        "endLoc": {
          "line": 113,
          "column": 8,
          "position": 1146
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "Name *</label>\n          <Input\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Type *</label>\n          <Select value={formData.type} onValueChange={(value) => setFormData({...formData, type: value})}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"HVAC",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 346,
        "end": 360,
        "startLoc": {
          "line": 346,
          "column": 2,
          "position": 3321
        },
        "endLoc": {
          "line": 360,
          "column": 5,
          "position": 3467
        }
      },
      "secondFile": {
        "name": "app/fm/vendors/page.tsx",
        "start": 326,
        "end": 340,
        "startLoc": {
          "line": 326,
          "column": 2,
          "position": 3081
        },
        "endLoc": {
          "line": 340,
          "column": 9,
          "position": 3227
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ">\n              <SelectItem value=\"HVAC\">HVAC</SelectItem>\n              <SelectItem value=\"ELECTRICAL\">Electrical</SelectItem>\n              <SelectItem value=\"PLUMBING\">Plumbing</SelectItem>\n              <SelectItem value=\"SECURITY\">Security</SelectItem>\n              <SelectItem value=\"ELEVATOR\">Elevator</SelectItem>\n              <SelectItem value=\"GENERATOR\">Generator</SelectItem>\n              <SelectItem value=\"FIRE_SYSTEM\">Fire System</SelectItem>\n              <SelectItem value=\"IT_EQUIPMENT\">IT Equipment</SelectItem>\n              <SelectItem value=\"VEHICLE\">Vehicle</SelectItem>\n              <SelectItem value=\"OTHER\">Other</SelectItem>\n            </SelectContent>\n          </Select>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 359,
        "end": 372,
        "startLoc": {
          "line": 359,
          "column": 14,
          "position": 3458
        },
        "endLoc": {
          "line": 372,
          "column": 3,
          "position": 3625
        }
      },
      "secondFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 94,
        "end": 107,
        "startLoc": {
          "line": 94,
          "column": 11,
          "position": 937
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 1104
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">Description</label>\n        <Textarea\n          value={formData.description}\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Category",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 369,
        "end": 385,
        "startLoc": {
          "line": 369,
          "column": 6,
          "position": 3610
        },
        "endLoc": {
          "line": 385,
          "column": 9,
          "position": 3727
        }
      },
      "secondFile": {
        "name": "app/fm/properties/page.tsx",
        "start": 343,
        "end": 359,
        "startLoc": {
          "line": 343,
          "column": 5,
          "position": 3269
        },
        "endLoc": {
          "line": 359,
          "column": 7,
          "position": 3386
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n            <SelectItem value=\"ACTIVE\">Active</SelectItem>\n            <SelectItem value=\"MAINTENANCE\">Maintenance</SelectItem>\n            <SelectItem value=\"OUT_OF_SERVICE\">Out of Service</SelectItem>\n            <SelectItem value=\"DECOMMISSIONED\">Decommissioned</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 424,
        "end": 433,
        "startLoc": {
          "line": 424,
          "column": 14,
          "position": 4075
        },
        "endLoc": {
          "line": 433,
          "column": 2,
          "position": 4158
        }
      },
      "secondFile": {
        "name": "app/fm/assets/page.tsx",
        "start": 112,
        "end": 120,
        "startLoc": {
          "line": 112,
          "column": 11,
          "position": 1167
        },
        "endLoc": {
          "line": 120,
          "column": 3,
          "position": 1249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(req: NextRequest) {\n  try {\n    if (process.env.WO_ENABLED !== 'true') {\n      return createSecureResponse({ error: \"Work Orders endpoint not available in this deployment\" }, 501, req);\n    }\n    const { db } = await import('@/lib/mongo');\n    await db;\n    const WOMod = await import('@/server/models/WorkOrder').catch(() => null);\n    const WorkOrder = WOMod && WOMod.WorkOrder;\n    if (!WorkOrder) {\n      return createSecureResponse({ error: \"Work Order dependencies are not available in this deployment\" }, 501, req);\n    }\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 124,
        "end": 136,
        "startLoc": {
          "line": 124,
          "column": 5,
          "position": 1141
        },
        "endLoc": {
          "line": 136,
          "column": 6,
          "position": 1299
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 59,
        "end": 71,
        "startLoc": {
          "line": 59,
          "column": 4,
          "position": 362
        },
        "endLoc": {
          "line": 71,
          "column": 6,
          "position": 520
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "// Rate limiting AFTER authentication\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n  await",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 139,
        "end": 145,
        "startLoc": {
          "line": 139,
          "column": 3,
          "position": 1335
        },
        "endLoc": {
          "line": 145,
          "column": 6,
          "position": 1439
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 87,
        "end": 93,
        "startLoc": {
          "line": 87,
          "column": 3,
          "position": 636
        },
        "endLoc": {
          "line": 93,
          "column": 6,
          "position": 740
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "),\n    secondary: z.object({\n      name: z.string().optional(),\n      email: z.string().email().optional(),\n      phone: z.string().optional()\n    }).optional(),\n    address: z.object({\n      street: z.string(),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/route.ts",
        "start": 21,
        "end": 28,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 250
        },
        "endLoc": {
          "line": 28,
          "column": 2,
          "position": 339
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 21,
        "end": 28,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 269
        },
        "endLoc": {
          "line": 28,
          "column": 2,
          "position": 358
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": "),\n  business: z.object({\n    registrationNumber: z.string().optional(),\n    taxId: z.string().optional(),\n    licenseNumber: z.string().optional(),\n    establishedDate: z.string().optional(),\n    employees: z.number().optional(),\n    annualRevenue: z.number().optional(),\n    specializations: z.array(z.string()).optional(),\n    certifications: z.array(z.object({\n      name: z.string(),\n      issuer: z.string(),\n      issued: z.string().optional(),\n      expires: z.string().optional(),\n      status: z.string().optional()\n    })).optional()\n  }).optional(),\n  status: z.enum([\"PENDING\", \"APPROVED\", \"SUSPENDED\", \"REJECTED\", \"BLACKLISTED\"]).optional(),\n  tags: z.array(z.string()).optional()\n});\n\n/**\n * @openapi\n * /api/vendors:\n *   get:\n *     summary: vendors operations\n *     tags: [vendors]\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     responses:\n *       200:\n *         description: Success\n *       401:\n *         description: Unauthorized\n *       429:\n *         description: Rate limit exceeded\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/route.ts",
        "start": 33,
        "end": 70,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 383
        },
        "endLoc": {
          "line": 70,
          "column": 4,
          "position": 658
        }
      },
      "secondFile": {
        "name": "app/api/vendors/[id]/route.ts",
        "start": 33,
        "end": 70,
        "startLoc": {
          "line": 33,
          "column": 2,
          "position": 422
        },
        "endLoc": {
          "line": 70,
          "column": 4,
          "position": 697
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ";\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/route.ts",
        "start": 73,
        "end": 81,
        "startLoc": {
          "line": 73,
          "column": 2,
          "position": 694
        },
        "endLoc": {
          "line": 81,
          "column": 3,
          "position": 803
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 137,
        "end": 93,
        "startLoc": {
          "line": 137,
          "column": 5,
          "position": 1330
        },
        "endLoc": {
          "line": 93,
          "column": 6,
          "position": 740
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "(req: NextRequest) {\n  try {\n    const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/vendors/route.ts",
        "start": 114,
        "end": 132,
        "startLoc": {
          "line": 114,
          "column": 4,
          "position": 1138
        },
        "endLoc": {
          "line": 132,
          "column": 2,
          "position": 1340
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 71,
        "end": 89,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 667
        },
        "endLoc": {
          "line": 89,
          "column": 5,
          "position": 869
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "} from \"next/server\";\nimport { connectToDatabase } from \"@/lib/mongodb-unified\";\nimport { Tenant } from \"@/server/models/Tenant\";\nimport { z } from \"zod\";\nimport { getSessionUser } from \"@/server/middleware/withAuthRbac\";\n\nimport { rateLimit } from '@/server/security/rateLimit';\nimport {rateLimitError, handleApiError} from '@/server/utils/errorResponses';\nimport { createSecureResponse } from '@/server/security/headers';\n\nconst createTenantSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 9
        },
        "endLoc": {
          "line": 11,
          "column": 19,
          "position": 112
        }
      },
      "secondFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 12,
          "position": 5
        },
        "endLoc": {
          "line": 11,
          "column": 19,
          "position": 108
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "]),\n  contact: z.object({\n    primary: z.object({\n      name: z.string(),\n      title: z.string().optional(),\n      email: z.string().email(),\n      phone: z.string().optional(),\n      mobile: z.string().optional()\n    }),\n    secondary: z.object({\n      name: z.string().optional(),\n      email: z.string().email().optional(),\n      phone: z.string().optional()\n    }).optional(),\n    emergency: z.object({\n      name: z.string().optional(),\n      relationship: z.string().optional(),\n      phone: z.string().optional()\n    }).optional()\n  }),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 13,
        "end": 32,
        "startLoc": {
          "line": 13,
          "column": 13,
          "position": 154
        },
        "endLoc": {
          "line": 32,
          "column": 2,
          "position": 385
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 13,
        "end": 32,
        "startLoc": {
          "line": 13,
          "column": 13,
          "position": 154
        },
        "endLoc": {
          "line": 32,
          "column": 2,
          "position": 401
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n  identification: z.object({\n    nationalId: z.string().optional(),\n    companyRegistration: z.string().optional(),\n    taxId: z.string().optional(),\n    licenseNumber: z.string().optional()\n  }).optional(),\n  address: z.object({\n    current: z.object({\n      street: z.string(),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 32,
        "end": 41,
        "startLoc": {
          "line": 32,
          "column": 2,
          "position": 384
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 494
        }
      },
      "secondFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 32,
        "end": 41,
        "startLoc": {
          "line": 32,
          "column": 2,
          "position": 404
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 514
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "),\n    permanent: z.object({\n      street: z.string().optional(),\n      city: z.string().optional(),\n      region: z.string().optional(),\n      postalCode: z.string().optional()\n    }).optional()\n  }),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 45,
        "end": 52,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 534
        },
        "endLoc": {
          "line": 52,
          "column": 2,
          "position": 617
        }
      },
      "secondFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 45,
        "end": 33,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 570
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 419
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "),\n  preferences: z.object({\n    communication: z.object({\n      email: z.boolean().optional(),\n      sms: z.boolean().optional(),\n      phone: z.boolean().optional(),\n      app: z.boolean().optional()\n    }).optional(),\n    notifications: z.object({\n      maintenance: z.boolean().optional(),\n      rent: z.boolean().optional(),\n      events: z.boolean().optional(),\n      announcements: z.boolean().optional()\n    }).optional(),\n    language: z.string().optional(),\n    timezone: z.string().optional()\n  }).optional(),\n  tags: z.array(z.string()).optional()\n});\n\n/**\n * @openapi\n * /api/tenants:\n *   get:\n *     summary: tenants operations\n *     tags: [tenants]\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     responses:\n *       200:\n *         description: Success\n *       401:\n *         description: Unauthorized\n *       429:\n *         description: Rate limit exceeded\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 52,
        "end": 88,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 616
        },
        "endLoc": {
          "line": 88,
          "column": 4,
          "position": 847
        }
      },
      "secondFile": {
        "name": "app/api/tenants/[id]/route.ts",
        "start": 52,
        "end": 88,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 656
        },
        "endLoc": {
          "line": 88,
          "column": 4,
          "position": 887
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    const user = await getSessionUser(req);\n    if (!user?",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 89,
        "end": 100,
        "startLoc": {
          "line": 89,
          "column": 1,
          "position": 849
        },
        "endLoc": {
          "line": 100,
          "column": 2,
          "position": 998
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 94,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 94,
          "column": 3,
          "position": 1066
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n  }\n}\n\nexport async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    await connectToDatabase();\n    let",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/tenants/route.ts",
        "start": 119,
        "end": 133,
        "startLoc": {
          "line": 119,
          "column": 6,
          "position": 1195
        },
        "endLoc": {
          "line": 133,
          "column": 4,
          "position": 1333
        }
      },
      "secondFile": {
        "name": "app/api/qa/log/route.ts",
        "start": 54,
        "end": 50,
        "startLoc": {
          "line": 54,
          "column": 4,
          "position": 420
        },
        "endLoc": {
          "line": 50,
          "column": 6,
          "position": 533
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req);",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/slas/route.ts",
        "start": 117,
        "end": 126,
        "startLoc": {
          "line": 117,
          "column": 1,
          "position": 1290
        },
        "endLoc": {
          "line": 126,
          "column": 2,
          "position": 1423
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 35,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 35,
          "column": 2,
          "position": 219
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "}, 500, req);\n  }\n}\n\nexport async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req);\n  if (!user?.orgId) {\n    return NextResponse.json(\n      { error: 'Unauthorized', message: 'Missing tenant context' },\n      { status: 401 }\n    );\n  }\n    await connectToDatabase();\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/slas/route.ts",
        "start": 159,
        "end": 181,
        "startLoc": {
          "line": 159,
          "column": 2,
          "position": 1728
        },
        "endLoc": {
          "line": 181,
          "column": 2,
          "position": 1946
        }
      },
      "secondFile": {
        "name": "app/api/qa/log/route.ts",
        "start": 54,
        "end": 135,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 413
        },
        "endLoc": {
          "line": 135,
          "column": 5,
          "position": 1492
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "if (!user?.orgId) {\n    return NextResponse.json(\n      { error: 'Unauthorized', message: 'Missing tenant context' },\n      { status: 401 }\n    );\n  }\n    await connectToDatabase();\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const type = searchParams.get(\"type\");\n    const priority",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/slas/route.ts",
        "start": 173,
        "end": 185,
        "startLoc": {
          "line": 173,
          "column": 3,
          "position": 1880
        },
        "endLoc": {
          "line": 185,
          "column": 9,
          "position": 2042
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 124,
        "end": 136,
        "startLoc": {
          "line": 124,
          "column": 5,
          "position": 1274
        },
        "endLoc": {
          "line": 136,
          "column": 7,
          "position": 1436
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ");\n    const status = searchParams.get(\"status\");\n    const search = searchParams.get(\"search\");\n\n    const match: Record<string, unknown> = { tenantId: user.orgId };\n\n    if (type) match.type = type;\n    if (priority",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/slas/route.ts",
        "start": 185,
        "end": 192,
        "startLoc": {
          "line": 185,
          "column": 11,
          "position": 2051
        },
        "endLoc": {
          "line": 192,
          "column": 9,
          "position": 2134
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 135,
        "end": 142,
        "startLoc": {
          "line": 135,
          "column": 7,
          "position": 1430
        },
        "endLoc": {
          "line": 142,
          "column": 7,
          "position": 1513
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const mongoose",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/search/route.ts",
        "start": 48,
        "end": 57,
        "startLoc": {
          "line": 48,
          "column": 1,
          "position": 257
        },
        "endLoc": {
          "line": 57,
          "column": 9,
          "position": 380
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 35,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 35,
          "column": 5,
          "position": 209
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req);\n  if (!user?.orgId) {\n    return NextResponse.json(\n      { error: 'Unauthorized', message: 'Missing tenant context' },\n      { status: 401 }\n    );\n  }\n    await connectToDatabase();\n\n    const data = createRFQSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/rfqs/route.ts",
        "start": 106,
        "end": 124,
        "startLoc": {
          "line": 106,
          "column": 1,
          "position": 921
        },
        "endLoc": {
          "line": 124,
          "column": 16,
          "position": 1127
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 135,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 135,
          "column": 16,
          "position": 1496
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "return handleApiError(error);\n  }\n}\n\nexport async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    const user = await getSessionUser(req);\n  if (!user?.orgId) {\n    return NextResponse.json(\n      { error: 'Unauthorized', message: 'Missing tenant context' },\n      { status: 401 }\n    );\n  }\n    await connectToDatabase();\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const status",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/rfqs/route.ts",
        "start": 143,
        "end": 168,
        "startLoc": {
          "line": 143,
          "column": 5,
          "position": 1314
        },
        "endLoc": {
          "line": 168,
          "column": 7,
          "position": 1611
        }
      },
      "secondFile": {
        "name": "app/api/tenants/route.ts",
        "start": 119,
        "end": 135,
        "startLoc": {
          "line": 119,
          "column": 5,
          "position": 1190
        },
        "endLoc": {
          "line": 135,
          "column": 5,
          "position": 1421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "),\n  details: z.object({\n    totalArea: z.number().optional(),\n    builtArea: z.number().optional(),\n    bedrooms: z.number().optional(),\n    bathrooms: z.number().optional(),\n    floors: z.number().optional(),\n    parkingSpaces: z.number().optional(),\n    yearBuilt: z.number().optional(),\n    occupancyRate: z.number().min(0).max(100).optional()\n  }).optional(),\n  ownership: z.object({\n    type: z.enum([\"OWNED\", \"LEASED\", \"MANAGED\"]),",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/route.ts",
        "start": 27,
        "end": 39,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 316
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 495
        }
      },
      "secondFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 27,
        "end": 39,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 343
        },
        "endLoc": {
          "line": 39,
          "column": 2,
          "position": 522
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": "(),\n      contact: z.string().optional(),\n      id: z.string().optional()\n    }).optional(),\n    lease: z.object({\n      startDate: z.string().optional(),\n      endDate: z.string().optional(),\n      monthlyRent: z.number().optional(),\n      landlord: z.string().optional()\n    }).optional()\n  }).optional(),\n  features: z.object({\n    amenities: z.array(z.string()).optional(),\n    utilities: z.object({\n      electricity: z.string().optional(),\n      water: z.string().optional(),\n      gas: z.string().optional(),\n      internet: z.string().optional()\n    }).optional(),\n    accessibility: z.object({\n      elevator: z.boolean().optional(),\n      ramp: z.boolean().optional(),\n      parking: z.boolean().optional()\n    }).optional()\n  }).optional(),\n  tags: z.array(z.string()).optional()\n});\n\n/**\n * @openapi\n * /api/properties:\n *   get:\n *     summary: properties operations\n *     tags: [properties]\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     responses:\n *       200:\n *         description: Success\n *       401:\n *         description: Unauthorized\n *       429:\n *         description: Rate limit exceeded\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/route.ts",
        "start": 41,
        "end": 85,
        "startLoc": {
          "line": 41,
          "column": 7,
          "position": 514
        },
        "endLoc": {
          "line": 85,
          "column": 4,
          "position": 845
        }
      },
      "secondFile": {
        "name": "app/api/properties/[id]/route.ts",
        "start": 41,
        "end": 85,
        "startLoc": {
          "line": 41,
          "column": 9,
          "position": 549
        },
        "endLoc": {
          "line": 85,
          "column": 4,
          "position": 880
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export async function POST(req: NextRequest) {\n  try {\n    const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const data = createPropertySchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/route.ts",
        "start": 86,
        "end": 104,
        "startLoc": {
          "line": 86,
          "column": 1,
          "position": 847
        },
        "endLoc": {
          "line": 104,
          "column": 21,
          "position": 1060
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 71,
        "end": 89,
        "startLoc": {
          "line": 71,
          "column": 1,
          "position": 660
        },
        "endLoc": {
          "line": 89,
          "column": 19,
          "position": 873
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/route.ts",
        "start": 138,
        "end": 152,
        "startLoc": {
          "line": 138,
          "column": 5,
          "position": 1376
        },
        "endLoc": {
          "line": 152,
          "column": 3,
          "position": 1552
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 73,
        "end": 87,
        "startLoc": {
          "line": 73,
          "column": 5,
          "position": 682
        },
        "endLoc": {
          "line": 87,
          "column": 6,
          "position": 858
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ");\n    }\n    await connectToDatabase();\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const type = searchParams.get(\"type\");\n    const status = searchParams.get(\"status\");\n    const city",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/properties/route.ts",
        "start": 153,
        "end": 162,
        "startLoc": {
          "line": 153,
          "column": 4,
          "position": 1580
        },
        "endLoc": {
          "line": 162,
          "column": 5,
          "position": 1709
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 128,
        "end": 137,
        "startLoc": {
          "line": 128,
          "column": 7,
          "position": 1322
        },
        "endLoc": {
          "line": 137,
          "column": 7,
          "position": 1451
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "export async function POST(req: NextRequest) {\n  try {\n    const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const data = createProjectSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/route.ts",
        "start": 65,
        "end": 83,
        "startLoc": {
          "line": 65,
          "column": 1,
          "position": 402
        },
        "endLoc": {
          "line": 83,
          "column": 20,
          "position": 615
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 71,
        "end": 89,
        "startLoc": {
          "line": 71,
          "column": 1,
          "position": 660
        },
        "endLoc": {
          "line": 89,
          "column": 19,
          "position": 873
        }
      }
    },
    {
      "format": "typescript",
      "lines": 39,
      "fragment": ", req);\n  }\n}\n\nexport async function GET(req: NextRequest) {\n  try {\n    const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const type = searchParams.get(\"type\");\n    const status = searchParams.get(\"status\");\n    const search = searchParams.get(\"search\");\n\n    const match: Record<string, unknown> = { tenantId: user.orgId };\n\n    if (type) match.type = type;\n    if (status) match.status = status;\n    if (search) {\n      match.$text = { $search: search };\n    }\n\n    const [items, total] = await Promise.all([\n      Project",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/route.ts",
        "start": 111,
        "end": 149,
        "startLoc": {
          "line": 111,
          "column": 4,
          "position": 918
        },
        "endLoc": {
          "line": 149,
          "column": 8,
          "position": 1375
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 110,
        "end": 148,
        "startLoc": {
          "line": 110,
          "column": 7,
          "position": 1119
        },
        "endLoc": {
          "line": 148,
          "column": 7,
          "position": 1576
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ".countDocuments(match)\n    ]);\n\n    return NextResponse.json({\n      items,\n      page,\n      limit,\n      total,\n      pages: Math.ceil(total / limit)\n    });\n  } catch (error: unknown) {\n    const correlationId = req.headers.get('x-correlation-id') || crypto.randomUUID();\n    console.error(`[${correlationId}] Projects fetch failed:`",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/projects/route.ts",
        "start": 153,
        "end": 165,
        "startLoc": {
          "line": 153,
          "column": 8,
          "position": 1424
        },
        "endLoc": {
          "line": 165,
          "column": 26,
          "position": 1529
        }
      },
      "secondFile": {
        "name": "app/api/properties/route.ts",
        "start": 179,
        "end": 191,
        "startLoc": {
          "line": 179,
          "column": 9,
          "position": 1916
        },
        "endLoc": {
          "line": 191,
          "column": 28,
          "position": 2021
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "export async function GET(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/route.ts",
        "start": 42,
        "end": 50,
        "startLoc": {
          "line": 42,
          "column": 1,
          "position": 274
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 392
        }
      },
      "secondFile": {
        "name": "app/api/support/tickets/my/route.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 106
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ";\n\n  let orgId: string;\n  try {\n    const user = await getSessionUser(req);\n    orgId = user.orgId;\n  } catch {\n    return createSecureResponse({ error: 'Unauthorized' }, 401, req);\n  }\n\n  const { notifications } = await getCollections();\n  const filter",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/route.ts",
        "start": 58,
        "end": 69,
        "startLoc": {
          "line": 58,
          "column": 3,
          "position": 614
        },
        "endLoc": {
          "line": 69,
          "column": 7,
          "position": 710
        }
      },
      "secondFile": {
        "name": "app/api/notifications/[id]/route.ts",
        "start": 40,
        "end": 49,
        "startLoc": {
          "line": 40,
          "column": 7,
          "position": 300
        },
        "endLoc": {
          "line": 49,
          "column": 4,
          "position": 394
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "});\n}\n\nexport async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  let orgId",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/notifications/route.ts",
        "start": 94,
        "end": 105,
        "startLoc": {
          "line": 94,
          "column": 3,
          "position": 1068
        },
        "endLoc": {
          "line": 105,
          "column": 6,
          "position": 1193
        }
      },
      "secondFile": {
        "name": "app/api/qa/health/route.ts",
        "start": 84,
        "end": 41,
        "startLoc": {
          "line": 84,
          "column": 2,
          "position": 670
        },
        "endLoc": {
          "line": 41,
          "column": 9,
          "position": 278
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 89,
        "end": 104,
        "startLoc": {
          "line": 89,
          "column": 5,
          "position": 852
        },
        "endLoc": {
          "line": 104,
          "column": 6,
          "position": 1029
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 73,
        "end": 87,
        "startLoc": {
          "line": 73,
          "column": 5,
          "position": 682
        },
        "endLoc": {
          "line": 87,
          "column": 6,
          "position": 858
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", {\n      correlationId,\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined\n    });\n    \n    if (error instanceof z.ZodError) {\n      return createSecureResponse({ \n        error: 'Validation failed',\n        details: error.issues,\n        correlationId\n      }, 422",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 186,
        "end": 197,
        "startLoc": {
          "line": 186,
          "column": 47,
          "position": 1809
        },
        "endLoc": {
          "line": 197,
          "column": 4,
          "position": 1914
        }
      },
      "secondFile": {
        "name": "app/api/properties/route.ts",
        "start": 116,
        "end": 124,
        "startLoc": {
          "line": 116,
          "column": 50,
          "position": 1202
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 1303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "(req: NextRequest) {\n  try {\n    await connectToDatabase();\n    const user = await getSessionUser(req);\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 207,
        "end": 225,
        "startLoc": {
          "line": 207,
          "column": 4,
          "position": 1968
        },
        "endLoc": {
          "line": 225,
          "column": 2,
          "position": 2170
        }
      },
      "secondFile": {
        "name": "app/api/invoices/route.ts",
        "start": 86,
        "end": 104,
        "startLoc": {
          "line": 86,
          "column": 5,
          "position": 829
        },
        "endLoc": {
          "line": 104,
          "column": 5,
          "position": 1031
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ");\n    }\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const status = searchParams.get(\"status\");\n    const type",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 222,
        "end": 229,
        "startLoc": {
          "line": 222,
          "column": 7,
          "position": 2160
        },
        "endLoc": {
          "line": 229,
          "column": 5,
          "position": 2266
        }
      },
      "secondFile": {
        "name": "app/api/tenants/route.ts",
        "start": 137,
        "end": 169,
        "startLoc": {
          "line": 137,
          "column": 4,
          "position": 1382
        },
        "endLoc": {
          "line": 169,
          "column": 9,
          "position": 1626
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ".countDocuments(match)\n    ]);\n\n    return NextResponse.json({\n      items,\n      page,\n      limit,\n      total,\n      pages: Math.ceil(total / limit)\n    });\n  } catch (error: unknown) {\n    const correlationId = crypto.randomUUID();\n    console.error('[GET /api/invoices] Error fetching invoices:'",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 248,
        "end": 260,
        "startLoc": {
          "line": 248,
          "column": 8,
          "position": 2498
        },
        "endLoc": {
          "line": 260,
          "column": 47,
          "position": 2588
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 152,
        "end": 164,
        "startLoc": {
          "line": 152,
          "column": 7,
          "position": 1625
        },
        "endLoc": {
          "line": 164,
          "column": 45,
          "position": 1715
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", {\n      correlationId,\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined\n    });\n    return createSecureResponse({ \n      error: 'Failed to fetch invoices',\n      correlationId\n    }, 500, req);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/invoices/route.ts",
        "start": 260,
        "end": 270,
        "startLoc": {
          "line": 260,
          "column": 47,
          "position": 2589
        },
        "endLoc": {
          "line": 270,
          "column": 2,
          "position": 2678
        }
      },
      "secondFile": {
        "name": "app/api/finance/invoices/route.ts",
        "start": 86,
        "end": 93,
        "startLoc": {
          "line": 86,
          "column": 55,
          "position": 766
        },
        "endLoc": {
          "line": 93,
          "column": 2,
          "position": 851
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function POST(req: NextRequest) {\n  // Rate limiting\n  const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n  const rl = rateLimit(`${new URL(req.url).pathname}:${clientIp}`, 60, 60_000);\n  if (!rl.allowed) {\n    return rateLimitError();\n  }\n\n  try {\n    // Authentication & Authorization\n    const token = req.headers.get('authorization')?.replace('Bearer ', '')?.trim();\n    if (!token) {\n      return createErrorResponse",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/contracts/route.ts",
        "start": 42,
        "end": 54,
        "startLoc": {
          "line": 42,
          "column": 1,
          "position": 278
        },
        "endLoc": {
          "line": 54,
          "column": 20,
          "position": 445
        }
      },
      "secondFile": {
        "name": "app/api/owners/groups/assign-primary/route.ts",
        "start": 34,
        "end": 46,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 168
        },
        "endLoc": {
          "line": 46,
          "column": 21,
          "position": 335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "),\n  location: z.object({\n    building: z.string().optional(),\n    floor: z.string().optional(),\n    room: z.string().optional(),\n    coordinates: z.object({\n      lat: z.number(),\n      lng: z.number()\n    }).optional()\n  }).optional(),\n  specs: z.object({\n    capacity: z.string().optional(),\n    powerRating: z.string().optional(),\n    voltage: z.string().optional(),\n    current: z.string().optional(),\n    frequency: z.string().optional(),\n    dimensions: z.string().optional(),\n    weight: z.string().optional()\n  }).optional(),\n  purchase",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 19,
        "end": 38,
        "startLoc": {
          "line": 19,
          "column": 2,
          "position": 265
        },
        "endLoc": {
          "line": 38,
          "column": 9,
          "position": 495
        }
      },
      "secondFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 19,
        "end": 38,
        "startLoc": {
          "line": 19,
          "column": 2,
          "position": 280
        },
        "endLoc": {
          "line": 38,
          "column": 7,
          "position": 510
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ").optional()\n  }).optional(),\n  status: z.enum([\"ACTIVE\", \"MAINTENANCE\", \"OUT_OF_SERVICE\", \"DECOMMISSIONED\"]).optional(),\n  criticality: z.enum([\"LOW\", \"MEDIUM\", \"HIGH\", \"CRITICAL\"]).optional(),\n  tags: z.array(z.string()).optional()\n});\n\n/**\n * @openapi\n * /api/assets:\n *   get:\n *     summary: assets operations\n *     tags: [assets]\n *     security:\n *       - cookieAuth: []\n *       - bearerAuth: []\n *     responses:\n *       200:\n *         description: Success\n *       401:\n *         description: Unauthorized\n *       429:\n *         description: Rate limit exceeded\n */",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 46,
        "end": 69,
        "startLoc": {
          "line": 46,
          "column": 2,
          "position": 605
        },
        "endLoc": {
          "line": 69,
          "column": 4,
          "position": 698
        }
      },
      "secondFile": {
        "name": "app/api/assets/[id]/route.ts",
        "start": 36,
        "end": 54,
        "startLoc": {
          "line": 36,
          "column": 2,
          "position": 494
        },
        "endLoc": {
          "line": 54,
          "column": 4,
          "position": 587
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}, 401, req);\n    }\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const data = createAssetSchema",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 86,
        "end": 103,
        "startLoc": {
          "line": 86,
          "column": 2,
          "position": 926
        },
        "endLoc": {
          "line": 103,
          "column": 18,
          "position": 1116
        }
      },
      "secondFile": {
        "name": "app/api/work-orders/route.ts",
        "start": 81,
        "end": 89,
        "startLoc": {
          "line": 81,
          "column": 2,
          "position": 616
        },
        "endLoc": {
          "line": 89,
          "column": 19,
          "position": 873
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(req: NextRequest) {\n  try {\n    if (process.env.ASSET_ENABLED !== 'true') {\n      return createSecureResponse({ error: \"Asset endpoint not available in this deployment\" }, 501, req);\n    }\n    const { db } = await import('@/lib/mongo');\n    await (db as unknown as () => Promise<void>)();\n    const AssetMod = await import('@/server/models/Asset').catch(() => null);\n    const Asset = AssetMod && AssetMod.Asset;\n    if (!Asset) {\n      return createSecureResponse({ error: \"Asset dependencies are not available in this deployment\" }, 501, req);\n    }\n    // Require authentication - no bypass allowed",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 119,
        "end": 131,
        "startLoc": {
          "line": 119,
          "column": 4,
          "position": 1272
        },
        "endLoc": {
          "line": 131,
          "column": 46,
          "position": 1450
        }
      },
      "secondFile": {
        "name": "app/api/assets/route.ts",
        "start": 70,
        "end": 82,
        "startLoc": {
          "line": 70,
          "column": 5,
          "position": 707
        },
        "endLoc": {
          "line": 82,
          "column": 6,
          "position": 885
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "const user = await getSessionUser(req);\n    \n    // Check authentication first\n    if (!user) {\n      return createSecureResponse({ error: 'Authentication required' }, 401, req);\n    }\n    \n    // Rate limiting AFTER authentication\n    const clientIp = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n    const rl = rateLimit(`${new URL(req.url).pathname}:${user.id}:${clientIp}`, 60, 60_000);\n    if (!rl.allowed) {\n      return rateLimitError();\n    }\n    if (!user?.orgId) {\n      return NextResponse.json(\n        { error: 'Unauthorized', message: 'Missing tenant context' },\n        { status: 401 }\n      );\n    }\n    await connectToDatabase();\n\n    const { searchParams } = new URL(req.url);\n    const page = Math.max(1, Number(searchParams.get(\"page\")) || 1);\n    const limit = Math.min(100, Number(searchParams.get(\"limit\")) || 20);\n    const type = searchParams.get(\"type\");\n    const status = searchParams.get(\"status\");\n    const propertyId",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 132,
        "end": 158,
        "startLoc": {
          "line": 132,
          "column": 5,
          "position": 1453
        },
        "endLoc": {
          "line": 158,
          "column": 11,
          "position": 1791
        }
      },
      "secondFile": {
        "name": "app/api/assets/route.ts",
        "start": 82,
        "end": 137,
        "startLoc": {
          "line": 82,
          "column": 5,
          "position": 885
        },
        "endLoc": {
          "line": 137,
          "column": 7,
          "position": 1451
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ");\n    const search = searchParams.get(\"search\");\n\n    const match: Record<string, unknown> = { tenantId: user.orgId };\n\n    if (type) match.type = type;\n    if (status) match.status = status;\n    if (propertyId",
      "tokens": 0,
      "firstFile": {
        "name": "app/api/assets/route.ts",
        "start": 158,
        "end": 165,
        "startLoc": {
          "line": 158,
          "column": 13,
          "position": 1800
        },
        "endLoc": {
          "line": 165,
          "column": 11,
          "position": 1884
        }
      },
      "secondFile": {
        "name": "app/api/vendors/route.ts",
        "start": 136,
        "end": 143,
        "startLoc": {
          "line": 136,
          "column": 9,
          "position": 1445
        },
        "endLoc": {
          "line": 143,
          "column": 7,
          "position": 1529
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "render(<SupportTicketPage />);\n    fillRequiredFields();\n\n    const submit = screen.getByRole('button', { name: /submit ticket/i });\n    await userEvent.click(submit);\n\n    await waitFor(() => {\n      expect(global.fetch).toHaveBeenCalled",
      "tokens": 0,
      "firstFile": {
        "name": "app/test/help_support_ticket_page.test.tsx",
        "start": 205,
        "end": 212,
        "startLoc": {
          "line": 205,
          "column": 5,
          "position": 1952
        },
        "endLoc": {
          "line": 212,
          "column": 17,
          "position": 2025
        }
      },
      "secondFile": {
        "name": "app/test/help_support_ticket_page.test.tsx",
        "start": 185,
        "end": 192,
        "startLoc": {
          "line": 185,
          "column": 5,
          "position": 1717
        },
        "endLoc": {
          "line": 192,
          "column": 22,
          "position": 1790
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ", async () => {\n    const Page = requireAIChat()\n    render(<Page />)\n    const input = screen.getByPlaceholderText(/Ask me anything about Fixzit/i) as HTMLInputElement\n    const sendBtn = screen.getByRole('button')\n\n    fireEvent.change(input, { target: { value: '   '",
      "tokens": 0,
      "firstFile": {
        "name": "app/test/help_ai_chat_page.test.tsx",
        "start": 144,
        "end": 150,
        "startLoc": {
          "line": 144,
          "column": 45,
          "position": 1161
        },
        "endLoc": {
          "line": 150,
          "column": 6,
          "position": 1243
        }
      },
      "secondFile": {
        "name": "app/test/help_ai_chat_page.test.tsx",
        "start": 98,
        "end": 105,
        "startLoc": {
          "line": 98,
          "column": 70,
          "position": 736
        },
        "endLoc": {
          "line": 105,
          "column": 18,
          "position": 819
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "}\n    expect(coll.find).toHaveBeenCalledWith(expectedFilter, {\n      projection: { slug: 1, title: 1, category: 1, updatedAt: 1 }\n    })\n    expect(cursor.sort).toHaveBeenCalledWith({ updatedAt: -1 })\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "app/test/api_help_articles_route.test.ts",
        "start": 233,
        "end": 238,
        "startLoc": {
          "line": 233,
          "column": 2,
          "position": 2359
        },
        "endLoc": {
          "line": 238,
          "column": 2,
          "position": 2433
        }
      },
      "secondFile": {
        "name": "app/test/api_help_articles_route.test.ts",
        "start": 191,
        "end": 196,
        "startLoc": {
          "line": 191,
          "column": 2,
          "position": 1742
        },
        "endLoc": {
          "line": 196,
          "column": 7,
          "position": 1816
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ".length > 0) {\n      await fetch('/api/notifications/bulk', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-user': JSON.stringify({\n            id: \"u-admin-1\",\n            role: \"FM_MANAGER\",\n            tenantId: \"t-001\"\n          })\n        },\n        body: JSON.stringify({\n          action: 'mark-read',\n          notificationIds: selectedIds",
      "tokens": 0,
      "firstFile": {
        "name": "app/notifications/page.tsx",
        "start": 181,
        "end": 194,
        "startLoc": {
          "line": 181,
          "column": 12,
          "position": 1791
        },
        "endLoc": {
          "line": 194,
          "column": 12,
          "position": 1890
        }
      },
      "secondFile": {
        "name": "app/notifications/page.tsx",
        "start": 158,
        "end": 171,
        "startLoc": {
          "line": 158,
          "column": 10,
          "position": 1628
        },
        "endLoc": {
          "line": 171,
          "column": 10,
          "position": 1727
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };",
      "tokens": 0,
      "firstFile": {
        "name": "app/notifications/page.tsx",
        "start": 305,
        "end": 310,
        "startLoc": {
          "line": 305,
          "column": 22,
          "position": 2985
        },
        "endLoc": {
          "line": 310,
          "column": 2,
          "position": 3048
        }
      },
      "secondFile": {
        "name": "app/notifications/page.tsx",
        "start": 247,
        "end": 253,
        "startLoc": {
          "line": 247,
          "column": 23,
          "position": 2400
        },
        "endLoc": {
          "line": 253,
          "column": 2,
          "position": 2465
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</button>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Notifications",
      "tokens": 0,
      "firstFile": {
        "name": "app/notifications/page.tsx",
        "start": 343,
        "end": 352,
        "startLoc": {
          "line": 343,
          "column": 11,
          "position": 3319
        },
        "endLoc": {
          "line": 352,
          "column": 14,
          "position": 3389
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 61,
        "end": 68,
        "startLoc": {
          "line": 61,
          "column": 9,
          "position": 471
        },
        "endLoc": {
          "line": 68,
          "column": 10,
          "position": 516
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            </div>\n            <div className=\"text-red-400\"></div>\n          </div>\n        </div>\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">High",
      "tokens": 0,
      "firstFile": {
        "name": "app/notifications/page.tsx",
        "start": 362,
        "end": 370,
        "startLoc": {
          "line": 362,
          "column": 2,
          "position": 3498
        },
        "endLoc": {
          "line": 370,
          "column": 5,
          "position": 3569
        }
      },
      "secondFile": {
        "name": "app/work-orders/pm/page.tsx",
        "start": 89,
        "end": 97,
        "startLoc": {
          "line": 89,
          "column": 2,
          "position": 733
        },
        "endLoc": {
          "line": 97,
          "column": 10,
          "position": 804
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": ";\n}\n\ninterface Product {\n  _id: string;\n  slug: string;\n  title: { en: string };\n  media?: Array<{ url: string; alt?: string }>;\n  buy: {\n    price: number;\n    currency: string;\n    uom: string;\n  };\n  stock?: {\n    onHand: number;\n    reserved: number;\n  };\n}\n\nasync",
      "tokens": 0,
      "firstFile": {
        "name": "app/marketplace/page.tsx",
        "start": 8,
        "end": 27,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 57
        },
        "endLoc": {
          "line": 27,
          "column": 6,
          "position": 180
        }
      },
      "secondFile": {
        "name": "app/marketplace/search/page.tsx",
        "start": 8,
        "end": 27,
        "startLoc": {
          "line": 8,
          "column": 3,
          "position": 71
        },
        "endLoc": {
          "line": 27,
          "column": 10,
          "position": 194
        }
      }
    },
    {
      "format": "javascript",
      "lines": 41,
      "fragment": "(e.target.value)}\n                          className={`${isRTL ? 'pr-10 text-right' : 'pl-10'} h-12`}\n                          required\n                        />\n                      </div>\n                      <p className=\"mt-2 text-xs text-gray-500\">\n                        {t('login.corporateHelp', 'Use your employee number and password. No separate corporate ID needed.')}\n                      </p>\n                    </div>\n\n                    {/* Password Field */}\n                    <div>\n                      <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        {t('common.password', 'Password')}\n                      </label>\n                      <div className=\"relative\">\n                        <Lock className={`absolute ${isRTL ? 'right-3' : 'left-3'} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`} />\n                        <Input\n                          id=\"password\"\n                          type={showPassword ? 'text' : 'password'}\n                          placeholder={t('login.enterPassword', 'Enter your password')}\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          className={`${isRTL ? 'pr-10 pl-10 text-right' : 'pl-10 pr-10'} h-12`}\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowPassword(!showPassword)}\n                          className={`absolute ${isRTL ? 'left-3' : 'right-3'} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600`}\n                          aria-label={showPassword ? t('login.hidePassword', 'Hide password') : t('login.showPassword', 'Show password')}\n                        >\n                          {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n\n                {/* Forgot Password */}\n                <div className={`flex ",
      "tokens": 0,
      "firstFile": {
        "name": "app/login/page.tsx",
        "start": 321,
        "end": 361,
        "startLoc": {
          "line": 321,
          "column": 18,
          "position": 2812
        },
        "endLoc": {
          "line": 361,
          "column": 7,
          "position": 3175
        }
      },
      "secondFile": {
        "name": "app/login/page.tsx",
        "start": 270,
        "end": 315,
        "startLoc": {
          "line": 270,
          "column": 9,
          "position": 2346
        },
        "endLoc": {
          "line": 315,
          "column": 11,
          "position": 2752
        }
      }
    },
    {
      "format": "javascript",
      "lines": 18,
      "fragment": "${isRTL ? 'text-right' : 'text-left'}`}>\n                <h3 className=\"text-sm font-medium text-blue-800 mb-3\">{t('login.corporateAccountEmployee', 'Corporate Account (Employee Number):')}</h3>\n                <div className=\"space-y-2\">\n                  {CORPORATE_CREDENTIALS.map((cred) => {\n                    const Icon = cred.icon;\n                    return (\n                      <button\n                        key={cred.role}\n                        onClick={() => quickLogin(cred)}\n                        className={`w-full p-3 rounded-lg border transition-colors hover:shadow-md ${cred.color}`}\n                      >\n                        <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\n                          <Icon size={18} />\n                          <div className=\"flex-1\">\n                            <div className=\"font-medium text-sm\">{cred.role}</div>\n                            <div className=\"text-xs opacity-80\">{cred.description}</div>\n                          </div>\n                          <ArrowRight size={16} className={isRTL ? 'rotate-180' : ''}",
      "tokens": 0,
      "firstFile": {
        "name": "app/login/page.tsx",
        "start": 464,
        "end": 481,
        "startLoc": {
          "line": 464,
          "column": 51,
          "position": 4156
        },
        "endLoc": {
          "line": 481,
          "column": 2,
          "position": 4384
        }
      },
      "secondFile": {
        "name": "app/login/page.tsx",
        "start": 435,
        "end": 452,
        "startLoc": {
          "line": 435,
          "column": 28,
          "position": 3850
        },
        "endLoc": {
          "line": 452,
          "column": 2,
          "position": 4078
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ">\n        <div className=\"max-w-md text-center\">\n          <div className=\"mb-8\">\n            <div className=\"flex justify-center mb-6\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <div className=\"w-20 h-20 bg-[#0061A8] rounded-xl flex items-center justify-center text-white font-bold text-2xl\">\n                  F\n                </div>\n              </div>\n            </div>\n            <h1 className=\"text-4xl font-bold mb-4\">{",
      "tokens": 0,
      "firstFile": {
        "name": "app/login/page.tsx",
        "start": 149,
        "end": 159,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 1208
        },
        "endLoc": {
          "line": 159,
          "column": 2,
          "position": 1293
        }
      },
      "secondFile": {
        "name": "app/signup/page.tsx",
        "start": 191,
        "end": 201,
        "startLoc": {
          "line": 191,
          "column": 2,
          "position": 1987
        },
        "endLoc": {
          "line": 201,
          "column": 5,
          "position": 2072
        }
      }
    },
    {
      "format": "tsx",
      "lines": 33,
      "fragment": ">\n                    </div>\n\n                    {/* Password Field */}\n                    <div>\n                      <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        {t('common.password', 'Password')}\n                      </label>\n                      <div className=\"relative\">\n                        <Lock className={`absolute ${isRTL ? 'right-3' : 'left-3'} top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400`} />\n                        <Input\n                          id=\"password\"\n                          type={showPassword ? 'text' : 'password'}\n                          placeholder={t('login.enterPassword', 'Enter your password')}\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          className={`${isRTL ? 'pr-10 pl-10 text-right' : 'pl-10 pr-10'} h-12`}\n                          required\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowPassword(!showPassword)}\n                          className={`absolute ${isRTL ? 'left-3' : 'right-3'} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600`}\n                          aria-label={showPassword ? t('login.hidePassword', 'Hide password') : t('login.showPassword', 'Show password')}\n                        >\n                          {showPassword ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n\n                {/* Forgot Password */",
      "tokens": 0,
      "firstFile": {
        "name": "app/login/page.tsx",
        "start": 328,
        "end": 360,
        "startLoc": {
          "line": 328,
          "column": 2,
          "position": 2872
        },
        "endLoc": {
          "line": 360,
          "column": 22,
          "position": 3165
        }
      },
      "secondFile": {
        "name": "app/login/page.tsx",
        "start": 274,
        "end": 306,
        "startLoc": {
          "line": 274,
          "column": 4,
          "position": 2379
        },
        "endLoc": {
          "line": 306,
          "column": 30,
          "position": 2672
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ".map((cred) => {\n                    const Icon = cred.icon;\n                    return (\n                      <button\n                        key={cred.role}\n                        onClick={() => quickLogin(cred)}\n                        className={`w-full p-3 rounded-lg border transition-colors hover:shadow-md ${cred.color}`}\n                      >\n                        <div className={`flex items-center gap-3 ${isRTL ? 'flex-row-reverse' : ''}`}>\n                          <Icon size={18} />\n                          <div className=\"flex-1\">\n                            <div className=\"font-medium text-sm\">{cred.role}</div>\n                            <div className=\"text-xs opacity-80\">{cred.description}</div>\n                          </div>\n                          <ArrowRight size={16} className={isRTL ? 'rotate-180' : ''} />\n                        </div>\n                        <div className=\"text-xs mt-1 opacity-75\">\n                          {t",
      "tokens": 0,
      "firstFile": {
        "name": "app/login/page.tsx",
        "start": 467,
        "end": 484,
        "startLoc": {
          "line": 467,
          "column": 22,
          "position": 4207
        },
        "endLoc": {
          "line": 484,
          "column": 2,
          "position": 4406
        }
      },
      "secondFile": {
        "name": "app/login/page.tsx",
        "start": 438,
        "end": 455,
        "startLoc": {
          "line": 438,
          "column": 17,
          "position": 3901
        },
        "endLoc": {
          "line": 455,
          "column": 5,
          "position": 4100
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ";\nimport { Card, CardContent} from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport {\n  Search, Download, Eye, Edit, Trash2,\n  Star",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 5,
        "end": 14,
        "startLoc": {
          "line": 5,
          "column": 28,
          "position": 53
        },
        "endLoc": {
          "line": 14,
          "column": 5,
          "position": 177
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 4,
        "end": 13,
        "startLoc": {
          "line": 4,
          "column": 32,
          "position": 31
        },
        "endLoc": {
          "line": 13,
          "column": 13,
          "position": 155
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ")}</p>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"mb-6 flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <Input\n                  ",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 242,
        "end": 251,
        "startLoc": {
          "line": 242,
          "column": 60,
          "position": 2064
        },
        "endLoc": {
          "line": 251,
          "column": 19,
          "position": 2129
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 138,
        "end": 147,
        "startLoc": {
          "line": 138,
          "column": 44,
          "position": 1202
        },
        "endLoc": {
          "line": 147,
          "column": 15,
          "position": 1267
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "/>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Select value={statusFilter} onValueChange={handleStatusFilterChange}>\n            <SelectTrigger className=\"w-40\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">{t('common.all', 'All Status')}</SelectItem>\n              <SelectItem value=\"active",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 255,
        "end": 265,
        "startLoc": {
          "line": 255,
          "column": 17,
          "position": 2173
        },
        "endLoc": {
          "line": 265,
          "column": 7,
          "position": 2270
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 151,
        "end": 161,
        "startLoc": {
          "line": 151,
          "column": 13,
          "position": 1311
        },
        "endLoc": {
          "line": 161,
          "column": 6,
          "position": 1408
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n          <Button variant=\"outline\" size=\"sm\">\n            <Download className=\"h-4 w-4 mr-2\" />\n            {t('common.export', 'Export')}\n          </Button>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs defaultValue=\"catalog",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 279,
        "end": 288,
        "startLoc": {
          "line": 279,
          "column": 7,
          "position": 2416
        },
        "endLoc": {
          "line": 288,
          "column": 8,
          "position": 2486
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 167,
        "end": 176,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 1524
        },
        "endLoc": {
          "line": 176,
          "column": 16,
          "position": 1594
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ") => (\n              <Card key={vendor.id} className=\"hover:shadow-md transition-shadow\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{vendor",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 334,
        "end": 340,
        "startLoc": {
          "line": 334,
          "column": 7,
          "position": 3120
        },
        "endLoc": {
          "line": 340,
          "column": 7,
          "position": 3200
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 191,
        "end": 198,
        "startLoc": {
          "line": 191,
          "column": 6,
          "position": 1746
        },
        "endLoc": {
          "line": 198,
          "column": 2,
          "position": 1828
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": "}\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            {t('common.view', 'View')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4 mr-2\" />\n                            {t('common.edit', 'Edit')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            {t('common.delete', 'Delete')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n\n        {/* RFQs & Bids Tab */",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 383,
        "end": 408,
        "startLoc": {
          "line": 383,
          "column": 13,
          "position": 3614
        },
        "endLoc": {
          "line": 408,
          "column": 22,
          "position": 3821
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 237,
        "end": 262,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 2246
        },
        "endLoc": {
          "line": 262,
          "column": 25,
          "position": 2453
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ") => (\n              <Card key={rfq.id} className=\"hover:shadow-md transition-shadow\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{rfq",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 411,
        "end": 417,
        "startLoc": {
          "line": 411,
          "column": 4,
          "position": 3860
        },
        "endLoc": {
          "line": 417,
          "column": 4,
          "position": 3940
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 191,
        "end": 198,
        "startLoc": {
          "line": 191,
          "column": 6,
          "position": 1746
        },
        "endLoc": {
          "line": 198,
          "column": 2,
          "position": 1828
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": "}\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            {t('common.view', 'View')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4 mr-2\" />\n                            {t('common.edit', 'Edit')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            {t('common.delete', 'Delete')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n\n        {/* Orders & POs Tab */",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 443,
        "end": 468,
        "startLoc": {
          "line": 443,
          "column": 3,
          "position": 4234
        },
        "endLoc": {
          "line": 468,
          "column": 23,
          "position": 4441
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 237,
        "end": 262,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 2246
        },
        "endLoc": {
          "line": 262,
          "column": 25,
          "position": 2453
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ".map((order) => (\n              <Card key={order.id} className=\"hover:shadow-md transition-shadow\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{t('order.po'",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 471,
        "end": 477,
        "startLoc": {
          "line": 471,
          "column": 15,
          "position": 4475
        },
        "endLoc": {
          "line": 477,
          "column": 11,
          "position": 4562
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 191,
        "end": 198,
        "startLoc": {
          "line": 191,
          "column": 23,
          "position": 1741
        },
        "endLoc": {
          "line": 198,
          "column": 23,
          "position": 1830
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "}</h3>\n                        <Badge className={getStatusColor(order.status)}>\n                          {order.status}\n                        </Badge>\n                      </div>\n\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                          <span className=\"font-medium\">{t('order.vendor'",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 477,
        "end": 485,
        "startLoc": {
          "line": 477,
          "column": 3,
          "position": 4573
        },
        "endLoc": {
          "line": 485,
          "column": 15,
          "position": 4647
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 272,
        "end": 281,
        "startLoc": {
          "line": 272,
          "column": 12,
          "position": 2587
        },
        "endLoc": {
          "line": 281,
          "column": 17,
          "position": 2663
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ", 'Items')}:</h4>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {order.items.map((item) => (\n                            <Badge key={item} variant=\"outline\">\n                              {item}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                          <Calendar",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 499,
        "end": 511,
        "startLoc": {
          "line": 499,
          "column": 14,
          "position": 4804
        },
        "endLoc": {
          "line": 511,
          "column": 9,
          "position": 4908
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 224,
        "end": 236,
        "startLoc": {
          "line": 224,
          "column": 15,
          "position": 2107
        },
        "endLoc": {
          "line": 236,
          "column": 6,
          "position": 2211
        }
      }
    },
    {
      "format": "tsx",
      "lines": 27,
      "fragment": ", 'Delivery')}: {new Date(order.deliveryDate).toLocaleDateString()}\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            {t('common.view', 'View')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\">\n                            <Edit className=\"h-4 w-4 mr-2\" />\n                            {t('common.edit', 'Edit')}\n                          </Button>\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-red-600 hover:text-red-700\">\n                            <Trash2 className=\"h-4 w-4 mr-2\" />\n                            {t('common.delete', 'Delete')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n      </Tabs>\n\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "app/fm/page.tsx",
        "start": 512,
        "end": 538,
        "startLoc": {
          "line": 512,
          "column": 17,
          "position": 4923
        },
        "endLoc": {
          "line": 538,
          "column": 2,
          "position": 5154
        }
      },
      "secondFile": {
        "name": "app/fm/orders/page.tsx",
        "start": 237,
        "end": 327,
        "startLoc": {
          "line": 237,
          "column": 18,
          "position": 2226
        },
        "endLoc": {
          "line": 327,
          "column": 3,
          "position": 3108
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": " placeholder={t('finance.qty', 'Qty')} value={l.qty} onChange={e=>updateLine(i,\"qty\",e.target.value)} />\n                </div>\n                <div className=\"col-span-2\">\n                  <Input type=\"number\" placeholder={t('finance.unitPrice', 'Unit Price')} value={l.unitPrice} onChange={e=>updateLine(i,\"unitPrice\",e.target.value)} />\n                </div>\n                <div className=\"col-span-2\">\n                  <Input type=\"number\" placeholder={t('finance.vatPercent', 'VAT %')} value={l.vatRate} onChange={e=>updateLine(i,\"vatRate\",e.target.value)} />\n                </div>\n                <div className=\"col-span-1 text-right text-sm",
      "tokens": 0,
      "firstFile": {
        "name": "app/finance/page.tsx",
        "start": 133,
        "end": 141,
        "startLoc": {
          "line": 133,
          "column": 2,
          "position": 1872
        },
        "endLoc": {
          "line": 141,
          "column": 30,
          "position": 2060
        }
      },
      "secondFile": {
        "name": "app/finance/page.tsx",
        "start": 130,
        "end": 138,
        "startLoc": {
          "line": 130,
          "column": 6,
          "position": 1805
        },
        "endLoc": {
          "line": 138,
          "column": 11,
          "position": 1993
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ")}</h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium\">INV",
      "tokens": 0,
      "firstFile": {
        "name": "app/dashboard/page.tsx",
        "start": 71,
        "end": 78,
        "startLoc": {
          "line": 71,
          "column": 22,
          "position": 794
        },
        "endLoc": {
          "line": 78,
          "column": 4,
          "position": 881
        }
      },
      "secondFile": {
        "name": "app/dashboard/page.tsx",
        "start": 49,
        "end": 56,
        "startLoc": {
          "line": 49,
          "column": 21,
          "position": 543
        },
        "endLoc": {
          "line": 56,
          "column": 3,
          "position": 630
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "\">\n                        {feature.title}\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        {feature.description}\n                      </p>\n                    </div>\n                  </div>\n                </Link>\n              );\n            })}\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "app/aqar/page.tsx",
        "start": 107,
        "end": 123,
        "startLoc": {
          "line": 107,
          "column": 68,
          "position": 705
        },
        "endLoc": {
          "line": 123,
          "column": 2,
          "position": 791
        }
      },
      "secondFile": {
        "name": "app/souq/page.tsx",
        "start": 95,
        "end": 111,
        "startLoc": {
          "line": 95,
          "column": 68,
          "position": 631
        },
        "endLoc": {
          "line": 111,
          "column": 2,
          "position": 717
        }
      }
    }
  ]
}