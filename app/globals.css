@tailwind base;
@tailwind components;
@tailwind utilities;

/* Brown Apple-inspired theme using HSL variables only. */

@layer base {
  :root {
    /* Light mode */
    --background: 0 0% 100%;
    --foreground: 24 15% 20%; /* brownish dark text */

    --card: 0 0% 100%;
    --card-foreground: 24 15% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 24 15% 20%;

    /* Primary BROWN accent */
    --primary: 30 60% 40%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 96%;
    --secondary-foreground: 24 15% 20%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;

    --accent: 30 60% 40%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 30 60% 40%;

    /* Extra Apple-style tokens (brown-biased) */
    --apple-blue: 30 60% 40%;
    --apple-orange: 25 95% 50%;
    --apple-gray: 0 0% 96%;
    --apple-dark: 24 25% 20%;
    --apple-mid-gray: 0 0% 60%;
    --apple-light-gray: 0 0% 98%;

    /* Subtle gradients and shadows */
    --hero-gradient: linear-gradient(180deg, hsl(30 60% 96%), hsl(30 30% 90%));
    --card-shadow: 0 2px 8px hsl(0 0% 0% / 0.06);
    --card-shadow-lg: 0 4px 16px hsl(0 0% 0% / 0.1);

    /* Section backgrounds */
    --section-bg: 0 0% 100%;
    --section-alt: 0 0% 98%;

    --radius: 0.75rem;

    /* Sidebar tokens (light) */
    --sidebar-background: 30 20% 96%;
    --sidebar-foreground: 24 15% 20%;
    --sidebar-primary: 30 60% 40%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 100%;
    --sidebar-accent-foreground: 24 15% 20%;
    --sidebar-border: 0 0% 88%;
    --sidebar-ring: 30 60% 40%;

    /* Legacy alias tokens mapped to the new palette */
    --fixzit-primary: hsl(var(--primary));
    --fixzit-primary-dark: hsl(30 60% 32%);
    --fixzit-primary-darker: hsl(26 50% 26%);
    --fixzit-primary-darkest: hsl(22 40% 20%);
    --fixzit-primary-light: hsl(30 60% 58%);
    --fixzit-primary-lighter: hsl(30 55% 72%);
    --fixzit-primary-lightest: hsl(30 50% 90%);
    --fixzit-secondary: hsl(var(--secondary));
    --fixzit-secondary-dark: hsl(24 10% 70%);
    --fixzit-secondary-darker: hsl(24 10% 60%);
    --fixzit-secondary-lighter: hsl(0 0% 98%);
    --fixzit-secondary-lightest: hsl(0 0% 100%);
    --fixzit-success: hsl(var(--accent));
    --fixzit-success-dark: hsl(30 55% 32%);
    --fixzit-success-darker: hsl(26 48% 26%);
    --fixzit-success-darkest: hsl(22 40% 20%);
    --fixzit-success-light: hsl(30 60% 60%);
    --fixzit-success-lighter: hsl(30 55% 74%);
    --fixzit-success-lightest: hsl(30 50% 92%);
    --fixzit-danger: hsl(var(--destructive));
    --fixzit-danger-dark: hsl(0 70% 45%);
    --fixzit-danger-darker: hsl(0 65% 38%);
    --fixzit-danger-darkest: hsl(0 55% 30%);
    --fixzit-danger-light: hsl(0 75% 70%);
    --fixzit-danger-lighter: hsl(0 75% 82%);
    --fixzit-danger-lightest: hsl(0 75% 92%);
    --fixzit-accent: hsl(var(--accent));
    --fixzit-accent-dark: hsl(30 55% 32%);
    --fixzit-accent-darker: hsl(26 48% 26%);
    --fixzit-accent-light: hsl(30 60% 58%);
    --fixzit-accent-lighter: hsl(30 55% 72%);
    --fixzit-accent-lightest: hsl(30 50% 90%);
    --fixzit-indigo: hsl(var(--primary));
    --fixzit-indigo-dark: hsl(30 60% 30%);
  }

  .dark {
    /* Dark mode */
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;

    --card: 222 84% 5%;
    --card-foreground: 210 40% 98%;

    --popover: 222 84% 5%;
    --popover-foreground: 210 40% 98%;

    /* Slightly lighter brown in dark mode so it pops */
    --primary: 30 60% 60%;
    --primary-foreground: 222 47% 11%;

    --secondary: 217 33% 18%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;

    --accent: 217 33% 18%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 30 60% 60%;

    /* Sidebar dark */
    --sidebar-background: 240 6% 10%;
    --sidebar-foreground: 240 5% 96%;
    --sidebar-primary: 30 60% 50%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 4% 16%;
    --sidebar-accent-foreground: 240 5% 96%;
    --sidebar-border: 240 4% 16%;
    --sidebar-ring: 30 60% 60%;

    /* Legacy alias tokens mapped for dark mode */
    --fixzit-primary: hsl(var(--primary));
    --fixzit-primary-dark: hsl(30 60% 50%);
    --fixzit-primary-darker: hsl(30 55% 45%);
    --fixzit-primary-darkest: hsl(26 45% 35%);
    --fixzit-primary-light: hsl(30 70% 68%);
    --fixzit-primary-lighter: hsl(30 70% 78%);
    --fixzit-primary-lightest: hsl(30 75% 86%);
    --fixzit-secondary: hsl(var(--secondary));
    --fixzit-secondary-dark: hsl(217 33% 28%);
    --fixzit-secondary-darker: hsl(217 33% 24%);
    --fixzit-secondary-lighter: hsl(217 33% 34%);
    --fixzit-secondary-lightest: hsl(217 33% 40%);
    --fixzit-success: hsl(var(--accent));
    --fixzit-success-dark: hsl(30 55% 48%);
    --fixzit-success-darker: hsl(30 50% 42%);
    --fixzit-success-darkest: hsl(26 45% 34%);
    --fixzit-success-light: hsl(30 70% 66%);
    --fixzit-success-lighter: hsl(30 70% 74%);
    --fixzit-success-lightest: hsl(30 75% 84%);
    --fixzit-danger: hsl(var(--destructive));
    --fixzit-danger-dark: hsl(0 63% 38%);
    --fixzit-danger-darker: hsl(0 55% 33%);
    --fixzit-danger-darkest: hsl(0 45% 28%);
    --fixzit-danger-light: hsl(0 70% 55%);
    --fixzit-danger-lighter: hsl(0 70% 65%);
    --fixzit-danger-lightest: hsl(0 70% 78%);
    --fixzit-accent: hsl(var(--accent));
    --fixzit-accent-dark: hsl(30 55% 46%);
    --fixzit-accent-darker: hsl(26 50% 40%);
    --fixzit-accent-light: hsl(30 75% 70%);
    --fixzit-accent-lighter: hsl(30 75% 78%);
    --fixzit-accent-lightest: hsl(30 80% 86%);
    --fixzit-indigo: hsl(var(--primary));
    --fixzit-indigo-dark: hsl(30 60% 42%);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "SF Pro Text",
      "Helvetica Neue",
      sans-serif;
  }
}

/* Shell-specific utility classes for Fixzit */

@layer components {
  .fxz-topbar {
    background-color: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border-bottom: 1px solid hsl(var(--border));
    box-shadow: var(--card-shadow);
  }

  .fxz-topbar-logo {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  .fxz-topbar-pill {
    background-color: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
    border-radius: 9999px;
    border: 1px solid hsl(var(--border));
  }

  .fxz-btn-primary {
    background-color: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    border-radius: 9999px;
    border: 1px solid hsl(var(--primary));
    box-shadow: var(--card-shadow);
  }

  .fxz-btn-primary:hover {
    filter: brightness(1.05);
  }

  .fxz-btn-outline {
    background-color: hsl(var(--card));
    color: hsl(var(--primary));
    border-radius: 9999px;
    border: 1px solid hsl(var(--border));
  }

  .fxz-btn-outline:hover {
    background-color: hsl(var(--secondary));
  }

  .fxz-sidebar {
    background-color: hsl(var(--sidebar-background));
    color: hsl(var(--sidebar-foreground));
    border-right: 1px solid hsl(var(--sidebar-border));
  }

  .fxz-sidebar-title {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: hsl(0 0% 55%);
  }

  .fxz-sidebar-item {
    border-radius: 0.75rem;
    padding: 0.5rem 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    color: hsl(var(--sidebar-foreground));
    text-decoration: none;
  }

  .fxz-sidebar-item:hover {
    background-color: hsl(var(--sidebar-accent));
  }

  .fxz-sidebar-item-active {
    background-color: hsl(var(--sidebar-primary));
    color: hsl(var(--sidebar-primary-foreground));
    box-shadow: 0 0 0 1px hsl(var(--sidebar-ring));
  }

  .fxz-card {
    background-color: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border-radius: var(--radius);
    border: 1px solid hsl(var(--border));
    box-shadow: var(--card-shadow);
  }

  .fxz-footer {
    background-color: hsl(var(--card));
    color: hsl(var(--muted-foreground));
    border-top: 1px solid hsl(var(--border));
  }

  .fxz-hero {
    background: var(--hero-gradient);
    border-bottom: 1px solid hsl(var(--border));
  }
}

/* ============================================
   Custom Cursor Styles
   ============================================ */

/* Cursor brand colors (actual Fixzit brand, not theme tokens) */
:root {
  --cursor-primary: #0061A8;    /* Fixzit primary blue */
  --cursor-secondary: #00A859;  /* Marketplace green */
  --cursor-accent: #FFB400;     /* Gold accent */
  --cursor-glow: #36aff8;       /* Light blue glow */
}

/* Hide native cursor when custom cursor is active */
body.custom-cursor-active {
  cursor: none;
}

body.custom-cursor-active * {
  cursor: none !important;
}

/* Base styles for custom cursor elements */
.custom-cursor-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 99999;
}

.cursor-dot {
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  pointer-events: none;
  /* Default transform will be overridden by JS, but ensure centering if needed */
  transform: translate(-50%, -50%);
  transition: transform 0.1s ease-out;
  will-change: transform;
}

.cursor-main {
  width: 10px;
  height: 10px;
  background-color: var(--cursor-primary);
  /* Smooth transition for hover pop effect */
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, width 0.2s ease-out, height 0.2s ease-out;
}

.cursor-trail {
  width: 6px;
  height: 6px;
  /* Default color (overridden per-dot via inline style) */
  background-color: var(--cursor-primary);
}

/* Glow expansion on hoverable elements */
.cursor-main.cursor--hover {
  width: 16px;
  height: 16px;
  box-shadow: 0 0 12px var(--cursor-glow), 0 0 24px rgba(54, 175, 248, 0.5);
}

/* ============================================
   Tooltip Styles
   ============================================ */

.tooltip-content {
  max-width: 240px;
  padding: 8px 12px;
  font-size: 0.8125rem;
  line-height: 1.4;
  color: hsl(var(--foreground));
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  pointer-events: none;
  white-space: normal;
  word-wrap: break-word;
}

/* Dark mode support */
.dark .tooltip-content,
[data-theme='dark'] .tooltip-content {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

/* Tooltip entrance animation */
.tooltip-content {
  animation: tooltipFadeIn 0.15s ease-out;
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, var(--tooltip-translate-y, 0)) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, var(--tooltip-translate-y, 0)) scale(1);
  }
}

/* RTL support for tooltip */
[dir='rtl'] .tooltip-content {
  text-align: right;
}
