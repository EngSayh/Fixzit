# Fixzit Enterprise - Subscription & Billing System

## โ ุชู ุฅููุงู ุงูููุงู ุจูุณุจุฉ 100%

### ๐๏ธ ุงููููุงุช ุงููููุดุฃุฉ/ุงูููุญุฏูุซุฉ:

#### 1. ููุงุฐุฌ ุงูุจูุงูุงุช (MongoDB/Mongoose):
- โ `src/db/mongoose.ts` - ุทุจูุฉ ุงุชุตุงู MongoDB
- โ `src/models/Module.ts` - ูููุฐุฌ ุงููุญุฏุงุช
- โ `src/models/PriceTier.ts` - ุดุฑุงุฆุญ ุงูุชุณุนูุฑ
- โ `src/models/DiscountRule.ts` - ููุงุนุฏ ุงูุฎุตููุงุช
- โ `src/models/Customer.ts` - ุนููุงุก ุงูุงุดุชุฑุงูุงุช
- โ `src/models/PaymentMethod.ts` - ุทุฑู ุงูุฏูุน (PayTabs tokens)
- โ `src/models/Subscription.ts` - ุงูุงุดุชุฑุงูุงุช ูุงูุนูุงุตุฑ
- โ `src/models/SubscriptionInvoice.ts` - ุงูููุงุชูุฑ
- โ `src/models/OwnerGroup.ts` - ูุฌููุนุงุช ุงูููุงู
- โ `src/models/ServiceContract.ts` - ุนููุฏ ุงูุฎุฏูุงุช
- โ `src/models/Benchmark.ts` - ููุงุฑูุงุช ุงูุณูู

#### 2. ูุญุฑู ุงูุชุณุนูุฑ ูุงูุชูุงูู:
- โ `src/lib/pricing.ts` - ูุญุฑู ุงูุชุณุนูุฑ ุงูููุญุฏ
- โ `src/lib/paytabs.ts` - ุชูุงูู PayTabs ุงููุญุณู

#### 3. ููุงุท API (Next.js App Router):
- โ `/api/billing/quote` - ุนุฑุถ ุชุณุนูุฑ ููุฑู
- โ `/api/billing/subscribe` - ุฅูุดุงุก ุงุดุชุฑุงู ุฐุงุชู
- โ `/api/billing/callback/paytabs` - ูุนุงูุฌุฉ ุฑุฏ PayTabs
- โ `/api/billing/charge-recurring` - ููุชุฑุฉ ุดูุฑูุฉ ุขููุฉ
- โ `/api/admin/price-tiers` - ุฅุฏุงุฑุฉ ุดุฑุงุฆุญ ุงูุฃุณุนุงุฑ
- โ `/api/admin/discounts` - ุฅุฏุงุฑุฉ ุงูุฎุตููุงุช
- โ `/api/admin/benchmarks` - ุฅุฏุงุฑุฉ ููุงุฑูุงุช ุงูุณูู
- โ `/api/contracts` - ุฅูุดุงุก ุนููุฏ ุงูุฎุฏูุงุช
- โ `/api/owners/groups/assign-primary` - ุชุนููู ูุฌููุนุงุช ุงูููุงู
- โ `/api/benchmarks/compare` - ููุงุฑูุฉ ูุน ุงูุณูู

#### 4. ุณูุฑุจุช Seed:
- โ `scripts/seed_subscriptions.ts` - ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูุงููุฉ

#### 5. ุงูุชุญุณููุงุช ุนูู ุงููุงุฌูุฉ:
- โ `src/components/Sidebar.tsx` - ุฅุตูุงุญ ุชุจุงูู ุงูุดุฑูุท ุงูุฌุงูุจู
- โ `app/careers/page.tsx` - ุชุญุณูู ุดุจูุฉ ุจุทุงูุงุช ุงููุธุงุฆู
- โ ุฅุถุงูุฉ ุดุนุงุฑ ุงูุดุฑูุฉ ูATS ูููุธุงุฆู

## ๐ ุงูุชุดุบูู:

### 1. ูุชุทูุจุงุช ุงูุจูุฆุฉ (.env.local):
```bash
# MongoDB
MONGODB_URI=mongodb://localhost:27017/fixzit
MONGODB_DB=fixzit

# PayTabs
PAYTABS_PROFILE_ID=your_profile_id
PAYTABS_SERVER_KEY=your_server_key
PAYTABS_RECURRING_BASE=https://secure.paytabs.com
PAYTABS_REGION=KSA

# Cron Security
CRON_SECRET=your_secure_random_string
```

### 2. ุชุดุบูู Seed Script:
```bash
npx tsx scripts/seed_subscriptions.ts
```

### 3. ุชุดุบูู ุงูุฎุงุฏู:
```bash
npm run dev
```

## ๐ฏ ุงูุชุณุนูุฑ (ุจุงูุฏููุงุฑ ุงูุฃูุฑููู):

### ุดุฑุงุฆุญ ุงูููุงุนุฏ (1-200):
- **FM Core**: 1-5=$29, 6-25=$25, 26-50=$22, 51-100=$19, 101-200=$16
- **Properties**: 8/7/6/5/4
- **Finance**: 12/10/9/8/7
- **HR**: 8/7/6/5/4
- **Compliance**: 7/6/5/4/4
- **Reports**: 5/4/4/3/3
- **Marketplace**: $99 ุซุงุจุช/ูุณุชุฃุฌุฑ

### ุฎุตู ุณููู: 15% (ูุงุจู ููุชุนุฏูู ูู Super Admin)

## ๐ง ุงูุชูุงูู ูุน PayTabs:

### 1. Hosted Payment Page:
- `tokenise=2` ูุญูุธ ุงูุจุทุงูุฉ (ุดูุฑู)
- `tran_class: "recurring"` ููููุชุฑุฉ ุงูุดูุฑูุฉ ุงูุขููุฉ
- Webhooks ููุนุงูุฌุฉ ุงููุฌุงุญ/ุงููุดู

### 2. ููุงุทู ูุฏุนููุฉ:
- KSA, UAE, Egypt, Oman, Jordan, Kuwait, Global

## ๐ Benchmark (ููุงุฑูุฉ ูุน ุงูุณูู):

- **UpKeep**: $20-45/ูุณุชุฎุฏู
- **MaintainX**: $25-75/ูุณุชุฎุฏู
- **Limble**: $33-69/ูุณุชุฎุฏู

**ูููุนูุง**: ูุณุท ุงูุณูู ยฑ ูุน ูุฑููุฉ ุชุนุฏูู ุญููููุฉ

## ๐ ุงูุฃูุงู ูุงูุงูุชุซุงู:

- PCI SAQ A (ูุง ูููุณ ุจูุงูุงุช ุงูุจุทุงูุงุช)
- ุญูุธ tokens ููุท (ุบูุฑ PAN)
- ุชุดููุฑ ุฌููุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุชุณุฌูู ุดุงูู ููุนูููุงุช

## ๐ ุงููุชูุฌุฉ:

**โ ุชู ุฅููุงู ุฌููุน ุงูููุงู ุงููุทููุจุฉ ุจูุณุจุฉ 100%:**

1. โ ูุธุงู ุงุดุชุฑุงูุงุช ุฐุงุชู ุงูุฎุฏูุฉ ูุงูู
2. โ ุชูุงูู PayTabs ูุน ุงูููุชุฑุฉ ุงููุชูุฑุฑุฉ
3. โ ูุญุฑู ุชุณุนูุฑ ุจุงูุดุฑุงุฆุญ ุญุชู 200 ููุนุฏ
4. โ ูุญุฏุฉ Benchmark ูุน ููุงุฑูุงุช ุงูุณูู
5. โ ุนููุฏ ุงูุฎุฏูุงุช ููุฌููุนุงุช ุงูููุงู
6. โ ุฅุตูุงุญุงุช ุงููุงุฌูุฉ (ุดุฑูุท ุฌุงูุจู + ูุธุงุฆู)
7. โ ูุง ุชุบููุฑ ูููุงุฌูุงุช ุฃู ุงูู Layout
8. โ ูุชูุงูู ูุน ุงูุญูููุฉ ูุงูุฃุฏูุงุฑ
9. โ ุงุฎุชุจุงุฑุงุช ุฌุงูุฒุฉ ููุชุดุบูู

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู!** ๐ฏ
