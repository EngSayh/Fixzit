{
  "generatedAt": "2025-12-21T13:55:33+03:00",
  "source": "docs/PENDING_MASTER.md",
  "issues": [
    {
      "key": "INFRA-SENTRY",
      "title": "Activate Sentry error tracking",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:561-561",
      "evidenceSnippet": "| 5 | INFRA-SENTRY | Activate Sentry error tracking | Q1 2026 | Needs DSN configuration |",
      "description": "| 5 | INFRA-SENTRY | Activate Sentry error tracking | Q1 2026 | Needs DSN configuration |"
    },
    {
      "key": "FEATURE-001",
      "title": "Real-time SSE notifications",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:557-557",
      "evidenceSnippet": "| 1 | FEATURE-001 | Real-time SSE notifications | Q1 2026 | ADR-001 decision pending |",
      "description": "| 1 | FEATURE-001 | Real-time SSE notifications | Q1 2026 | ADR-001 decision pending |"
    },
    {
      "key": "P3-SOUQ-PRODUCTS",
      "title": "Souq Products migration",
      "category": "test",
      "priority": "P3",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:857-857",
      "evidenceSnippet": "| P3-SOUQ-PRODUCTS | P3 | In Progress | M | Souq Products migration |",
      "description": "| P3-SOUQ-PRODUCTS | P3 | In Progress | M | Souq Products migration |"
    },
    {
      "key": "DOCS-TODO-001",
      "title": "[x] DOCS-TODO-001: Documented 17 TODOs with categories and priorities",
      "category": "documentation",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:96-96",
      "evidenceSnippet": "- [x] DOCS-TODO-001: Documented 17 TODOs with categories and priorities",
      "description": "- [x] DOCS-TODO-001: Documented 17 TODOs with categories and priorities"
    },
    {
      "key": "BLOCKER-001",
      "title": "**BLOCKER-001:** Vercel build failing (webpack \"Module not found\") - Needs investigation",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:1217-1217",
      "evidenceSnippet": "- **BLOCKER-001:** Vercel build failing (webpack \"Module not found\") - Needs investigation",
      "description": "- **BLOCKER-001:** Vercel build failing (webpack \"Module not found\") - Needs investigation"
    },
    {
      "key": "DOC-101",
      "title": "DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:3588-3588",
      "evidenceSnippet": "- DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)",
      "description": "- DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)"
    },
    {
      "key": "DOC-110",
      "title": "DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:3588-3588",
      "evidenceSnippet": "- DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)",
      "description": "- DOC-101 through DOC-110: Documentation gaps (JSDoc, OpenAPI, READMEs)"
    },
    {
      "key": "TEST-001",
      "title": "**Remaining P3:** PERF-002, TEST-001, TEST-005 (in progress)",
      "category": "bug",
      "priority": "P3",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:3774-3774",
      "evidenceSnippet": "- **Remaining P3:** PERF-002, TEST-001, TEST-005 (in progress)",
      "description": "- **Remaining P3:** PERF-002, TEST-001, TEST-005 (in progress)"
    },
    {
      "key": "REF-001",
      "title": "**REF-001** â€” Create CRM route handler unit tests (P2, effort:M, sourceRef:PENDING_MASTER)",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:3271-3271",
      "evidenceSnippet": "- **REF-001** â€” Create CRM route handler unit tests (P2, effort:M, sourceRef:PENDING_MASTER)",
      "description": "- **REF-001** â€” Create CRM route handler unit tests (P2, effort:M, sourceRef:PENDING_MASTER)"
    },
    {
      "key": "TEST-002",
      "title": "TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:4082-4082",
      "evidenceSnippet": "- TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending",
      "description": "- TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending"
    },
    {
      "key": "TEST-003",
      "title": "TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:4082-4082",
      "evidenceSnippet": "- TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending",
      "description": "- TEST-002, TEST-003, REF-001 â€” HR/Finance/CRM test suites pending"
    },
    {
      "key": "DOC-108",
      "title": "**API contract (P2):** DOC-108 (update OpenAPI spec)",
      "category": "documentation",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:4401-4401",
      "evidenceSnippet": "4. **API contract (P2):** DOC-108 (update OpenAPI spec)",
      "description": "4. **API contract (P2):** DOC-108 (update OpenAPI spec)"
    },
    {
      "key": "TEST-004",
      "title": "**Open (7):** SEC-002 (P1), BUG-001 (P1), PERF-001 (P2), TEST-004 (P2), TEST-002 (P2), TEST-003 (P2), PERF-002 (P3)",
      "category": "documentation",
      "priority": "P1",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:4442-4442",
      "evidenceSnippet": "- **Open (7):** SEC-002 (P1), BUG-001 (P1), PERF-001 (P2), TEST-004 (P2), TEST-002 (P2), TEST-003 (P2), PERF-002 (P3)",
      "description": "- **Open (7):** SEC-002 (P1), BUG-001 (P1), PERF-001 (P2), TEST-004 (P2), TEST-002 (P2), TEST-003 (P2), PERF-002 (P3)"
    },
    {
      "key": "TYPE-003",
      "title": "ðŸŸ¡ Medium",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8096-8096",
      "evidenceSnippet": "| TYPE-003 | ðŸŸ¡ Medium | 6 files | `@ts-ignore`/`@ts-expect-error` | Document or fix underlying issues |",
      "description": "| TYPE-003 | ðŸŸ¡ Medium | 6 files | `@ts-ignore`/`@ts-expect-error` | Document or fix underlying issues |"
    },
    {
      "key": "RTL-002",
      "title": "ðŸŸ¡ Medium",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8074-8074",
      "evidenceSnippet": "| RTL-002 | ðŸŸ¡ Medium | Multiple components | Physical `left/right` classes | Audit and replace |",
      "description": "| RTL-002 | ðŸŸ¡ Medium | Multiple components | Physical `left/right` classes | Audit and replace |"
    },
    {
      "key": "RTL-001",
      "title": "ðŸŸ¡ Medium",
      "category": "security",
      "status": "open",
      "location": "error.tsx",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8073-8073",
      "evidenceSnippet": "| RTL-001 | ðŸŸ¡ Medium | 20+ error.tsx files | `mr-2` instead of `me-2` | Replace with logical class |",
      "description": "| RTL-001 | ðŸŸ¡ Medium | 20+ error.tsx files | `mr-2` instead of `me-2` | Replace with logical class |"
    },
    {
      "key": "ERR-003",
      "title": "ðŸŸ¡ Medium",
      "category": "security",
      "status": "open",
      "location": "admin/notifications/test/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8065-8065",
      "evidenceSnippet": "| ERR-003 | ðŸŸ¡ Medium | `admin/notifications/test/route.ts:165` | `.catch(() => ({}))` on error response | Add logging |",
      "description": "| ERR-003 | ðŸŸ¡ Medium | `admin/notifications/test/route.ts:165` | `.catch(() => ({}))` on error response | Add logging |"
    },
    {
      "key": "SEC-004",
      "title": "ðŸŸ¡ Medium",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8043-8043",
      "evidenceSnippet": "| SEC-004 | ðŸŸ¡ Medium | Multiple routes | 147 RBAC checks vs 371 routes = 39% coverage | Add RBAC to remaining routes |",
      "description": "| SEC-004 | ðŸŸ¡ Medium | Multiple routes | 147 RBAC checks vs 371 routes = 39% coverage | Add RBAC to remaining routes |"
    },
    {
      "key": "TEN-004",
      "title": "ðŸŸ¡ Medium",
      "category": "next_step",
      "status": "open",
      "location": "lib/ats/rbac.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8021-8021",
      "evidenceSnippet": "| TEN-004 | ðŸŸ¡ Medium | `lib/ats/rbac.ts:106` | Fallback to `NEXT_PUBLIC_ORG_ID` | Document as intentional or remove |",
      "description": "| TEN-004 | ðŸŸ¡ Medium | `lib/ats/rbac.ts:106` | Fallback to `NEXT_PUBLIC_ORG_ID` | Document as intentional or remove |"
    },
    {
      "key": "TEN-003",
      "title": "ðŸŸ¡ Medium",
      "category": "next_step",
      "status": "open",
      "location": "lib/jobs/sms-sla-monitor.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8020-8020",
      "evidenceSnippet": "| TEN-003 | ðŸŸ¡ Medium | `lib/jobs/sms-sla-monitor.ts:64` | `orgId \\|\\| \"global\"` in job context | Validate orgId before processing |",
      "description": "| TEN-003 | ðŸŸ¡ Medium | `lib/jobs/sms-sla-monitor.ts:64` | `orgId \\|\\| \"global\"` in job context | Validate orgId before processing |"
    },
    {
      "key": "TEST-AQAR",
      "title": "Aqar Module",
      "category": "test",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:7257-7257",
      "evidenceSnippet": "| TEST-AQAR | Aqar Module | Route coverage gap | 14 routes | ðŸŸ¡ P2 |",
      "description": "| TEST-AQAR | Aqar Module | Route coverage gap | 14 routes | ðŸŸ¡ P2 |"
    },
    {
      "key": "BUG-PAY-001",
      "title": "`payments/tap/checkout/route.ts:251`",
      "category": "bug",
      "priority": "P1",
      "status": "in_progress",
      "location": "payments/tap/checkout/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:7239-7239",
      "evidenceSnippet": "| BUG-PAY-001 | `payments/tap/checkout/route.ts:251` | localhost:3000 fallback | ðŸŸ  P1 | â³ Pending |",
      "description": "| BUG-PAY-001 | `payments/tap/checkout/route.ts:251` | localhost:3000 fallback | ðŸŸ  P1 | â³ Pending |"
    },
    {
      "key": "BUG-KYC-001",
      "title": "`seller-central/kyc/submit`",
      "category": "bug",
      "priority": "P1",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:7238-7238",
      "evidenceSnippet": "| BUG-KYC-001 | `seller-central/kyc/submit` | No RBAC guard on route | ðŸŸ  P1 | â³ Pending |",
      "description": "| BUG-KYC-001 | `seller-central/kyc/submit` | No RBAC guard on route | ðŸŸ  P1 | â³ Pending |"
    },
    {
      "key": "OTP-001",
      "title": "auth OTP flow",
      "category": "bug",
      "priority": "P0",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:7235-7235",
      "evidenceSnippet": "| OTP-001 | auth OTP flow | Taqnyat SMS delivery needs env verification | ðŸ”´ P0 | â³ Pending |",
      "description": "| OTP-001 | auth OTP flow | Taqnyat SMS delivery needs env verification | ðŸ”´ P0 | â³ Pending |"
    },
    {
      "key": "LOGIC-005",
      "title": "20+ upload/help/onboarding routes",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9156-9156",
      "evidenceSnippet": "| LOGIC-005 | 20+ upload/help/onboarding routes | Auth failure treated as 401 (masks 503 infra errors) | Apply `getSessionOrError` wrapper | ðŸ”´ TODO |",
      "description": "| LOGIC-005 | 20+ upload/help/onboarding routes | Auth failure treated as 401 (masks 503 infra errors) | Apply `getSessionOrError` wrapper | ðŸ”´ TODO |"
    },
    {
      "key": "BUG-006",
      "title": "ðŸŸ  High",
      "category": "bug",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9150-9150",
      "evidenceSnippet": "| BUG-006 | ðŸŸ  High | 20+ routes | `getSessionUser(...).catch(() => null)` masks auth infra failures as 401 | ðŸ”´ TODO |",
      "description": "| BUG-006 | ðŸŸ  High | 20+ routes | `getSessionUser(...).catch(() => null)` masks auth infra failures as 401 | ðŸ”´ TODO |"
    },
    {
      "key": "BUG-1715",
      "title": "tests/unit/api/souq/seller-central/kyc-submit.test.ts (mocks)",
      "category": "bug",
      "status": "open",
      "location": "tests/unit/api/souq/seller-central/kyc-submit.test.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27714-27714",
      "evidenceSnippet": "| BUG-1715 | tests/unit/api/souq/seller-central/kyc-submit.test.ts (mocks) | Mocks bypass RBAC/tenant context; could mask regressions if route tightens checks. | ðŸŸ¡ Review route and update tests to",
      "description": "| BUG-1715 | tests/unit/api/souq/seller-central/kyc-submit.test.ts (mocks) | Mocks bypass RBAC/tenant context; could mask regressions if route tightens checks. | ðŸŸ¡ Review route and update tests to assert org/role enforcement. |"
    },
    {
      "key": "BUG-1714",
      "title": "tests/unit/api/fm/finance/budgets.test.ts (fixtures)",
      "category": "bug",
      "status": "open",
      "location": "tests/unit/api/fm/finance/budgets.test.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27713-27713",
      "evidenceSnippet": "| BUG-1714 | tests/unit/api/fm/finance/budgets.test.ts (fixtures) | Budgets tests rely on implicit defaults; risk of silent break if route requires org scoping or stricter validation. |",
      "description": "| BUG-1714 | tests/unit/api/fm/finance/budgets.test.ts (fixtures) | Budgets tests rely on implicit defaults; risk of silent break if route requires org scoping or stricter validation. | ðŸŸ¡ Investigate underlying route to ensure org + RBAC enforced; adjust fixtures accordingly. |"
    },
    {
      "key": "P2-005",
      "title": "Testing",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9838-9838",
      "evidenceSnippet": "| P2-005 | Testing | Admin module | 23 routes missing tests | ðŸŸ¡ Backlog | Add test files |",
      "description": "| P2-005 | Testing | Admin module | 23 routes missing tests | ðŸŸ¡ Backlog | Add test files |"
    },
    {
      "key": "P2-004",
      "title": "Testing",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9837-9837",
      "evidenceSnippet": "| P2-004 | Testing | FM module | 17 routes missing tests | ðŸŸ¡ Backlog | Add test files |",
      "description": "| P2-004 | Testing | FM module | 17 routes missing tests | ðŸŸ¡ Backlog | Add test files |"
    },
    {
      "key": "P2-003",
      "title": "Testing",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9836-9836",
      "evidenceSnippet": "| P2-003 | Testing | Aqar module | 11 routes missing tests | ðŸŸ¡ Backlog | Add test files |",
      "description": "| P2-003 | Testing | Aqar module | 11 routes missing tests | ðŸŸ¡ Backlog | Add test files |"
    },
    {
      "key": "P2-002",
      "title": "Validation",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9835-9835",
      "evidenceSnippet": "| P2-002 | Validation | ~118 routes | Missing Zod validation | ðŸŸ¡ Backlog | Add schemas |",
      "description": "| P2-002 | Validation | ~118 routes | Missing Zod validation | ðŸŸ¡ Backlog | Add schemas |"
    },
    {
      "key": "P2-001",
      "title": "Architecture",
      "category": "efficiency",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9834-9834",
      "evidenceSnippet": "| P2-001 | Architecture | 10 route files | Files >400 lines need splitting | ðŸŸ¡ Backlog | Modularize handlers |",
      "description": "| P2-001 | Architecture | 10 route files | Files >400 lines need splitting | ðŸŸ¡ Backlog | Modularize handlers |"
    },
    {
      "key": "P1-003",
      "title": "Reliability",
      "category": "security",
      "priority": "P1",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9827-9827",
      "evidenceSnippet": "| P1-003 | Reliability | Multiple upload routes | getSessionUser silent failures | ðŸ”´ TODO | Add telemetry wrapper |",
      "description": "| P1-003 | Reliability | Multiple upload routes | getSessionUser silent failures | ðŸ”´ TODO | Add telemetry wrapper |"
    },
    {
      "key": "P1-002",
      "title": "Reliability",
      "category": "security",
      "priority": "P1",
      "status": "open",
      "location": "vendor/apply/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9826-9826",
      "evidenceSnippet": "| P1-002 | Reliability | vendor/apply/route.ts | Silent DB failure on apply | ðŸ”´ TODO | Return 503 on failure |",
      "description": "| P1-002 | Reliability | vendor/apply/route.ts | Silent DB failure on apply | ðŸ”´ TODO | Return 503 on failure |"
    },
    {
      "key": "P1-001",
      "title": "Reliability",
      "category": "security",
      "priority": "P1",
      "status": "open",
      "location": "req.json",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9825-9825",
      "evidenceSnippet": "| P1-001 | Reliability | 30 API routes | `req.json().catch(() => ({}))` swallows errors | ðŸ”´ TODO | Create shared safeParseJSON |",
      "description": "| P1-001 | Reliability | 30 API routes | `req.json().catch(() => ({}))` swallows errors | ðŸ”´ TODO | Create shared safeParseJSON |"
    },
    {
      "key": "P0-003",
      "title": "Security",
      "category": "security",
      "priority": "P0",
      "status": "open",
      "location": "vendors/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9819-9819",
      "evidenceSnippet": "| P0-003 | Security | `vendors/route.ts:214,218` | Vendor.find/countDocuments missing orgId | âš ï¸ Verify | Check if scoped elsewhere |",
      "description": "| P0-003 | Security | `vendors/route.ts:214,218` | Vendor.find/countDocuments missing orgId | âš ï¸ Verify | Check if scoped elsewhere |"
    },
    {
      "key": "P0-002",
      "title": "Security",
      "category": "security",
      "priority": "P0",
      "status": "open",
      "location": "pm/plans/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9818-9818",
      "evidenceSnippet": "| P0-002 | Security | `pm/plans/route.ts:42,68,189` | FMPMPlan.find without orgId | ðŸ”´ TODO | Add tenant scoping |",
      "description": "| P0-002 | Security | `pm/plans/route.ts:42,68,189` | FMPMPlan.find without orgId | ðŸ”´ TODO | Add tenant scoping |"
    },
    {
      "key": "P0-001",
      "title": "Security",
      "category": "security",
      "priority": "P0",
      "status": "open",
      "location": "assistant/query/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9817-9817",
      "evidenceSnippet": "| P0-001 | Security | `assistant/query/route.ts:259` | WorkOrder.find without orgId | ðŸ”´ TODO | Add tenant scoping |",
      "description": "| P0-001 | Security | `assistant/query/route.ts:259` | WorkOrder.find without orgId | ðŸ”´ TODO | Add tenant scoping |"
    },
    {
      "key": "SENTRY-001",
      "title": "Add Sentry context to FM/Souq modules",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:19898-19898",
      "evidenceSnippet": "| SENTRY-001 | Add Sentry context to FM/Souq modules | ðŸ”² TODO |",
      "description": "| SENTRY-001 | Add Sentry context to FM/Souq modules | ðŸ”² TODO |"
    },
    {
      "key": "BUG-1711",
      "title": "domain/aqar (late fee calc patterns)",
      "category": "bug",
      "status": "open",
      "location": "domain/aqar",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27667-27667",
      "evidenceSnippet": "| BUG-1711 | domain/aqar (late fee calc patterns) | Time-of-day differences can overcount late days (ceil on millis) leading to extra fees; normalize to whole-day",
      "description": "| BUG-1711 | domain/aqar (late fee calc patterns) | Time-of-day differences can overcount late days (ceil on millis) leading to extra fees; normalize to whole-day floor before multiplying. | ðŸŸ¡ Investigate/align prod logic |"
    },
    {
      "key": "LOGIC-123",
      "title": "Aqar writes",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8945-8945",
      "evidenceSnippet": "| LOGIC-123 | Aqar writes | Mixed orgId/userId persistence causes cross-tenant data and type drift | ðŸ”´ Open |",
      "description": "| LOGIC-123 | Aqar writes | Mixed orgId/userId persistence causes cross-tenant data and type drift | ðŸ”´ Open |"
    },
    {
      "key": "LOGIC-122",
      "title": "Souq review flow",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8944-8944",
      "evidenceSnippet": "| LOGIC-122 | Souq review flow | Asymmetric org enforcement (GET strict, POST lax) leading to tenant drift | ðŸ”´ Open |",
      "description": "| LOGIC-122 | Souq review flow | Asymmetric org enforcement (GET strict, POST lax) leading to tenant drift | ðŸ”´ Open |"
    },
    {
      "key": "LOGIC-121",
      "title": "GraphQL read resolvers",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8943-8943",
      "evidenceSnippet": "| LOGIC-121 | GraphQL read resolvers | No tenant/audit context set on read paths; inconsistent with mutation isolation | ðŸ”´ Open |",
      "description": "| LOGIC-121 | GraphQL read resolvers | No tenant/audit context set on read paths; inconsistent with mutation isolation | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1707",
      "title": "app/api/aqar/favorites/route.ts:61-138",
      "category": "bug",
      "status": "open",
      "location": "app/api/aqar/favorites/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8938-8938",
      "evidenceSnippet": "| BUG-1707 | app/api/aqar/favorites/route.ts:61-138 | Favorites stored with user-id fallback | ðŸ”´ Open |",
      "description": "| BUG-1707 | app/api/aqar/favorites/route.ts:61-138 | Favorites stored with user-id fallback | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1706",
      "title": "app/api/aqar/packages/route.ts:102-124",
      "category": "bug",
      "status": "open",
      "location": "app/api/aqar/packages/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8937-8937",
      "evidenceSnippet": "| BUG-1706 | app/api/aqar/packages/route.ts:102-124 | Payments/packages allow user-id org fallback | ðŸ”´ Open |",
      "description": "| BUG-1706 | app/api/aqar/packages/route.ts:102-124 | Payments/packages allow user-id org fallback | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1705",
      "title": "app/api/aqar/listings/route.ts:99-138",
      "category": "bug",
      "status": "open",
      "location": "app/api/aqar/listings/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8936-8936",
      "evidenceSnippet": "| BUG-1705 | app/api/aqar/listings/route.ts:99-138 | orgId falls back to user.id | ðŸ”´ Open |",
      "description": "| BUG-1705 | app/api/aqar/listings/route.ts:99-138 | orgId falls back to user.id | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1704",
      "title": "app/api/souq/reviews/route.ts:61-108",
      "category": "bug",
      "status": "open",
      "location": "app/api/souq/reviews/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8935-8935",
      "evidenceSnippet": "| BUG-1704 | app/api/souq/reviews/route.ts:61-108 | POST falls back to user id; GET enforces org | ðŸ”´ Open |",
      "description": "| BUG-1704 | app/api/souq/reviews/route.ts:61-108 | POST falls back to user id; GET enforces org | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1703",
      "title": "lib/graphql/index.ts:936-1052",
      "category": "bug",
      "status": "open",
      "location": "lib/graphql/index.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8934-8934",
      "evidenceSnippet": "| BUG-1703 | lib/graphql/index.ts:936-1052 | `createWorkOrder` writes with userId fallback instead of required org | ðŸ”´ Open |",
      "description": "| BUG-1703 | lib/graphql/index.ts:936-1052 | `createWorkOrder` writes with userId fallback instead of required org | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1702",
      "title": "lib/graphql/index.ts:803-887",
      "category": "bug",
      "status": "open",
      "location": "lib/graphql/index.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8933-8933",
      "evidenceSnippet": "| BUG-1702 | lib/graphql/index.ts:803-887 | `dashboardStats` uses `ctx.orgId ?? ctx.userId`, no tenant/audit context | ðŸ”´ Open |",
      "description": "| BUG-1702 | lib/graphql/index.ts:803-887 | `dashboardStats` uses `ctx.orgId ?? ctx.userId`, no tenant/audit context | ðŸ”´ Open |"
    },
    {
      "key": "BUG-1701",
      "title": "lib/graphql/index.ts:769-801",
      "category": "bug",
      "status": "open",
      "location": "lib/graphql/index.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:8932-8932",
      "evidenceSnippet": "| BUG-1701 | lib/graphql/index.ts:769-801 | `workOrder` query lacks org filter; id-only lookup | ðŸ”´ Open |",
      "description": "| BUG-1701 | lib/graphql/index.ts:769-801 | `workOrder` query lacks org filter; id-only lookup | ðŸ”´ Open |"
    },
    {
      "key": "LOGIC-021",
      "title": "Secrets guard scope",
      "category": "logic",
      "status": "open",
      "location": "tests/unit/security/banned-literals.test.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9080-9080",
      "evidenceSnippet": "| LOGIC-021 | Secrets guard scope | `tests/unit/security/banned-literals.test.ts` ignores `docs/**`, leaving documented literals unsanitized. | Add docs scrub task or broaden guard with a sanitized",
      "description": "| LOGIC-021 | Secrets guard scope | `tests/unit/security/banned-literals.test.ts` ignores `docs/**`, leaving documented literals unsanitized. | Add docs scrub task or broaden guard with a sanitized allowlist. | ðŸ”´ TODO |"
    },
    {
      "key": "LOGIC-020",
      "title": "Souq rule consumption",
      "category": "logic",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9079-9079",
      "evidenceSnippet": "| LOGIC-020 | Souq rule consumption | Missing central getter in fulfillment/pricing flows means overrides/telemetry not applied. | Refactor to call `getSouqRuleConfig(orgId)` everywhere and delete",
      "description": "| LOGIC-020 | Souq rule consumption | Missing central getter in fulfillment/pricing flows means overrides/telemetry not applied. | Refactor to call `getSouqRuleConfig(orgId)` everywhere and delete local thresholds. | ðŸ”´ TODO |"
    },
    {
      "key": "BUG-1528",
      "title": "ðŸŸ¡ Medium",
      "category": "bug",
      "status": "open",
      "location": "docs/analysis/COMPREHENSIVE_DEPLOYMENT_AUDIT.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9074-9074",
      "evidenceSnippet": "| BUG-1528 | ðŸŸ¡ Medium | Repo docs (e.g., docs/analysis/COMPREHENSIVE_DEPLOYMENT_AUDIT.md:177-180; docs/fixes/DEPLOYMENT_FIX_STEP_BY_STEP.md:275-286) | Live credentials remain in documentation; code guard excludes docs so leakage risk persists.",
      "description": "| BUG-1528 | ðŸŸ¡ Medium | Repo docs (e.g., docs/analysis/COMPREHENSIVE_DEPLOYMENT_AUDIT.md:177-180; docs/fixes/DEPLOYMENT_FIX_STEP_BY_STEP.md:275-286) | Live credentials remain in documentation; code guard excludes docs so leakage risk persists. | ðŸ”´ TODO |"
    },
    {
      "key": "BUG-1527",
      "title": "ðŸŸ  High",
      "category": "bug",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9073-9073",
      "evidenceSnippet": "| BUG-1527 | ðŸŸ  High | Souq fulfillment/pricing | Still bypass shared rules (no `getSouqRuleConfig` usage), risking inconsistent return/fraud windows. | ðŸ”´ TODO |",
      "description": "| BUG-1527 | ðŸŸ  High | Souq fulfillment/pricing | Still bypass shared rules (no `getSouqRuleConfig` usage), risking inconsistent return/fraud windows. | ðŸ”´ TODO |"
    },
    {
      "key": "BUG-1526",
      "title": "ðŸŸ  High",
      "category": "bug",
      "status": "in_progress",
      "location": "lib/config/constants.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9072-9072",
      "evidenceSnippet": "| BUG-1526 | ðŸŸ  High | lib/config/constants.ts | AWS_REGION/AWS_S3_BUCKET previously allowed silent fallback; now fail-fast with metrics. | âœ… Fixed |",
      "description": "| BUG-1526 | ðŸŸ  High | lib/config/constants.ts | AWS_REGION/AWS_S3_BUCKET previously allowed silent fallback; now fail-fast with metrics. | âœ… Fixed |"
    },
    {
      "key": "BUG-1525",
      "title": "ðŸŸ  High",
      "category": "bug",
      "status": "in_progress",
      "location": "scripts/update-superadmin-credentials.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9071-9071",
      "evidenceSnippet": "| BUG-1525 | ðŸŸ  High | scripts/update-superadmin-credentials.ts | Hardcoded SuperAdmin credentials replaced with env-only via `requireEnv`; removed plaintext echoes. | âœ… Fixed |",
      "description": "| BUG-1525 | ðŸŸ  High | scripts/update-superadmin-credentials.ts | Hardcoded SuperAdmin credentials replaced with env-only via `requireEnv`; removed plaintext echoes. | âœ… Fixed |"
    },
    {
      "key": "SILENT-HELP-JSON-001",
      "title": "Correctness",
      "category": "bug",
      "status": "open",
      "location": "app/api/help/escalate/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9982-9982",
      "evidenceSnippet": "| SILENT-HELP-JSON-001 | Correctness | app/api/help/escalate/route.ts | Body parsed with `req.json().catch(() => ({}))` and module defaults to \"Other\"; combined with silent auth failure it can",
      "description": "| SILENT-HELP-JSON-001 | Correctness | app/api/help/escalate/route.ts | Body parsed with `req.json().catch(() => ({}))` and module defaults to \"Other\"; combined with silent auth failure it can open tickets with missing context and no logging. | Bad requests produce tickets with null module/attempted_action; invalid JSON not surfaced; incident triage loses signal. | Use safe JSON parser returning 400 with correlation id; log parse/auth errors; add negative tests for malformed body and auth store outage. |"
    },
    {
      "key": "P3-004",
      "title": "Unused exports",
      "category": "bug",
      "priority": "P3",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:17837-17837",
      "evidenceSnippet": "| P3-004 | Unused exports | Optional cleanup | ðŸ”² DEFERRED |",
      "description": "| P3-004 | Unused exports | Optional cleanup | ðŸ”² DEFERRED |"
    },
    {
      "key": "DOC-003",
      "title": "ðŸ”„ DEFERRED",
      "category": "documentation",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24294-24294",
      "evidenceSnippet": "| 1 | DOC-003 | API route documentation (OpenAPI) | ðŸ”„ DEFERRED |",
      "description": "| 1 | DOC-003 | API route documentation (OpenAPI) | ðŸ”„ DEFERRED |"
    },
    {
      "key": "BUG-005",
      "title": "ðŸŸ¡ Medium",
      "category": "bug",
      "status": "open",
      "location": "route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9526-9526",
      "evidenceSnippet": "| BUG-005 | ðŸŸ¡ Medium | `files/resumes/[file]/route.ts` | Auth failure â†’ 401 (masks 503) | ðŸ”´ TODO | 30m |",
      "description": "| BUG-005 | ðŸŸ¡ Medium | `files/resumes/[file]/route.ts` | Auth failure â†’ 401 (masks 503) | ðŸ”´ TODO | 30m |"
    },
    {
      "key": "BUG-004",
      "title": "ðŸŸ  High",
      "category": "bug",
      "status": "in_progress",
      "location": "tenant.server.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:9525-9525",
      "evidenceSnippet": "| BUG-004 | ðŸŸ  High | `tenant.server.ts:101` | Silent fallback to defaults on config error | âœ… Fixed | â€” |",
      "description": "| BUG-004 | ðŸŸ  High | `tenant.server.ts:101` | Silent fallback to defaults on config error | âœ… Fixed | â€” |"
    },
    {
      "key": "TEST-008",
      "title": "Withdrawal manual payout flow",
      "category": "test",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:23118-23118",
      "evidenceSnippet": "| TEST-008 | Withdrawal manual payout flow | ðŸŸ¡ MEDIUM | 2h | Session analysis |",
      "description": "| TEST-008 | Withdrawal manual payout flow | ðŸŸ¡ MEDIUM | 2h | Session analysis |"
    },
    {
      "key": "GQL-002",
      "title": "Incomplete",
      "category": "next_step",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:13727-13727",
      "evidenceSnippet": "| GQL-002 | Incomplete | 2 resolvers | TODO stubs in property/invoice | 30m |",
      "description": "| GQL-002 | Incomplete | 2 resolvers | TODO stubs in property/invoice | 30m |"
    },
    {
      "key": "JSON-001",
      "title": "Crash Risk",
      "category": "next_step",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:13718-13718",
      "evidenceSnippet": "| JSON-001 | Crash Risk | 8 files | Unprotected `JSON.parse` can crash on malformed input | ðŸŸ¡ Medium | 45m |",
      "description": "| JSON-001 | Crash Risk | 8 files | Unprotected `JSON.parse` can crash on malformed input | ðŸŸ¡ Medium | 45m |"
    },
    {
      "key": "AUTH-TEST-002",
      "title": "Add unit/integration coverage for `resolveAuthSecret()` + `/api/health/auth` healthy state when either secret present.",
      "category": "bug",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21658-21658",
      "evidenceSnippet": "| AUTH-TEST-002 | Tests | ðŸŸ¡ Pending | Add unit/integration coverage for `resolveAuthSecret()` + `/api/health/auth` healthy state when either secret present. |",
      "description": "| AUTH-TEST-002 | Tests | ðŸŸ¡ Pending | Add unit/integration coverage for `resolveAuthSecret()` + `/api/health/auth` healthy state when either secret present. |"
    },
    {
      "key": "AUTH-LOGIC-001",
      "title": "Align auth routes/services to consume `Config.auth.secret` where possible to avoid divergent env access.",
      "category": "bug",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21657-21657",
      "evidenceSnippet": "| AUTH-LOGIC-001 | Logic | ðŸŸ  Pending | Align auth routes/services to consume `Config.auth.secret` where possible to avoid divergent env access. |",
      "description": "| AUTH-LOGIC-001 | Logic | ðŸŸ  Pending | Align auth routes/services to consume `Config.auth.secret` where possible to avoid divergent env access. |"
    },
    {
      "key": "AUTH-OPS-002",
      "title": "Enforce identical secrets across Vercel/preview/local; add secret checks in CI/CD; rotate placeholders.",
      "category": "bug",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21656-21656",
      "evidenceSnippet": "| AUTH-OPS-002 | DevOps | ðŸŸ  Pending | Enforce identical secrets across Vercel/preview/local; add secret checks in CI/CD; rotate placeholders. |",
      "description": "| AUTH-OPS-002 | DevOps | ðŸŸ  Pending | Enforce identical secrets across Vercel/preview/local; add secret checks in CI/CD; rotate placeholders. |"
    },
    {
      "key": "AUTH-BUG-001",
      "title": "Runtime/console crash if neither secret is set (observed in SW logs). Mitigate by setting real secret everywhere.",
      "category": "bug",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21655-21655",
      "evidenceSnippet": "| AUTH-BUG-001 | Bug | ðŸŸ  Pending | Runtime/console crash if neither secret is set (observed in SW logs). Mitigate by setting real secret everywhere.",
      "description": "| AUTH-BUG-001 | Bug | ðŸŸ  Pending | Runtime/console crash if neither secret is set (observed in SW logs). Mitigate by setting real secret everywhere. |"
    },
    {
      "key": "PERF-004",
      "title": "Sequential notifications",
      "category": "efficiency",
      "status": "in_progress",
      "location": "app/api/admin/notifications/send/route.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21787-21787",
      "evidenceSnippet": "| PERF-004 | Sequential notifications | app/api/admin/notifications/send/route.ts | 1000Ã—3 = 3000 API calls | Use batch APIs, queue with BullMQ | â³ TODO |",
      "description": "| PERF-004 | Sequential notifications | app/api/admin/notifications/send/route.ts | 1000Ã—3 = 3000 API calls | Use batch APIs, queue with BullMQ | â³ TODO |"
    },
    {
      "key": "TEST-API-GAP",
      "title": "127 API routes without dedicated tests",
      "category": "test",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20961-20961",
      "evidenceSnippet": "| TEST-API-GAP | 127 API routes without dedicated tests | â³ Coverage gap |",
      "description": "| TEST-API-GAP | 127 API routes without dedicated tests | â³ Coverage gap |"
    },
    {
      "key": "TEST-TAQNYAT",
      "title": "`lib/sms-providers/taqnyat.ts`",
      "category": "test",
      "status": "in_progress",
      "location": "lib/sms-providers/taqnyat.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20960-20960",
      "evidenceSnippet": "| TEST-TAQNYAT | `lib/sms-providers/taqnyat.ts` | â³ No tests |",
      "description": "| TEST-TAQNYAT | `lib/sms-providers/taqnyat.ts` | â³ No tests |"
    },
    {
      "key": "TEST-IP",
      "title": "`lib/security/ip-reputation.ts`",
      "category": "test",
      "status": "in_progress",
      "location": "lib/security/ip-reputation.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20959-20959",
      "evidenceSnippet": "| TEST-IP | `lib/security/ip-reputation.ts` | â³ No tests |",
      "description": "| TEST-IP | `lib/security/ip-reputation.ts` | â³ No tests |"
    },
    {
      "key": "INTERVAL-002",
      "title": "setInterval cleanup in mongo.ts",
      "category": "efficiency",
      "status": "in_progress",
      "location": "mongo.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20954-20954",
      "evidenceSnippet": "| INTERVAL-002 | setInterval cleanup in mongo.ts | `lib/mongo.ts:418` | â³ Review needed |",
      "description": "| INTERVAL-002 | setInterval cleanup in mongo.ts | `lib/mongo.ts:418` | â³ Review needed |"
    },
    {
      "key": "TODO-001",
      "title": "Cleanup",
      "category": "efficiency",
      "status": "in_progress",
      "location": "lib/graphql",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20334-20334",
      "evidenceSnippet": "| TODO-001 | Cleanup | ðŸŸ© Minor | â³ Open | 7 TODO comments in lib/graphql |",
      "description": "| TODO-001 | Cleanup | ðŸŸ© Minor | â³ Open | 7 TODO comments in lib/graphql |"
    },
    {
      "key": "PATTERN-001",
      "title": "Reliability",
      "category": "efficiency",
      "status": "in_progress",
      "location": "req.json",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:20333-20333",
      "evidenceSnippet": "| PATTERN-001 | Reliability | ðŸŸ¨ Moderate | â³ Open | 138 `req.json()` calls without try-catch wrapper |",
      "description": "| PATTERN-001 | Reliability | ðŸŸ¨ Moderate | â³ Open | 138 `req.json()` calls without try-catch wrapper |"
    },
    {
      "key": "TYPE-001",
      "title": "ITapInfo missing `chargeId` on checkout payload",
      "category": "bug",
      "status": "open",
      "location": "lib/finance/checkout.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21207-21207",
      "evidenceSnippet": "| TYPE-001 | ITapInfo missing `chargeId` on checkout payload | lib/finance/checkout.ts:171 | ðŸŸ¡ HIGH | ðŸš§ ACTIVE |",
      "description": "| TYPE-001 | ITapInfo missing `chargeId` on checkout payload | lib/finance/checkout.ts:171 | ðŸŸ¡ HIGH | ðŸš§ ACTIVE |"
    },
    {
      "key": "GH-003",
      "title": "release-gate.yml:196",
      "category": "test",
      "status": "open",
      "location": "release-gate.yml",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21242-21242",
      "evidenceSnippet": "| GH-003 | release-gate.yml:196 | `environment: production` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"production\"",
      "description": "| GH-003 | release-gate.yml:196 | `environment: production` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"production\" |"
    },
    {
      "key": "GH-002",
      "title": "release-gate.yml:180",
      "category": "test",
      "status": "open",
      "location": "release-gate.yml",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21241-21241",
      "evidenceSnippet": "| GH-002 | release-gate.yml:180 | `environment: production-approval` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"production-approval\"",
      "description": "| GH-002 | release-gate.yml:180 | `environment: production-approval` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"production-approval\" |"
    },
    {
      "key": "GH-001",
      "title": "release-gate.yml:87",
      "category": "test",
      "status": "open",
      "location": "release-gate.yml",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21240-21240",
      "evidenceSnippet": "| GH-001 | release-gate.yml:87 | `environment: staging` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"staging\"",
      "description": "| GH-001 | release-gate.yml:87 | `environment: staging` not found | âš ï¸ Warning | **REPO CONFIG NEEDED** | Requires GitHub Settings > Environments > Create \"staging\" |"
    },
    {
      "key": "AUTH-TEST-001",
      "title": "Add regression test for Config.auth.secret covering AUTH_SECRET fallback and production throw when both secrets are missing.",
      "category": "next_step",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24140-24140",
      "evidenceSnippet": "| AUTH-TEST-001 | Tests | ðŸŸ¡ Pending | Add regression test for Config.auth.secret covering AUTH_SECRET fallback and production throw when both secrets are missing. |",
      "description": "| AUTH-TEST-001 | Tests | ðŸŸ¡ Pending | Add regression test for Config.auth.secret covering AUTH_SECRET fallback and production throw when both secrets are missing. |"
    },
    {
      "key": "AUTH-SEC-002",
      "title": "Set 32+ char NEXTAUTH_SECRET (or AUTH_SECRET) in all environments to remove runtime warnings and keep session signing consistent.",
      "category": "next_step",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24139-24139",
      "evidenceSnippet": "| AUTH-SEC-002 | DevOps | ðŸŸ  Pending | Set 32+ char NEXTAUTH_SECRET (or AUTH_SECRET) in all environments to remove runtime warnings and keep session signing",
      "description": "| AUTH-SEC-002 | DevOps | ðŸŸ  Pending | Set 32+ char NEXTAUTH_SECRET (or AUTH_SECRET) in all environments to remove runtime warnings and keep session signing consistent. |"
    },
    {
      "key": "ERR-007",
      "title": "Document SWR fetcher",
      "category": "test",
      "status": "open",
      "location": "fetcher.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24832-24832",
      "evidenceSnippet": "| 53 | ERR-007 | Document SWR fetcher | fetcher.ts:14 | ðŸŸ¡ ENHANCEMENT - Could add JSDoc |",
      "description": "| 53 | ERR-007 | Document SWR fetcher | fetcher.ts:14 | ðŸŸ¡ ENHANCEMENT - Could add JSDoc |"
    },
    {
      "key": "TQ-003",
      "title": "ErrorBoundary Coverage",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:13856-13856",
      "evidenceSnippet": "| TQ-003 | ErrorBoundary Coverage | 4 | 4 components | Limited error boundary usage | ðŸŸ¡ Medium |",
      "description": "| TQ-003 | ErrorBoundary Coverage | 4 | 4 components | Limited error boundary usage | ðŸŸ¡ Medium |"
    },
    {
      "key": "ISSUE-CI-001",
      "title": "**ISSUE-CI-001 â€“ GitHub Actions Workflows Failing** (High, Pending Investigation): check runners, secrets per `docs/GITHUB_SECRETS_SETUP.md`",
      "category": "documentation",
      "status": "open",
      "location": "docs/GITHUB_SECRETS_SETUP.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:26410-26410",
      "evidenceSnippet": "- **ISSUE-CI-001 â€“ GitHub Actions Workflows Failing** (High, Pending Investigation): check runners, secrets per `docs/GITHUB_SECRETS_SETUP.md`, review workflow syntax.",
      "description": "- **ISSUE-CI-001 â€“ GitHub Actions Workflows Failing** (High, Pending Investigation): check runners, secrets per `docs/GITHUB_SECRETS_SETUP.md`, review workflow syntax."
    },
    {
      "key": "PF-004",
      "title": "Image optimization (WebP)",
      "category": "efficiency",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27314-27314",
      "evidenceSnippet": "| PF-004 | Image optimization (WebP) | Smaller assets | ðŸ”² Not Started |",
      "description": "| PF-004 | Image optimization (WebP) | Smaller assets | ðŸ”² Not Started |"
    },
    {
      "key": "PF-003",
      "title": "Enable Redis caching in prod",
      "category": "efficiency",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27313-27313",
      "evidenceSnippet": "| PF-003 | Enable Redis caching in prod | Faster queries | ðŸ”² User Action |",
      "description": "| PF-003 | Enable Redis caching in prod | Faster queries | ðŸ”² User Action |"
    },
    {
      "key": "PF-002",
      "title": "Bundle size optimization",
      "category": "efficiency",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27312-27312",
      "evidenceSnippet": "| PF-002 | Bundle size optimization | Faster page loads | ðŸ”² Not Started |",
      "description": "| PF-002 | Bundle size optimization | Faster page loads | ðŸ”² Not Started |"
    },
    {
      "key": "TG-006",
      "title": "Webhook delivery tests",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27293-27293",
      "evidenceSnippet": "| TG-006 | Webhook delivery tests | Event delivery retry | ðŸ”² Not Started |",
      "description": "| TG-006 | Webhook delivery tests | Event delivery retry | ðŸ”² Not Started |"
    },
    {
      "key": "TG-005",
      "title": "Marketplace vendor tests",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27292-27292",
      "evidenceSnippet": "| TG-005 | Marketplace vendor tests | Vendor onboarding | ðŸ”² Not Started |",
      "description": "| TG-005 | Marketplace vendor tests | Vendor onboarding | ðŸ”² Not Started |"
    },
    {
      "key": "TG-004",
      "title": "Integration tests for Souq flows",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27291-27291",
      "evidenceSnippet": "| TG-004 | Integration tests for Souq flows | Order lifecycle | ðŸ”² Not Started |",
      "description": "| TG-004 | Integration tests for Souq flows | Order lifecycle | ðŸ”² Not Started |"
    },
    {
      "key": "TG-003",
      "title": "E2E for finance PII encryption",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27290-27290",
      "evidenceSnippet": "| TG-003 | E2E for finance PII encryption | Security validation | ðŸ”² Not Started |",
      "description": "| TG-003 | E2E for finance PII encryption | Security validation | ðŸ”² Not Started |"
    },
    {
      "key": "TG-002",
      "title": "Auth middleware edge cases",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27289-27289",
      "evidenceSnippet": "| TG-002 | Auth middleware edge cases | Token expiry, invalid tokens | ðŸ”² Not Started |",
      "description": "| TG-002 | Auth middleware edge cases | Token expiry, invalid tokens | ðŸ”² Not Started |"
    },
    {
      "key": "TG-001",
      "title": "RBAC role-based filtering tests",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27288-27288",
      "evidenceSnippet": "| TG-001 | RBAC role-based filtering tests | Work orders, finance, HR | ðŸ”² Not Started |",
      "description": "| TG-001 | RBAC role-based filtering tests | Work orders, finance, HR | ðŸ”² Not Started |"
    },
    {
      "key": "CQ-003",
      "title": "Magic numbers in business rules",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27275-27275",
      "evidenceSnippet": "| CQ-003 | Magic numbers in business rules | Multiple services | ðŸ”² Not Started |",
      "description": "| CQ-003 | Magic numbers in business rules | Multiple services | ðŸ”² Not Started |"
    },
    {
      "key": "CQ-002",
      "title": "Remaining `any` types",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27274-27274",
      "evidenceSnippet": "| CQ-002 | Remaining `any` types | Various files | ðŸ”² Not Started |",
      "description": "| CQ-002 | Remaining `any` types | Various files | ðŸ”² Not Started |"
    },
    {
      "key": "CQ-001",
      "title": "Mixed async/await patterns",
      "category": "security",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27273-27273",
      "evidenceSnippet": "| CQ-001 | Mixed async/await patterns | Various services | ðŸ”² Not Started |",
      "description": "| CQ-001 | Mixed async/await patterns | Various services | ðŸ”² Not Started |"
    },
    {
      "key": "HIGH-004",
      "title": "Payment Config (Tap secrets)",
      "category": "security",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27265-27265",
      "evidenceSnippet": "| HIGH-004 | Payment Config (Tap secrets) | Vercel env vars | â³ User Action | User |",
      "description": "| HIGH-004 | Payment Config (Tap secrets) | Vercel env vars | â³ User Action | User |"
    },
    {
      "key": "UX-005",
      "title": "Color contrast fixes",
      "category": "documentation",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27357-27357",
      "evidenceSnippet": "| UX-005 | Color contrast fixes | 4.5:1 ratio | ðŸ”² Future sprint (needs visual audit) |",
      "description": "| UX-005 | Color contrast fixes | 4.5:1 ratio | ðŸ”² Future sprint (needs visual audit) |"
    },
    {
      "key": "CH-004",
      "title": "Long function refactoring",
      "category": "documentation",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:27337-27337",
      "evidenceSnippet": "| CH-004 | Long function refactoring | >100 line functions | ðŸ”² Future sprint (1511 functions, needs sampling) |",
      "description": "| CH-004 | Long function refactoring | >100 line functions | ðŸ”² Future sprint (1511 functions, needs sampling) |"
    },
    {
      "key": "TEST-CMP",
      "title": "Compliance route tests",
      "category": "next_step",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24270-24270",
      "evidenceSnippet": "| 6 | TEST-CMP | Compliance route tests | 3h | ðŸŸ¡ P2 | ðŸ”„ DEFERRED |",
      "description": "| 6 | TEST-CMP | Compliance route tests | 3h | ðŸŸ¡ P2 | ðŸ”„ DEFERRED |"
    },
    {
      "key": "TEST-ADM",
      "title": "Admin operation tests",
      "category": "next_step",
      "priority": "P2",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24269-24269",
      "evidenceSnippet": "| 5 | TEST-ADM | Admin operation tests | 6h | ðŸŸ¡ P2 | ðŸ”„ DEFERRED |",
      "description": "| 5 | TEST-ADM | Admin operation tests | 6h | ðŸŸ¡ P2 | ðŸ”„ DEFERRED |"
    },
    {
      "key": "TEST-ONB",
      "title": "Onboarding flow tests",
      "category": "next_step",
      "priority": "P1",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24268-24268",
      "evidenceSnippet": "| 4 | TEST-ONB | Onboarding flow tests | 4h | ðŸŸ  P1 | âœ… COMPLETED |",
      "description": "| 4 | TEST-ONB | Onboarding flow tests | 4h | ðŸŸ  P1 | âœ… COMPLETED |"
    },
    {
      "key": "TEST-HR",
      "title": "HR/payroll route tests",
      "category": "next_step",
      "priority": "P1",
      "status": "in_progress",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:24267-24267",
      "evidenceSnippet": "| 3 | TEST-HR | HR/payroll route tests | 4h | ðŸŸ  P1 | âœ… COMPLETED |",
      "description": "| 3 | TEST-HR | HR/payroll route tests | 4h | ðŸŸ  P1 | âœ… COMPLETED |"
    },
    {
      "key": "CQ-008",
      "title": "Mixed async/await and Promise chains",
      "category": "test",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:26604-26604",
      "evidenceSnippet": "| CQ-008 | Mixed async/await and Promise chains | Various | Pending: Standardize to async/await |",
      "description": "| CQ-008 | Mixed async/await and Promise chains | Various | Pending: Standardize to async/await |"
    },
    {
      "key": "ISSUE-005",
      "title": "**ISSUE-005 â€“ Mixed orgId Storage in Souq Payouts/Withdrawals** (Major, Pending Migration - Ops): run `npx tsx scripts/migrations/2025-12-07",
      "category": "documentation",
      "status": "open",
      "location": "scripts/migrations/2025-12-07-normalize-souq-payouts-orgId.ts",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:26411-26411",
      "evidenceSnippet": "- **ISSUE-005 â€“ Mixed orgId Storage in Souq Payouts/Withdrawals** (Major, Pending Migration - Ops): run `npx tsx scripts/migrations/2025-12-07-normalize-souq-payouts-orgId.ts` (dry-run then execute).",
      "description": "- **ISSUE-005 â€“ Mixed orgId Storage in Souq Payouts/Withdrawals** (Major, Pending Migration - Ops): run `npx tsx scripts/migrations/2025-12-07-normalize-souq-payouts-orgId.ts` (dry-run then execute)."
    },
    {
      "key": "GH-ENV",
      "title": "Create GitHub environments (staging, production-approval, production)",
      "category": "next_step",
      "status": "open",
      "location": "docs/PENDING_MASTER.md",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21285-21285",
      "evidenceSnippet": "| GH-ENV | Create GitHub environments (staging, production-approval, production) | ðŸŸ¡ HIGH | 15min | DevOps |",
      "description": "| GH-ENV | Create GitHub environments (staging, production-approval, production) | ðŸŸ¡ HIGH | 15min | DevOps |"
    },
    {
      "key": "GH-006",
      "title": "pr_agent.yml:26-27",
      "category": "test",
      "status": "open",
      "location": "pr_agent.yml",
      "sourcePath": "docs/PENDING_MASTER.md",
      "sourceRef": "pending-master:docs/PENDING_MASTER.md:21245-21245",
      "evidenceSnippet": "| GH-006 | pr_agent.yml:26-27 | `${{ secrets.OPENAI_KEY }}` warning | â„¹ï¸ Info | **FALSE POSITIVE** | Standard secret injection pattern |",
      "description": "| GH-006 | pr_agent.yml:26-27 | `${{ secrets.OPENAI_KEY }}` warning | â„¹ï¸ Info | **FALSE POSITIVE** | Standard secret injection pattern |"
    }
  ]
}