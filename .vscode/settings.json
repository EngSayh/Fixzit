{
  // Turn on Agent mode features
  "chat.agent.enabled": true,
  "chat.agent.maxRequests": 250,
  
  // *** NUCLEAR OPTION: Auto-approve ALL tools & commands ***
  "chat.tools.global.autoApprove": true,

  // Auto-approve file edits for your code, but block sensitive files
  "chat.tools.edits.autoApprove": {
    "**/*": true,
    "**/.vscode/*.json": false,
    "**/.env*": false
  },

  // Whitelist terminal commands the agent can run without asking
  "chat.tools.terminal.autoApprove": {
    "/^npm (install|run\\b.*)$/": true,
    "/^pnpm (install|run\\b.*)$/": true,
    "/^yarn (install|run\\b.*)$/": true,
    "/^git (status|pull|show|diff|log|branch|checkout|add|commit|push)\\b/": true,
    "/^npx tsc\\b/": true,
    "/^grep\\b/": true,
    "/^find\\b/": true,
    "/^cat\\b/": true,
    "/^ls\\b/": true,
    "/^mkdir\\b/": true,
    "/^cp\\b/": true,
    "/^mv\\b/": true,
    "/^sed\\b/": true,
    "/^python3?\\b/": true,
    "/^node\\b/": true,
    "/^echo\\b/": true,
    "/^timeout\\b/": true,
    "/^head\\b/": true,
    "/^tail\\b/": true,
    "/^wc\\b/": true,
    "/^sort\\b/": true,
    "/^uniq\\b/": true,

    // Always require approval for destructive stuff
    "rm": false,
    "rmdir": false,
    "del": false,
    "/^Remove-Item\\b/i": false,
    "/^git reset --hard/": false,
    "/^git push -f/": false
    ,"/^git push.*\\b(origin\\s+)?(main|master)\\b/": false
  },

  // Accept edit suggestions automatically after 2 seconds
  "chat.editing.autoAccept": 2000,

  // Let agent run defined workspace tasks (build/dev) when needed
  "github.copilot.chat.agent.runTasks": true,

  // Enable chat checkpoints for rollback capability
  "chat.checkpoints.enabled": true,
  
  // Git branch protection (prevent accidental commits to main)
  "git.branchProtection": ["main", "master", "release/*"],
  "git.branchProtectionPrompt": "always",
  
  // Reduce other confirmation prompts
  "files.autoSave": "afterDelay",
  "files.autoSaveDelay": 500,
  "explorer.confirmDelete": false,
  "explorer.confirmDragAndDrop": false,
  "window.confirmBeforeClose": "never",

  // TypeScript settings
  "typescript.tsdk": "node_modules/typescript/lib",
  "typescript.enablePromptUseWorkspaceTsdk": true,
  "github-actions.workflows.pinned.workflows": [
    ".github/workflows/webpack.yml"
  ],
  "codium.codeCompletion.enable": true
}
