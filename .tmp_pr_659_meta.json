{"additions":699,"baseRefName":"main","body":"## Summary\n\nThis PR fixes critical superadmin page issues and standardizes dropdown widths.\n\n###  Critical Fix: Branding API 500 Error\n**Root Cause Found & Fixed:** The \\^GuditPlugin\\ was setting \\createdBy\\/\\updatedBy\\/\\changedBy\\ to the string \\'SYSTEM'\\ when no user context was available. These fields are defined as \\ObjectId\\ type, causing Mongoose \\CastError\\.\n\n**Fix:** \n- Use \\Types.ObjectId.isValid()\\ before casting\n- Use \\\new Types.ObjectId()\\ for proper type casting\n- For \\createdByOptional\\ models, allow undefined \\createdBy\\\n\n### API Fixes\n1. **Version API 403  FIXED**\n   - Added \\/api/system/version\\ to \\publicApiPrefixes\\ in middleware.ts\n\n2. **Branding API 500  FIXED**\n   - Fixed ObjectId type casting in auditPlugin\n   - Enhanced error logging for debugging\n\n### UI Fixes\n- Standardized dropdown filter widths to \\w-[120px]\\ across 15 files\n\n## Files Changed\n- \\server/plugins/auditPlugin.ts\\ - ObjectId type casting fix\n- \\middleware.ts\\ - Added \\/api/system/version\\ to public routes\n- \\^Gpp/api/superadmin/branding/route.ts\\ - Improved error logging\n- 15 UI component files - Dropdown width standardization\n\n## Testing Instructions\n1. **Restart dev server** to pick up changes\n2. Navigate to \\/superadmin/system\\\n3. Verify branding settings load successfully\n4. Verify logo preview shows correctly\n\n## Verification\n- [x] \\pnpm typecheck\\ - 0 errors\n- [x] \\pnpm lint\\ - 0 errors\n- [x] Pre-commit hooks pass\n- [x] Agent token in commits: [AGENT-0008]","deletions":154,"headRefName":"fix/dropdown-width-standardization","mergeable":"MERGEABLE","number":659,"statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:54Z","conclusion":"FAILURE","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374571/job/59409667858","name":"gates","startedAt":"2026-01-04T15:49:37Z","status":"COMPLETED","workflowName":"Fixzit Quality Gates"},{"__typename":"CheckRun","completedAt":"0001-01-01T00:00:00Z","conclusion":"","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374589/job/59409667872","name":"qa","startedAt":"2026-01-04T15:50:01Z","status":"IN_PROGRESS","workflowName":"QA"},{"__typename":"CheckRun","completedAt":"0001-01-01T00:00:00Z","conclusion":"","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374559/job/59409676430","name":"test","startedAt":"2026-01-04T15:50:07Z","status":"IN_PROGRESS","workflowName":"Test Runner"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:54:20Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374560/job/59409676003","name":"verify","startedAt":"2026-01-04T15:49:56Z","status":"COMPLETED","workflowName":"Agent Governor CI"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:30Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707031","name":"test-services","startedAt":"2026-01-04T15:51:49Z","status":"COMPLETED","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:13Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695373966/job/59409666162","name":"Fast Lane (Changed Files Only) (20.x)","startedAt":"2026-01-04T15:49:46Z","status":"COMPLETED","workflowName":"CI Fast Lane"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:32Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667812","name":"TypeScript Check","startedAt":"2026-01-04T15:49:47Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:58:37Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374552/job/59409671088","name":"Analyze Code (javascript)","startedAt":"2026-01-04T15:49:46Z","status":"COMPLETED","workflowName":"CodeQL Security Scanning"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:25Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374557/job/59409667783","name":"check","startedAt":"2026-01-04T15:49:47Z","status":"COMPLETED","workflowName":"Consolidation Guardrails"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:49:59Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374556/job/59409667842","name":"detect-duplicates","startedAt":"2026-01-04T15:49:34Z","status":"COMPLETED","workflowName":"Duplicate File Detection"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:44Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374549/job/59409667809","name":"Lint Production Code","startedAt":"2026-01-04T15:50:33Z","status":"COMPLETED","workflowName":"ESLint Production Code Quality"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:45Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374563/job/59409676153","name":"mongo-unwrap-typecheck","startedAt":"2026-01-04T15:50:01Z","status":"COMPLETED","workflowName":"Mongo Unwrap + Typecheck"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:55:33Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374573/job/59409676174","name":"build (20.x)","startedAt":"2026-01-04T15:49:53Z","status":"COMPLETED","workflowName":"Next.js CI Build"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:05Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374564/job/59409675894","name":"Validate Production Environment Configuration","startedAt":"2026-01-04T15:50:26Z","status":"COMPLETED","workflowName":"Production Environment Validation"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:06Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374548/job/59409667797","name":"portability","startedAt":"2026-01-04T15:49:56Z","status":"COMPLETED","workflowName":"Repo portability"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:25Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374579/job/59409667890","name":"route-quality","startedAt":"2026-01-04T15:49:34Z","status":"COMPLETED","workflowName":"Route Quality"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:49:51Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374551/job/59409667803","name":"Scan for exposed secrets","startedAt":"2026-01-04T15:49:33Z","status":"COMPLETED","workflowName":"Secret Scanning"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:25Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374575/job/59409667867","name":"npm Security Audit","startedAt":"2026-01-04T15:50:56Z","status":"COMPLETED","workflowName":"Security Audit"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:54Z","conclusion":"SKIPPED","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374571/job/59409718699","name":"rbac-e2e","startedAt":"2026-01-04T15:50:55Z","status":"COMPLETED","workflowName":"Fixzit Quality Gates"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:54:07Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707020","name":"test-api","startedAt":"2026-01-04T15:52:07Z","status":"COMPLETED","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:50:47Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667810","name":"ESLint","startedAt":"2026-01-04T15:49:46Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:17Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374549/job/59409667805","name":"Lint Scripts & Tools (Non-blocking)","startedAt":"2026-01-04T15:50:31Z","status":"COMPLETED","workflowName":"ESLint Production Code Quality"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:06Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374575/job/59409667870","name":"Secret Scanning","startedAt":"2026-01-04T15:51:27Z","status":"COMPLETED","workflowName":"Security Audit"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:36Z","conclusion":"CANCELLED","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667833","name":"Tests (Server) (1/4)","startedAt":"2026-01-04T15:50:48Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:54:58Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707030","name":"test-unit","startedAt":"2026-01-04T15:52:07Z","status":"COMPLETED","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:49:54Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374549/job/59409667806","name":"Security Scan (Hard-coded URIs)","startedAt":"2026-01-04T15:49:46Z","status":"COMPLETED","workflowName":"ESLint Production Code Quality"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:49:54Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374575/job/59409667875","name":"Dependency Review","startedAt":"2026-01-04T15:49:47Z","status":"COMPLETED","workflowName":"Security Audit"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:34Z","conclusion":"FAILURE","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667829","name":"Tests (Server) (2/4)","startedAt":"2026-01-04T15:50:47Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:20Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667835","name":"Tests (Server) (3/4)","startedAt":"2026-01-04T15:50:35Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:48Z","conclusion":"CANCELLED","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667839","name":"Tests (Server) (4/4)","startedAt":"2026-01-04T15:51:18Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:53:29Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707018","name":"typecheck","startedAt":"2026-01-04T15:51:47Z","status":"COMPLETED","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:23Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667811","name":"Tests (Client) (1/2)","startedAt":"2026-01-04T15:50:27Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:32Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667827","name":"Tests (Client) (2/2)","startedAt":"2026-01-04T15:50:41Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:53:29Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707006","name":"lint","startedAt":"2026-01-04T15:51:15Z","status":"COMPLETED","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:51:14Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409667808","name":"Tests (Models)","startedAt":"2026-01-04T15:50:39Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:52:55Z","conclusion":"FAILURE","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374555/job/59409773800","name":"CI Summary","startedAt":"2026-01-04T15:52:51Z","status":"COMPLETED","workflowName":"CI Full Suite"},{"__typename":"CheckRun","completedAt":"0001-01-01T00:00:00Z","conclusion":"","detailsUrl":"https://github.com/EngSayh/Fixzit/actions/runs/20695374569/job/59409707008","name":"qa-bundle","startedAt":"2026-01-04T15:51:33Z","status":"IN_PROGRESS","workflowName":"CI - Sharded Tests"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:58:31Z","conclusion":"FAILURE","detailsUrl":"https://github.com/EngSayh/Fixzit/runs/59409916077","name":"CodeQL","startedAt":"2026-01-04T15:58:27Z","status":"COMPLETED","workflowName":""},{"__typename":"CheckRun","completedAt":"2026-01-04T15:49:29Z","conclusion":"NEUTRAL","detailsUrl":"https://vercel.com/github","name":"Vercel Agent Review","startedAt":"2026-01-04T15:49:29Z","status":"COMPLETED","workflowName":""},{"__typename":"StatusContext","context":"CodeRabbit","startedAt":"2026-01-04T15:54:24Z","state":"SUCCESS","targetUrl":""},{"__typename":"StatusContext","context":"Vercel","startedAt":"2026-01-04T15:58:46Z","state":"SUCCESS","targetUrl":"https://vercel.com/fixzit/fixzit/AXe2pCy2ge5C42mvQvesQKD6Em48"},{"__typename":"CheckRun","completedAt":"2026-01-04T15:58:46Z","conclusion":"SUCCESS","detailsUrl":"https://vercel.com/github","name":"Vercel Preview Comments","startedAt":"2026-01-04T15:58:46Z","status":"COMPLETED","workflowName":""}],"title":"fix(ui+api): Dropdown width standardization + superadmin API fixes [AGENT-0008]"}
